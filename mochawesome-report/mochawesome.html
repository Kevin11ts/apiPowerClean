<!doctype html>
<html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Mochawesome Report</title><link rel="stylesheet" href="assets\app.css"/></head><body data-raw="{&quot;stats&quot;:{&quot;suites&quot;:65,&quot;tests&quot;:106,&quot;passes&quot;:106,&quot;pending&quot;:0,&quot;failures&quot;:0,&quot;start&quot;:&quot;2024-12-05T03:22:47.489Z&quot;,&quot;end&quot;:&quot;2024-12-05T03:22:48.549Z&quot;,&quot;duration&quot;:1060,&quot;testsRegistered&quot;:106,&quot;passPercent&quot;:100,&quot;pendingPercent&quot;:0,&quot;other&quot;:0,&quot;hasOther&quot;:false,&quot;skipped&quot;:0,&quot;hasSkipped&quot;:false},&quot;results&quot;:[{&quot;uuid&quot;:&quot;cf44bf2f-1deb-4106-af76-c333b0f62b39&quot;,&quot;title&quot;:&quot;&quot;,&quot;fullFile&quot;:&quot;&quot;,&quot;file&quot;:&quot;&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;fdc27695-77e0-4053-874d-f460649a77a0&quot;,&quot;title&quot;:&quot;Pruebas del controlador de clientes&quot;,&quot;fullFile&quot;:&quot;D:\\4toCuatri\\DOCKER\\powerclean\\tests\\clienteControlador.test.js&quot;,&quot;file&quot;:&quot;\\tests\\clienteControlador.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after each\&quot; hook in \&quot;Pruebas del controlador de clientes\&quot;&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de clientes \&quot;after each\&quot; hook in \&quot;Pruebas del controlador de clientes\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9dac632b-1665-419a-9449-8c6b349a01eb&quot;,&quot;parentUUID&quot;:&quot;fdc27695-77e0-4053-874d-f460649a77a0&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;34bef2df-e4a3-410e-b66d-4e93b3d85cb8&quot;,&quot;title&quot;:&quot;Método GET: Obtiene todos los clientes&quot;,&quot;fullFile&quot;:&quot;D:\\4toCuatri\\DOCKER\\powerclean\\tests\\clienteControlador.test.js&quot;,&quot;file&quot;:&quot;\\tests\\clienteControlador.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Debería obtener todos los clientes exitosamente&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de clientes Método GET: Obtiene todos los clientes Debería obtener todos los clientes exitosamente&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const mockClientes = [\n    { id: 1, nombre: &#x27;Juan&#x27;, apellido: &#x27;Pérez&#x27; },\n    { id: 2, nombre: &#x27;Ana&#x27;, apellido: &#x27;López&#x27; }\n];\nsinon.stub(Cliente, &#x27;findAll&#x27;).resolves(mockClientes);\nconst req = {};\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait ClienteController.getAllClientes(req, res);\nexpect(res.status.calledWith(200)).to.be.true;\nexpect(res.json.calledWith({\n    code: 200,\n    message: &#x27;Operación exitosa&#x27;,\n    data: mockClientes\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1c60b63c-3cd0-4520-8cea-37dc5f0e949f&quot;,&quot;parentUUID&quot;:&quot;34bef2df-e4a3-410e-b66d-4e93b3d85cb8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Debería manejar errores al obtener los clientes&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de clientes Método GET: Obtiene todos los clientes Debería manejar errores al obtener los clientes&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.stub(Cliente, &#x27;findAll&#x27;).rejects(new Error(&#x27;Error de base de datos&#x27;));\nconst req = {};\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait ClienteController.getAllClientes(req, res);\nexpect(res.status.calledWith(500)).to.be.true;\nexpect(res.json.calledWith({\n    code: 500,\n    message: &#x27;Error de base de datos&#x27;,\n    data: null\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;49e77a86-9b9f-4c69-bb6c-985755e21be2&quot;,&quot;parentUUID&quot;:&quot;34bef2df-e4a3-410e-b66d-4e93b3d85cb8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;1c60b63c-3cd0-4520-8cea-37dc5f0e949f&quot;,&quot;49e77a86-9b9f-4c69-bb6c-985755e21be2&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:4,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;30ea4148-4b25-41af-957e-ad5144241185&quot;,&quot;title&quot;:&quot;Método GET: Buscar clientes por todos los parámetros&quot;,&quot;fullFile&quot;:&quot;D:\\4toCuatri\\DOCKER\\powerclean\\tests\\clienteControlador.test.js&quot;,&quot;file&quot;:&quot;\\tests\\clienteControlador.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Debería buscar clientes exitosamente&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de clientes Método GET: Buscar clientes por todos los parámetros Debería buscar clientes exitosamente&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const searchString = &#x27;Juan&#x27;;\nconst mockClientes = [{ id: 1, nombre: &#x27;Juan&#x27;, apellido: &#x27;Pérez&#x27; }];\nsinon.stub(Cliente, &#x27;searchAllColumns&#x27;).resolves(mockClientes);\nconst req = { params: { q: searchString } };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait ClienteController.searchAllColumns(req, res);\nexpect(res.status.calledWith(200)).to.be.true;\nexpect(res.json.calledWith({\n    code: 200,\n    message: &#x27;Operación exitosa&#x27;,\n    data: mockClientes\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d8058952-63d2-4342-88fc-e2f9fab7be97&quot;,&quot;parentUUID&quot;:&quot;30ea4148-4b25-41af-957e-ad5144241185&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Debería devolver un error si el parámetro \&quot;q\&quot; es obligatorio&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de clientes Método GET: Buscar clientes por todos los parámetros Debería devolver un error si el parámetro \&quot;q\&quot; es obligatorio&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const req = { params: {} };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait ClienteController.searchAllColumns(req, res);\nexpect(res.status.calledWith(400)).to.be.true;\nexpect(res.json.calledWith({\n    code: 400,\n    message: \&quot;El parámetro &#x27;q&#x27; es obligatorio\&quot;,\n    data: null\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;12007401-699b-4954-93b2-5e118cd21739&quot;,&quot;parentUUID&quot;:&quot;30ea4148-4b25-41af-957e-ad5144241185&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;d8058952-63d2-4342-88fc-e2f9fab7be97&quot;,&quot;12007401-699b-4954-93b2-5e118cd21739&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;99a77c76-1dce-47d5-91f0-c8fc2024125d&quot;,&quot;title&quot;:&quot;Método POST: Crea un nuevo cliente&quot;,&quot;fullFile&quot;:&quot;D:\\4toCuatri\\DOCKER\\powerclean\\tests\\clienteControlador.test.js&quot;,&quot;file&quot;:&quot;\\tests\\clienteControlador.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Debería crear un cliente exitosamente&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de clientes Método POST: Crea un nuevo cliente Debería crear un cliente exitosamente&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const nuevoCliente = { id: 1, nombre: &#x27;Carlos&#x27;, apellido: &#x27;Sánchez&#x27; };\nsinon.stub(Cliente, &#x27;create&#x27;).resolves(nuevoCliente);\nconst req = { body: { nombre: &#x27;Carlos&#x27;, apellido: &#x27;Sánchez&#x27; } };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait ClienteController.createCliente(req, res);\nexpect(res.status.calledWith(201)).to.be.true;\nexpect(res.json.calledWith({\n    code: 201,\n    message: &#x27;Cliente creado exitosamente&#x27;,\n    data: nuevoCliente\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4b91d4ef-bd6b-400b-ac28-c40a6a37f3cc&quot;,&quot;parentUUID&quot;:&quot;99a77c76-1dce-47d5-91f0-c8fc2024125d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Debería manejar errores al crear un cliente&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de clientes Método POST: Crea un nuevo cliente Debería manejar errores al crear un cliente&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.stub(Cliente, &#x27;create&#x27;).rejects(new Error(&#x27;Error al crear el cliente&#x27;));\nconst req = { body: { nombre: &#x27;Carlos&#x27;, apellido: &#x27;Sánchez&#x27; } };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait ClienteController.createCliente(req, res);\nexpect(res.status.calledWith(500)).to.be.true;\nexpect(res.json.calledWith({\n    code: 500,\n    message: &#x27;Error al crear el cliente&#x27;,\n    data: null\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;25e1ec3c-032c-4606-b2e6-e75db374285f&quot;,&quot;parentUUID&quot;:&quot;99a77c76-1dce-47d5-91f0-c8fc2024125d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;4b91d4ef-bd6b-400b-ac28-c40a6a37f3cc&quot;,&quot;25e1ec3c-032c-4606-b2e6-e75db374285f&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;b40a75bb-ccae-43e9-b570-dc16b7b0545a&quot;,&quot;title&quot;:&quot;Método GET: Obtiene un cliente por ID&quot;,&quot;fullFile&quot;:&quot;D:\\4toCuatri\\DOCKER\\powerclean\\tests\\clienteControlador.test.js&quot;,&quot;file&quot;:&quot;\\tests\\clienteControlador.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Debería obtener un cliente por ID exitosamente&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de clientes Método GET: Obtiene un cliente por ID Debería obtener un cliente por ID exitosamente&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const mockCliente = { id: 1, nombre: &#x27;Juan&#x27;, apellido: &#x27;Pérez&#x27; };\nsinon.stub(Cliente, &#x27;findById&#x27;).resolves(mockCliente);\nconst req = { params: { id: &#x27;1&#x27; } };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait ClienteController.getClienteById(req, res);\nexpect(res.status.calledWith(200)).to.be.true;\nexpect(res.json.calledWith({\n    code: 200,\n    message: &#x27;Operación exitosa&#x27;,\n    data: mockCliente\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;57843687-f0c9-4b27-9548-5ca6260833ba&quot;,&quot;parentUUID&quot;:&quot;b40a75bb-ccae-43e9-b570-dc16b7b0545a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Debería devolver un error 404 si el cliente no existe&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de clientes Método GET: Obtiene un cliente por ID Debería devolver un error 404 si el cliente no existe&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.stub(Cliente, &#x27;findById&#x27;).resolves(null);\nconst req = { params: { id: &#x27;999&#x27; } };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait ClienteController.getClienteById(req, res);\nexpect(res.status.calledWith(404)).to.be.true;\nexpect(res.json.calledWith({\n    code: 404,\n    message: &#x27;Cliente no encontrado&#x27;,\n    data: null\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d9f0ef16-6396-42b8-b0a2-146e9569577a&quot;,&quot;parentUUID&quot;:&quot;b40a75bb-ccae-43e9-b570-dc16b7b0545a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;57843687-f0c9-4b27-9548-5ca6260833ba&quot;,&quot;d9f0ef16-6396-42b8-b0a2-146e9569577a&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:3,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;b74b04bc-aa1c-4e2c-bf50-ea5a4b626fa3&quot;,&quot;title&quot;:&quot;Método PUT: Actualiza un cliente&quot;,&quot;fullFile&quot;:&quot;D:\\4toCuatri\\DOCKER\\powerclean\\tests\\clienteControlador.test.js&quot;,&quot;file&quot;:&quot;\\tests\\clienteControlador.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Debería actualizar un cliente exitosamente&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de clientes Método PUT: Actualiza un cliente Debería actualizar un cliente exitosamente&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const clienteActualizado = { id: 1, nombre: &#x27;Juan&#x27;, apellido: &#x27;Pérez&#x27; };\nsinon.stub(Cliente, &#x27;update&#x27;).resolves(clienteActualizado);\nconst req = { params: { id: &#x27;1&#x27; }, body: { nombre: &#x27;Juan&#x27;, apellido: &#x27;Pérez&#x27; } };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait ClienteController.updateCliente(req, res);\nexpect(res.status.calledWith(200)).to.be.true;\nexpect(res.json.calledWith({\n    code: 200,\n    message: &#x27;Cliente actualizado exitosamente&#x27;,\n    data: clienteActualizado\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;357b05d6-90fa-4436-a832-66ca097347c2&quot;,&quot;parentUUID&quot;:&quot;b74b04bc-aa1c-4e2c-bf50-ea5a4b626fa3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Debería devolver un error 404 si el cliente no existe&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de clientes Método PUT: Actualiza un cliente Debería devolver un error 404 si el cliente no existe&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.stub(Cliente, &#x27;update&#x27;).resolves(null);\nconst req = { params: { id: &#x27;999&#x27; }, body: { nombre: &#x27;Juan&#x27;, apellido: &#x27;Pérez&#x27; } };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait ClienteController.updateCliente(req, res);\nexpect(res.status.calledWith(404)).to.be.true;\nexpect(res.json.calledWith({\n    code: 404,\n    message: &#x27;Cliente no encontrado&#x27;,\n    data: null\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ba2e391c-2362-4689-b736-e6af8785027d&quot;,&quot;parentUUID&quot;:&quot;b74b04bc-aa1c-4e2c-bf50-ea5a4b626fa3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;357b05d6-90fa-4436-a832-66ca097347c2&quot;,&quot;ba2e391c-2362-4689-b736-e6af8785027d&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:4,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;a5188c16-0660-4628-a0dd-9c1b4ebb7643&quot;,&quot;title&quot;:&quot;Método DELETE: Elimina un cliente&quot;,&quot;fullFile&quot;:&quot;D:\\4toCuatri\\DOCKER\\powerclean\\tests\\clienteControlador.test.js&quot;,&quot;file&quot;:&quot;\\tests\\clienteControlador.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Debería eliminar un cliente exitosamente&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de clientes Método DELETE: Elimina un cliente Debería eliminar un cliente exitosamente&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const clienteEliminado = { id: 1, nombre: &#x27;Juan&#x27;, apellido: &#x27;Pérez&#x27; };\nsinon.stub(Cliente, &#x27;delete&#x27;).resolves(clienteEliminado);\nconst req = { params: { id: &#x27;1&#x27; } };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait ClienteController.deleteCliente(req, res);\nexpect(res.status.calledWith(200)).to.be.true;\nexpect(res.json.calledWith({\n    code: 200,\n    message: &#x27;Cliente eliminado exitosamente&#x27;,\n    data: null\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f996e7a6-01cd-4048-a95e-41bcfdf1b66a&quot;,&quot;parentUUID&quot;:&quot;a5188c16-0660-4628-a0dd-9c1b4ebb7643&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Debería devolver un error 404 si el cliente no existe&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de clientes Método DELETE: Elimina un cliente Debería devolver un error 404 si el cliente no existe&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.stub(Cliente, &#x27;delete&#x27;).resolves(false);\nconst req = { params: { id: &#x27;999&#x27; } };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait ClienteController.deleteCliente(req, res);\nexpect(res.status.calledWith(404)).to.be.true;\nexpect(res.json.calledWith({\n    code: 404,\n    message: &#x27;Cliente no encontrado&#x27;,\n    data: null\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b718afa8-06e5-4b27-bae6-bd3ff534eb0f&quot;,&quot;parentUUID&quot;:&quot;a5188c16-0660-4628-a0dd-9c1b4ebb7643&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;f996e7a6-01cd-4048-a95e-41bcfdf1b66a&quot;,&quot;b718afa8-06e5-4b27-bae6-bd3ff534eb0f&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;8674e176-bd25-499e-9a76-993aa25bbc22&quot;,&quot;title&quot;:&quot;Método GET: Descargar clientes en formato Excel&quot;,&quot;fullFile&quot;:&quot;D:\\4toCuatri\\DOCKER\\powerclean\\tests\\clienteControlador.test.js&quot;,&quot;file&quot;:&quot;\\tests\\clienteControlador.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Debería generar y descargar el archivo Excel exitosamente&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de clientes Método GET: Descargar clientes en formato Excel Debería generar y descargar el archivo Excel exitosamente&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const mockClientes = [\n    { id: 1, nombre: &#x27;Juan&#x27;, apellido: &#x27;Pérez&#x27; },\n    { id: 2, nombre: &#x27;Ana&#x27;, apellido: &#x27;López&#x27; }\n];\nsinon.stub(Cliente, &#x27;generarExcel&#x27;).resolves(mockClientes);\nsinon.stub(excel, &#x27;write&#x27;).returns(Buffer.from(&#x27;test&#x27;));\nconst req = {};\nconst res = {\n    status: sinon.stub().returnsThis(),\n    setHeader: sinon.stub(),\n    send: sinon.stub()\n};\nawait ClienteController.downloadClientesExcel(req, res);\nexpect(res.setHeader.calledWith(&#x27;Content-Disposition&#x27;, &#x27;attachment; filename=clientes.xlsx&#x27;)).to.be.true;\nexpect(res.setHeader.calledWith(&#x27;Content-Type&#x27;, &#x27;application/vnd.openxmlformats-officedocument.spreadsheetml.sheet&#x27;)).to.be.true;\nexpect(res.send.calledOnce).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c6bf78cd-473e-477c-ae7e-5527a3812dc7&quot;,&quot;parentUUID&quot;:&quot;8674e176-bd25-499e-9a76-993aa25bbc22&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Debería manejar errores al generar el archivo Excel&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de clientes Método GET: Descargar clientes en formato Excel Debería manejar errores al generar el archivo Excel&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.stub(Cliente, &#x27;generarExcel&#x27;).rejects(new Error(&#x27;Error al generar el archivo Excel&#x27;));\nconst req = {};\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait ClienteController.downloadClientesExcel(req, res);\nexpect(res.status.calledWith(500)).to.be.true;\nexpect(res.json.calledWith({\n    code: 500,\n    message: &#x27;Error al generar el archivo Excel.&#x27;,\n    data: null\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7aeefe94-4623-4192-8d93-810ac73f51f6&quot;,&quot;parentUUID&quot;:&quot;8674e176-bd25-499e-9a76-993aa25bbc22&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;c6bf78cd-473e-477c-ae7e-5527a3812dc7&quot;,&quot;7aeefe94-4623-4192-8d93-810ac73f51f6&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:13,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;225375f7-c960-4663-817e-fb53f5d046b0&quot;,&quot;title&quot;:&quot;Pruebas del controlador de detalle de ventas&quot;,&quot;fullFile&quot;:&quot;D:\\4toCuatri\\DOCKER\\powerclean\\tests\\detalleVentaControlador.test.js&quot;,&quot;file&quot;:&quot;\\tests\\detalleVentaControlador.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after each\&quot; hook in \&quot;Pruebas del controlador de detalle de ventas\&quot;&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de detalle de ventas \&quot;after each\&quot; hook in \&quot;Pruebas del controlador de detalle de ventas\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3469daf4-1a17-48ce-975f-6ba98ea9bdf2&quot;,&quot;parentUUID&quot;:&quot;225375f7-c960-4663-817e-fb53f5d046b0&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;fd0da9b0-9c0b-4df8-8a03-4e4152d63d71&quot;,&quot;title&quot;:&quot;Método GET: Obtiene todos los detalles de ventas&quot;,&quot;fullFile&quot;:&quot;D:\\4toCuatri\\DOCKER\\powerclean\\tests\\detalleVentaControlador.test.js&quot;,&quot;file&quot;:&quot;\\tests\\detalleVentaControlador.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Debería obtener todos los detalles de ventas exitosamente&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de detalle de ventas Método GET: Obtiene todos los detalles de ventas Debería obtener todos los detalles de ventas exitosamente&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const mockDetalleVentas = [\n    { id: 1, producto: &#x27;Producto 1&#x27;, cantidad: 10 },\n    { id: 2, producto: &#x27;Producto 2&#x27;, cantidad: 20 }\n];\nsinon.stub(DetalleVenta, &#x27;findAll&#x27;).resolves(mockDetalleVentas);\nconst req = {};\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait DetalleVentaController.getAllDetalleVentas(req, res);\nexpect(res.status.calledWith(200)).to.be.true;\nexpect(res.json.calledWith({\n    code: 200,\n    message: &#x27;Operación exitosa&#x27;,\n    data: mockDetalleVentas\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2f597c5f-889c-426b-86de-c267a8d69cae&quot;,&quot;parentUUID&quot;:&quot;fd0da9b0-9c0b-4df8-8a03-4e4152d63d71&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Debería manejar errores al obtener los detalles de ventas&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de detalle de ventas Método GET: Obtiene todos los detalles de ventas Debería manejar errores al obtener los detalles de ventas&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.stub(DetalleVenta, &#x27;findAll&#x27;).rejects(new Error(&#x27;Error de base de datos&#x27;));\nconst req = {};\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait DetalleVentaController.getAllDetalleVentas(req, res);\nexpect(res.status.calledWith(500)).to.be.true;\nexpect(res.json.calledWith({\n    code: 500,\n    message: &#x27;Error de base de datos&#x27;,\n    data: null\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;09d8bd3a-6bd5-4e3a-a2ee-3d1286ebef14&quot;,&quot;parentUUID&quot;:&quot;fd0da9b0-9c0b-4df8-8a03-4e4152d63d71&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;2f597c5f-889c-426b-86de-c267a8d69cae&quot;,&quot;09d8bd3a-6bd5-4e3a-a2ee-3d1286ebef14&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;706bc7fa-ced7-471c-a6df-08605c30a2dd&quot;,&quot;title&quot;:&quot;Método GET: Buscar detalles de ventas por todos los parámetros&quot;,&quot;fullFile&quot;:&quot;D:\\4toCuatri\\DOCKER\\powerclean\\tests\\detalleVentaControlador.test.js&quot;,&quot;file&quot;:&quot;\\tests\\detalleVentaControlador.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Debería buscar detalles de ventas exitosamente&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de detalle de ventas Método GET: Buscar detalles de ventas por todos los parámetros Debería buscar detalles de ventas exitosamente&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const searchString = &#x27;Producto 1&#x27;;\nconst mockDetalleVentas = [{ id: 1, producto: &#x27;Producto 1&#x27;, cantidad: 10 }];\nsinon.stub(DetalleVenta, &#x27;searchAllColumns&#x27;).resolves(mockDetalleVentas);\nconst req = { params: { q: searchString } };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait DetalleVentaController.searchAllColumnsDetalleVentas(req, res);\nexpect(res.status.calledWith(200)).to.be.true;\nexpect(res.json.calledWith({\n    code: 200,\n    message: &#x27;Operación exitosa&#x27;,\n    data: mockDetalleVentas\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4c4052c2-a67c-47c3-bf1c-57204389a925&quot;,&quot;parentUUID&quot;:&quot;706bc7fa-ced7-471c-a6df-08605c30a2dd&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Debería devolver un error si el parámetro \&quot;q\&quot; es obligatorio&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de detalle de ventas Método GET: Buscar detalles de ventas por todos los parámetros Debería devolver un error si el parámetro \&quot;q\&quot; es obligatorio&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const req = { params: {} };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait DetalleVentaController.searchAllColumnsDetalleVentas(req, res);\nexpect(res.status.calledWith(400)).to.be.true;\nexpect(res.json.calledWith({\n    code: 400,\n    message: \&quot;El parámetro &#x27;q&#x27; es obligatorio\&quot;,\n    data: null\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2261b3ed-9cbb-4abc-a089-d3bce45fbf32&quot;,&quot;parentUUID&quot;:&quot;706bc7fa-ced7-471c-a6df-08605c30a2dd&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;4c4052c2-a67c-47c3-bf1c-57204389a925&quot;,&quot;2261b3ed-9cbb-4abc-a089-d3bce45fbf32&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;28670020-a27c-4b4e-ae4d-3c1b43b70b7e&quot;,&quot;title&quot;:&quot;Método POST: Crea un nuevo detalle de venta&quot;,&quot;fullFile&quot;:&quot;D:\\4toCuatri\\DOCKER\\powerclean\\tests\\detalleVentaControlador.test.js&quot;,&quot;file&quot;:&quot;\\tests\\detalleVentaControlador.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Debería crear un detalle de venta exitosamente&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de detalle de ventas Método POST: Crea un nuevo detalle de venta Debería crear un detalle de venta exitosamente&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const nuevoDetalleVenta = { id: 1, producto: &#x27;Producto 1&#x27;, cantidad: 10 };\nsinon.stub(DetalleVenta, &#x27;create&#x27;).resolves(nuevoDetalleVenta);\nconst req = { body: { producto: &#x27;Producto 1&#x27;, cantidad: 10 } };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait DetalleVentaController.createDetalleVenta(req, res);\nexpect(res.status.calledWith(201)).to.be.true;\nexpect(res.json.calledWith({\n    code: 201,\n    message: &#x27;El detalle de venta fue creado exitosamente&#x27;,\n    data: nuevoDetalleVenta\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e62d9784-17a1-4e8c-8a66-ae56560411b4&quot;,&quot;parentUUID&quot;:&quot;28670020-a27c-4b4e-ae4d-3c1b43b70b7e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Debería manejar errores al crear un detalle de venta&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de detalle de ventas Método POST: Crea un nuevo detalle de venta Debería manejar errores al crear un detalle de venta&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.stub(DetalleVenta, &#x27;create&#x27;).rejects(new Error(&#x27;Error al crear el detalle de venta&#x27;));\nconst req = { body: { producto: &#x27;Producto 1&#x27;, cantidad: 10 } };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait DetalleVentaController.createDetalleVenta(req, res);\nexpect(res.status.calledWith(500)).to.be.true;\nexpect(res.json.calledWith({\n    code: 500,\n    message: &#x27;Error al crear el detalle de venta&#x27;,\n    data: null\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ab001ead-8c7b-480d-b0ab-8c5baa61c597&quot;,&quot;parentUUID&quot;:&quot;28670020-a27c-4b4e-ae4d-3c1b43b70b7e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;e62d9784-17a1-4e8c-8a66-ae56560411b4&quot;,&quot;ab001ead-8c7b-480d-b0ab-8c5baa61c597&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;6ee6098f-56b3-4bb0-82e3-1a19b1753789&quot;,&quot;title&quot;:&quot;Método GET: Obtiene un detalle de venta por ID&quot;,&quot;fullFile&quot;:&quot;D:\\4toCuatri\\DOCKER\\powerclean\\tests\\detalleVentaControlador.test.js&quot;,&quot;file&quot;:&quot;\\tests\\detalleVentaControlador.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Debería obtener un detalle de venta por ID exitosamente&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de detalle de ventas Método GET: Obtiene un detalle de venta por ID Debería obtener un detalle de venta por ID exitosamente&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const mockDetalleVenta = { id: 1, producto: &#x27;Producto 1&#x27;, cantidad: 10 };\nsinon.stub(DetalleVenta, &#x27;findById&#x27;).resolves(mockDetalleVenta);\nconst req = { params: { id: &#x27;1&#x27; } };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait DetalleVentaController.getDetalleVentaById(req, res);\nexpect(res.status.calledWith(200)).to.be.true;\nexpect(res.json.calledWith({\n    code: 200,\n    message: &#x27;Operación exitosa&#x27;,\n    data: mockDetalleVenta\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e292431f-4215-4db7-a53c-5f5ebb41bf0f&quot;,&quot;parentUUID&quot;:&quot;6ee6098f-56b3-4bb0-82e3-1a19b1753789&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Debería devolver un error 404 si el detalle de venta no existe&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de detalle de ventas Método GET: Obtiene un detalle de venta por ID Debería devolver un error 404 si el detalle de venta no existe&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.stub(DetalleVenta, &#x27;findById&#x27;).resolves(null);\nconst req = { params: { id: &#x27;999&#x27; } };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait DetalleVentaController.getDetalleVentaById(req, res);\nexpect(res.status.calledWith(404)).to.be.true;\nexpect(res.json.calledWith({\n    code: 404,\n    message: &#x27;Detalle de venta no encontrado&#x27;,\n    data: null\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9757431c-f410-4900-a210-181d088ccfa0&quot;,&quot;parentUUID&quot;:&quot;6ee6098f-56b3-4bb0-82e3-1a19b1753789&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;e292431f-4215-4db7-a53c-5f5ebb41bf0f&quot;,&quot;9757431c-f410-4900-a210-181d088ccfa0&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:4,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;0fdf3dcb-b239-4f3b-9ff3-0613fb6dd8be&quot;,&quot;title&quot;:&quot;Método PUT: Actualiza un detalle de venta&quot;,&quot;fullFile&quot;:&quot;D:\\4toCuatri\\DOCKER\\powerclean\\tests\\detalleVentaControlador.test.js&quot;,&quot;file&quot;:&quot;\\tests\\detalleVentaControlador.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Debería actualizar un detalle de venta exitosamente&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de detalle de ventas Método PUT: Actualiza un detalle de venta Debería actualizar un detalle de venta exitosamente&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const detalleVentaActualizado = { id: 1, producto: &#x27;Producto 1&#x27;, cantidad: 15 };\nsinon.stub(DetalleVenta, &#x27;update&#x27;).resolves(detalleVentaActualizado);\nconst req = { params: { id: &#x27;1&#x27; }, body: { producto: &#x27;Producto 1&#x27;, cantidad: 15 } };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait DetalleVentaController.updateDetalleVenta(req, res);\nexpect(res.status.calledWith(200)).to.be.true;\nexpect(res.json.calledWith({\n    code: 200,\n    message: &#x27;El Detalle de venta fue actualizado exitosamente&#x27;,\n    data: detalleVentaActualizado\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7150bcb5-4565-423a-af3e-6b465ad76b17&quot;,&quot;parentUUID&quot;:&quot;0fdf3dcb-b239-4f3b-9ff3-0613fb6dd8be&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Debería devolver un error 404 si el detalle de venta no existe&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de detalle de ventas Método PUT: Actualiza un detalle de venta Debería devolver un error 404 si el detalle de venta no existe&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.stub(DetalleVenta, &#x27;update&#x27;).resolves(null);\nconst req = { params: { id: &#x27;999&#x27; }, body: { producto: &#x27;Producto 1&#x27;, cantidad: 15 } };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait DetalleVentaController.updateDetalleVenta(req, res);\nexpect(res.status.calledWith(404)).to.be.true;\nexpect(res.json.calledWith({\n    code: 404,\n    message: &#x27;El Detalle de venta no fue encontrado&#x27;,\n    data: null\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f1998c38-5ae3-40a1-8541-a06e95761617&quot;,&quot;parentUUID&quot;:&quot;0fdf3dcb-b239-4f3b-9ff3-0613fb6dd8be&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;7150bcb5-4565-423a-af3e-6b465ad76b17&quot;,&quot;f1998c38-5ae3-40a1-8541-a06e95761617&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;4d52bd88-181f-43be-a71c-31789b246da0&quot;,&quot;title&quot;:&quot;Método DELETE: Elimina un detalle de venta&quot;,&quot;fullFile&quot;:&quot;D:\\4toCuatri\\DOCKER\\powerclean\\tests\\detalleVentaControlador.test.js&quot;,&quot;file&quot;:&quot;\\tests\\detalleVentaControlador.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Debería eliminar un detalle de venta exitosamente&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de detalle de ventas Método DELETE: Elimina un detalle de venta Debería eliminar un detalle de venta exitosamente&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const detalleVentaEliminado = { id: 1, producto: &#x27;Producto 1&#x27;, cantidad: 10 };\nsinon.stub(DetalleVenta, &#x27;delete&#x27;).resolves(detalleVentaEliminado);\nconst req = { params: { id: &#x27;1&#x27; } };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait DetalleVentaController.deleteDetalleVenta(req, res);\nexpect(res.status.calledWith(200)).to.be.true;\nexpect(res.json.calledWith({\n    code: 200,\n    message: &#x27;Detalle de venta eliminado exitosamente&#x27;,\n    data: null\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8195168c-f937-4f03-ad45-ba1762a04b13&quot;,&quot;parentUUID&quot;:&quot;4d52bd88-181f-43be-a71c-31789b246da0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Debería devolver un error 404 si el detalle de venta no existe&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de detalle de ventas Método DELETE: Elimina un detalle de venta Debería devolver un error 404 si el detalle de venta no existe&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.stub(DetalleVenta, &#x27;delete&#x27;).resolves(false);\nconst req = { params: { id: &#x27;999&#x27; } };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait DetalleVentaController.deleteDetalleVenta(req, res);\nexpect(res.status.calledWith(404)).to.be.true;\nexpect(res.json.calledWith({\n    code: 404,\n    message: &#x27;Detalle de venta no encontrado&#x27;,\n    data: null\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;30ec0c91-10e0-46de-b927-c42469d168e8&quot;,&quot;parentUUID&quot;:&quot;4d52bd88-181f-43be-a71c-31789b246da0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;8195168c-f937-4f03-ad45-ba1762a04b13&quot;,&quot;30ec0c91-10e0-46de-b927-c42469d168e8&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;82bb6a7b-40ca-43ae-951c-2a3fe0384eb9&quot;,&quot;title&quot;:&quot;Método GET: Descargar detalle de ventas en Excel&quot;,&quot;fullFile&quot;:&quot;D:\\4toCuatri\\DOCKER\\powerclean\\tests\\detalleVentaControlador.test.js&quot;,&quot;file&quot;:&quot;\\tests\\detalleVentaControlador.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Debería generar y descargar el archivo Excel exitosamente&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de detalle de ventas Método GET: Descargar detalle de ventas en Excel Debería generar y descargar el archivo Excel exitosamente&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const mockDetalleVentas = [\n    { id: 1, producto: &#x27;Producto 1&#x27;, cantidad: 10 },\n    { id: 2, producto: &#x27;Producto 2&#x27;, cantidad: 20 }\n];\nsinon.stub(DetalleVenta, &#x27;generarExcel&#x27;).resolves(mockDetalleVentas);\nsinon.stub(excel, &#x27;write&#x27;).returns(Buffer.from(&#x27;test&#x27;));\nconst req = {};\nconst res = {\n    setHeader: sinon.stub(),\n    send: sinon.stub()\n};\nawait DetalleVentaController.downloadDetalleVentasExcel(req, res);\nexpect(res.setHeader.calledWith(&#x27;Content-Disposition&#x27;, &#x27;attachment; filename=detalle_ventas.xlsx&#x27;)).to.be.true;\nexpect(res.setHeader.calledWith(&#x27;Content-Type&#x27;, &#x27;application/vnd.openxmlformats-officedocument.spreadsheetml.sheet&#x27;)).to.be.true;\nexpect(res.send.calledOnce).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;406cc3c4-8e83-430a-84f5-0d242c695405&quot;,&quot;parentUUID&quot;:&quot;82bb6a7b-40ca-43ae-951c-2a3fe0384eb9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Debería manejar errores al generar el archivo Excel&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de detalle de ventas Método GET: Descargar detalle de ventas en Excel Debería manejar errores al generar el archivo Excel&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.stub(DetalleVenta, &#x27;generarExcel&#x27;).rejects(new Error(&#x27;Error al generar el archivo Excel&#x27;));\nconst req = {};\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait DetalleVentaController.downloadDetalleVentasExcel(req, res);\nexpect(res.status.calledWith(500)).to.be.true;\nexpect(res.json.calledWith({\n    code: 500,\n    message: &#x27;Error al generar el archivo Excel.&#x27;,\n    data: null\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0a782eac-7339-4564-b240-8b00ada32c48&quot;,&quot;parentUUID&quot;:&quot;82bb6a7b-40ca-43ae-951c-2a3fe0384eb9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;406cc3c4-8e83-430a-84f5-0d242c695405&quot;,&quot;0a782eac-7339-4564-b240-8b00ada32c48&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:3,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;72b07fb7-4b2b-4a0b-a5e1-2a2bde825849&quot;,&quot;title&quot;:&quot;Pruebas del controlador de empleados&quot;,&quot;fullFile&quot;:&quot;D:\\4toCuatri\\DOCKER\\powerclean\\tests\\empleadosController.test.js&quot;,&quot;file&quot;:&quot;\\tests\\empleadosController.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after each\&quot; hook in \&quot;Pruebas del controlador de empleados\&quot;&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de empleados \&quot;after each\&quot; hook in \&quot;Pruebas del controlador de empleados\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7d57ad56-134b-4120-8bd3-b20fd8c96573&quot;,&quot;parentUUID&quot;:&quot;72b07fb7-4b2b-4a0b-a5e1-2a2bde825849&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;8d940425-2499-4d1b-acdc-bc8466cb8ad9&quot;,&quot;title&quot;:&quot;Método GET: Obtener todos los empleados&quot;,&quot;fullFile&quot;:&quot;D:\\4toCuatri\\DOCKER\\powerclean\\tests\\empleadosController.test.js&quot;,&quot;file&quot;:&quot;\\tests\\empleadosController.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Debería obtener todos los empleados exitosamente&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de empleados Método GET: Obtener todos los empleados Debería obtener todos los empleados exitosamente&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const mockEmpleados = [\n    { id: 1, nombre: &#x27;Juan&#x27;, apellido: &#x27;Pérez&#x27; },\n    { id: 2, nombre: &#x27;Ana&#x27;, apellido: &#x27;Gómez&#x27; }\n];\nsinon.stub(Empleado, &#x27;findAll&#x27;).resolves(mockEmpleados);\nconst req = {};\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait EmpleadoController.getAllEmpleados(req, res);\nexpect(res.status.calledWith(200)).to.be.true;\nexpect(res.json.calledWith({\n    code: 200,\n    message: &#x27;Operación exitosa&#x27;,\n    data: mockEmpleados\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;55f70d25-865d-4ff2-9839-b6d6d1e03560&quot;,&quot;parentUUID&quot;:&quot;8d940425-2499-4d1b-acdc-bc8466cb8ad9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Debería manejar errores al obtener los empleados&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de empleados Método GET: Obtener todos los empleados Debería manejar errores al obtener los empleados&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.stub(Empleado, &#x27;findAll&#x27;).rejects(new Error(&#x27;Error de base de datos&#x27;));\nconst req = {};\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait EmpleadoController.getAllEmpleados(req, res);\nexpect(res.status.calledWith(500)).to.be.true;\nexpect(res.json.calledWith({\n    code: 500,\n    message: &#x27;Error de base de datos&#x27;,\n    data: null\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3c1f215e-a29d-4a61-ac3a-503a421aa124&quot;,&quot;parentUUID&quot;:&quot;8d940425-2499-4d1b-acdc-bc8466cb8ad9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;55f70d25-865d-4ff2-9839-b6d6d1e03560&quot;,&quot;3c1f215e-a29d-4a61-ac3a-503a421aa124&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;9544f31e-4cdd-48f4-8f3f-82524aa58408&quot;,&quot;title&quot;:&quot;Método GET: Buscar empleados por todos los parámetros&quot;,&quot;fullFile&quot;:&quot;D:\\4toCuatri\\DOCKER\\powerclean\\tests\\empleadosController.test.js&quot;,&quot;file&quot;:&quot;\\tests\\empleadosController.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Debería buscar empleados exitosamente&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de empleados Método GET: Buscar empleados por todos los parámetros Debería buscar empleados exitosamente&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const searchString = &#x27;Juan&#x27;;\nconst mockEmpleados = [{ id: 1, nombre: &#x27;Juan&#x27;, apellido: &#x27;Pérez&#x27; }];\nsinon.stub(Empleado, &#x27;searchAllColumns&#x27;).resolves(mockEmpleados);\nconst req = { params: { q: searchString } };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait EmpleadoController.searchAllColumns(req, res);\nexpect(res.status.calledWith(200)).to.be.true;\nexpect(res.json.calledWith({\n    code: 200,\n    message: &#x27;Operación exitosa&#x27;,\n    data: mockEmpleados\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;392d3223-6d02-43c9-a6e0-8ae87ec84e46&quot;,&quot;parentUUID&quot;:&quot;9544f31e-4cdd-48f4-8f3f-82524aa58408&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Debería devolver un error si el parámetro \&quot;q\&quot; es obligatorio&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de empleados Método GET: Buscar empleados por todos los parámetros Debería devolver un error si el parámetro \&quot;q\&quot; es obligatorio&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const req = { params: {} };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait EmpleadoController.searchAllColumns(req, res);\nexpect(res.status.calledWith(400)).to.be.true;\nexpect(res.json.calledWith({\n    code: 400,\n    message: \&quot;El parámetro &#x27;q&#x27; es obligatorio\&quot;,\n    data: null\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;57d91859-14c6-41ab-90cd-4832669fd96a&quot;,&quot;parentUUID&quot;:&quot;9544f31e-4cdd-48f4-8f3f-82524aa58408&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;392d3223-6d02-43c9-a6e0-8ae87ec84e46&quot;,&quot;57d91859-14c6-41ab-90cd-4832669fd96a&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:3,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;367cb7e9-3792-4dcd-837f-d6408f5830c8&quot;,&quot;title&quot;:&quot;Método POST: Crear un nuevo empleado&quot;,&quot;fullFile&quot;:&quot;D:\\4toCuatri\\DOCKER\\powerclean\\tests\\empleadosController.test.js&quot;,&quot;file&quot;:&quot;\\tests\\empleadosController.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Debería crear un empleado exitosamente&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de empleados Método POST: Crear un nuevo empleado Debería crear un empleado exitosamente&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const nuevoEmpleado = { id: 1, nombre: &#x27;Juan&#x27;, apellido: &#x27;Pérez&#x27; };\nsinon.stub(Empleado, &#x27;create&#x27;).resolves(nuevoEmpleado);\nconst req = { body: { nombre: &#x27;Juan&#x27;, apellido: &#x27;Pérez&#x27; } };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait EmpleadoController.createEmpleado(req, res);\nexpect(res.status.calledWith(201)).to.be.true;\nexpect(res.json.calledWith({\n    code: 201,\n    message: &#x27;Empleado creado exitosamente&#x27;,\n    data: nuevoEmpleado\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3a810c24-688b-4aa2-8a14-84714497cb0d&quot;,&quot;parentUUID&quot;:&quot;367cb7e9-3792-4dcd-837f-d6408f5830c8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Debería manejar errores al crear un empleado&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de empleados Método POST: Crear un nuevo empleado Debería manejar errores al crear un empleado&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.stub(Empleado, &#x27;create&#x27;).rejects(new Error(&#x27;Error al crear el empleado&#x27;));\nconst req = { body: { nombre: &#x27;Juan&#x27;, apellido: &#x27;Pérez&#x27; } };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait EmpleadoController.createEmpleado(req, res);\nexpect(res.status.calledWith(500)).to.be.true;\nexpect(res.json.calledWith({\n    code: 500,\n    message: &#x27;Error al crear el empleado&#x27;,\n    data: null\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;52550a08-54f1-4054-b2ad-d6e8c56a690f&quot;,&quot;parentUUID&quot;:&quot;367cb7e9-3792-4dcd-837f-d6408f5830c8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;3a810c24-688b-4aa2-8a14-84714497cb0d&quot;,&quot;52550a08-54f1-4054-b2ad-d6e8c56a690f&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;3f2e719c-2304-4aca-bfff-83f291ca3244&quot;,&quot;title&quot;:&quot;Método GET: Obtener un empleado por ID&quot;,&quot;fullFile&quot;:&quot;D:\\4toCuatri\\DOCKER\\powerclean\\tests\\empleadosController.test.js&quot;,&quot;file&quot;:&quot;\\tests\\empleadosController.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Debería obtener un empleado por ID exitosamente&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de empleados Método GET: Obtener un empleado por ID Debería obtener un empleado por ID exitosamente&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const mockEmpleado = { id: 1, nombre: &#x27;Juan&#x27;, apellido: &#x27;Pérez&#x27; };\nsinon.stub(Empleado, &#x27;findById&#x27;).resolves(mockEmpleado);\nconst req = { params: { id: &#x27;1&#x27; } };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait EmpleadoController.getEmpleadoById(req, res);\nexpect(res.status.calledWith(200)).to.be.true;\nexpect(res.json.calledWith({\n    code: 200,\n    message: &#x27;Operación exitosa&#x27;,\n    data: mockEmpleado\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;aa027b5f-a9d3-4022-b099-5aaadb750849&quot;,&quot;parentUUID&quot;:&quot;3f2e719c-2304-4aca-bfff-83f291ca3244&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Debería devolver un error 404 si el empleado no existe&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de empleados Método GET: Obtener un empleado por ID Debería devolver un error 404 si el empleado no existe&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.stub(Empleado, &#x27;findById&#x27;).resolves(null);\nconst req = { params: { id: &#x27;999&#x27; } };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait EmpleadoController.getEmpleadoById(req, res);\nexpect(res.status.calledWith(404)).to.be.true;\nexpect(res.json.calledWith({\n    code: 404,\n    message: &#x27;Empleado no encontrado&#x27;,\n    data: null\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9b00ee38-d6f8-4ce0-b5c8-11a8e00c8563&quot;,&quot;parentUUID&quot;:&quot;3f2e719c-2304-4aca-bfff-83f291ca3244&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;aa027b5f-a9d3-4022-b099-5aaadb750849&quot;,&quot;9b00ee38-d6f8-4ce0-b5c8-11a8e00c8563&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:3,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;35b71b2b-181a-4fc6-a648-f5d833951c11&quot;,&quot;title&quot;:&quot;Método PUT: Actualizar un empleado&quot;,&quot;fullFile&quot;:&quot;D:\\4toCuatri\\DOCKER\\powerclean\\tests\\empleadosController.test.js&quot;,&quot;file&quot;:&quot;\\tests\\empleadosController.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Debería actualizar un empleado exitosamente&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de empleados Método PUT: Actualizar un empleado Debería actualizar un empleado exitosamente&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const empleadoActualizado = { id: 1, nombre: &#x27;Juan&#x27;, apellido: &#x27;Pérez&#x27; };\nsinon.stub(Empleado, &#x27;update&#x27;).resolves(empleadoActualizado);\nconst req = { params: { id: &#x27;1&#x27; }, body: { nombre: &#x27;Juan&#x27;, apellido: &#x27;Pérez&#x27; } };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait EmpleadoController.updateEmpleado(req, res);\nexpect(res.status.calledWith(200)).to.be.true;\nexpect(res.json.calledWith({\n    code: 200,\n    message: &#x27;Empleado actualizado exitosamente&#x27;,\n    data: empleadoActualizado\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;78e76f0a-176e-4854-9177-b42f3e7341cf&quot;,&quot;parentUUID&quot;:&quot;35b71b2b-181a-4fc6-a648-f5d833951c11&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Debería devolver un error 404 si el empleado no existe&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de empleados Método PUT: Actualizar un empleado Debería devolver un error 404 si el empleado no existe&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.stub(Empleado, &#x27;update&#x27;).resolves(null);\nconst req = { params: { id: &#x27;999&#x27; }, body: { nombre: &#x27;Juan&#x27;, apellido: &#x27;Pérez&#x27; } };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait EmpleadoController.updateEmpleado(req, res);\nexpect(res.status.calledWith(404)).to.be.true;\nexpect(res.json.calledWith({\n    code: 404,\n    message: &#x27;Empleado no encontrado&#x27;,\n    data: null\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e5dcc35e-d3f2-498d-a8f5-14a967f0a402&quot;,&quot;parentUUID&quot;:&quot;35b71b2b-181a-4fc6-a648-f5d833951c11&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;78e76f0a-176e-4854-9177-b42f3e7341cf&quot;,&quot;e5dcc35e-d3f2-498d-a8f5-14a967f0a402&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;bb5af656-5991-41ab-aeda-c0fab46d824a&quot;,&quot;title&quot;:&quot;Método DELETE: Eliminar un empleado&quot;,&quot;fullFile&quot;:&quot;D:\\4toCuatri\\DOCKER\\powerclean\\tests\\empleadosController.test.js&quot;,&quot;file&quot;:&quot;\\tests\\empleadosController.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Debería eliminar un empleado exitosamente&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de empleados Método DELETE: Eliminar un empleado Debería eliminar un empleado exitosamente&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const empleadoEliminado = { id: 1, nombre: &#x27;Juan&#x27;, apellido: &#x27;Pérez&#x27; };\nsinon.stub(Empleado, &#x27;delete&#x27;).resolves(empleadoEliminado);\nconst req = { params: { id: &#x27;1&#x27; } };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait EmpleadoController.deleteEmpleado(req, res);\nexpect(res.status.calledWith(200)).to.be.true;\nexpect(res.json.calledWith({\n    code: 200,\n    message: &#x27;Empleado eliminado exitosamente&#x27;,\n    data: null\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3e220962-3ed6-4235-83a1-ded1b9eaf397&quot;,&quot;parentUUID&quot;:&quot;bb5af656-5991-41ab-aeda-c0fab46d824a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Debería devolver un error 404 si el empleado no existe&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de empleados Método DELETE: Eliminar un empleado Debería devolver un error 404 si el empleado no existe&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.stub(Empleado, &#x27;delete&#x27;).resolves(false);\nconst req = { params: { id: &#x27;999&#x27; } };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait EmpleadoController.deleteEmpleado(req, res);\nexpect(res.status.calledWith(404)).to.be.true;\nexpect(res.json.calledWith({\n    code: 404,\n    message: &#x27;Empleado no encontrado&#x27;,\n    data: null\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bb939e60-ccfa-4f22-a3e8-281aefc54be4&quot;,&quot;parentUUID&quot;:&quot;bb5af656-5991-41ab-aeda-c0fab46d824a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;3e220962-3ed6-4235-83a1-ded1b9eaf397&quot;,&quot;bb939e60-ccfa-4f22-a3e8-281aefc54be4&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:3,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;adfddfd6-1c7e-4cee-b79f-103a2ccdce79&quot;,&quot;title&quot;:&quot;Método GET: Descargar empleados en Excel&quot;,&quot;fullFile&quot;:&quot;D:\\4toCuatri\\DOCKER\\powerclean\\tests\\empleadosController.test.js&quot;,&quot;file&quot;:&quot;\\tests\\empleadosController.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Debería generar y descargar el archivo Excel exitosamente&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de empleados Método GET: Descargar empleados en Excel Debería generar y descargar el archivo Excel exitosamente&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const mockEmpleados = [\n    { id: 1, nombre: &#x27;Juan&#x27;, apellido: &#x27;Pérez&#x27; },\n    { id: 2, nombre: &#x27;Ana&#x27;, apellido: &#x27;Gómez&#x27; }\n];\nsinon.stub(Empleado, &#x27;generarExcel&#x27;).resolves(mockEmpleados);\nsinon.stub(excel, &#x27;write&#x27;).returns(Buffer.from(&#x27;test&#x27;));\nconst req = {};\nconst res = {\n    setHeader: sinon.stub(),\n    send: sinon.stub()\n};\nawait EmpleadoController.downloadEmpleadosExcel(req, res);\nexpect(res.setHeader.calledWith(&#x27;Content-Disposition&#x27;, &#x27;attachment; filename=empleados.xlsx&#x27;)).to.be.true;\nexpect(res.setHeader.calledWith(&#x27;Content-Type&#x27;, &#x27;application/vnd.openxmlformats-officedocument.spreadsheetml.sheet&#x27;)).to.be.true;\nexpect(res.send.calledOnce).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;41acddf0-2365-43a9-9264-70f799526210&quot;,&quot;parentUUID&quot;:&quot;adfddfd6-1c7e-4cee-b79f-103a2ccdce79&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Debería manejar errores al generar el archivo Excel&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de empleados Método GET: Descargar empleados en Excel Debería manejar errores al generar el archivo Excel&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.stub(Empleado, &#x27;generarExcel&#x27;).rejects(new Error(&#x27;Error al generar el archivo Excel&#x27;));\nconst req = {};\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait EmpleadoController.downloadEmpleadosExcel(req, res);\nexpect(res.status.calledWith(500)).to.be.true;\nexpect(res.json.calledWith({\n    code: 500,\n    message: &#x27;Error al generar el archivo Excel.&#x27;,\n    data: null\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;00569405-7870-461e-9d07-ad84e87a8ba0&quot;,&quot;parentUUID&quot;:&quot;adfddfd6-1c7e-4cee-b79f-103a2ccdce79&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;41acddf0-2365-43a9-9264-70f799526210&quot;,&quot;00569405-7870-461e-9d07-ad84e87a8ba0&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:3,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;853f6cf6-25e3-4649-a464-0b5b8679f12c&quot;,&quot;title&quot;:&quot;Pruebas del controlador de inventarios&quot;,&quot;fullFile&quot;:&quot;D:\\4toCuatri\\DOCKER\\powerclean\\tests\\inventarioController.test.js&quot;,&quot;file&quot;:&quot;\\tests\\inventarioController.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after each\&quot; hook in \&quot;Pruebas del controlador de inventarios\&quot;&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de inventarios \&quot;after each\&quot; hook in \&quot;Pruebas del controlador de inventarios\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e190fc89-1cd9-436b-8397-c6aee619dbe4&quot;,&quot;parentUUID&quot;:&quot;853f6cf6-25e3-4649-a464-0b5b8679f12c&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;d579abd6-67d4-46cd-a45f-e32abf87b834&quot;,&quot;title&quot;:&quot;Método GET: Obtiene todos los inventarios&quot;,&quot;fullFile&quot;:&quot;D:\\4toCuatri\\DOCKER\\powerclean\\tests\\inventarioController.test.js&quot;,&quot;file&quot;:&quot;\\tests\\inventarioController.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Debería obtener todos los inventarios exitosamente&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de inventarios Método GET: Obtiene todos los inventarios Debería obtener todos los inventarios exitosamente&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const mockInventarios = [\n    { id: 1, nombre: &#x27;Producto 1&#x27;, cantidad: 10 },\n    { id: 2, nombre: &#x27;Producto 2&#x27;, cantidad: 20 }\n];\nsinon.stub(Inventario, &#x27;findAll&#x27;).resolves(mockInventarios);\nconst req = {};\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait InventarioController.getAllInventario(req, res);\nexpect(res.status.calledWith(200)).to.be.true;\nexpect(res.json.calledWith({\n    code: 200,\n    message: &#x27;Operación exitosa&#x27;,\n    data: mockInventarios\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;39cf3aba-aabf-4fa5-a4dc-e759f6c0e8eb&quot;,&quot;parentUUID&quot;:&quot;d579abd6-67d4-46cd-a45f-e32abf87b834&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Debería manejar errores al obtener los inventarios&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de inventarios Método GET: Obtiene todos los inventarios Debería manejar errores al obtener los inventarios&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.stub(Inventario, &#x27;findAll&#x27;).rejects(new Error(&#x27;Error de base de datos&#x27;));\nconst req = {};\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait InventarioController.getAllInventario(req, res);\nexpect(res.status.calledWith(500)).to.be.true;\nexpect(res.json.calledWith({\n    code: 500,\n    message: &#x27;Error de base de datos&#x27;,\n    data: null\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9fdcebc5-8cf9-429a-a4e3-33bf64b82d45&quot;,&quot;parentUUID&quot;:&quot;d579abd6-67d4-46cd-a45f-e32abf87b834&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;39cf3aba-aabf-4fa5-a4dc-e759f6c0e8eb&quot;,&quot;9fdcebc5-8cf9-429a-a4e3-33bf64b82d45&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;722dd229-a264-4a2f-b113-279c93629354&quot;,&quot;title&quot;:&quot;Método GET: Buscar inventarios por todos los parámetros&quot;,&quot;fullFile&quot;:&quot;D:\\4toCuatri\\DOCKER\\powerclean\\tests\\inventarioController.test.js&quot;,&quot;file&quot;:&quot;\\tests\\inventarioController.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Debería buscar inventarios exitosamente&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de inventarios Método GET: Buscar inventarios por todos los parámetros Debería buscar inventarios exitosamente&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const searchString = &#x27;Producto&#x27;;\nconst mockInventarios = [{ id: 1, nombre: &#x27;Producto 1&#x27;, cantidad: 10 }];\nsinon.stub(Inventario, &#x27;searchAllColumns&#x27;).resolves(mockInventarios);\nconst req = { params: { q: searchString } };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait InventarioController.searchAllColumns(req, res);\nexpect(res.status.calledWith(200)).to.be.true;\nexpect(res.json.calledWith({\n    code: 200,\n    message: &#x27;Operación exitosa&#x27;,\n    data: mockInventarios\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1422d6b5-28ec-49bf-9288-689c0fa5ebfe&quot;,&quot;parentUUID&quot;:&quot;722dd229-a264-4a2f-b113-279c93629354&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Debería devolver un error si el parámetro \&quot;q\&quot; es obligatorio&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de inventarios Método GET: Buscar inventarios por todos los parámetros Debería devolver un error si el parámetro \&quot;q\&quot; es obligatorio&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const req = { params: {} };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait InventarioController.searchAllColumns(req, res);\nexpect(res.status.calledWith(400)).to.be.true;\nexpect(res.json.calledWith({\n    code: 400,\n    message: \&quot;El parámetro &#x27;q&#x27; es obligatorio\&quot;,\n    data: null\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bdb24bd5-7a0c-42c4-96eb-1294035137d6&quot;,&quot;parentUUID&quot;:&quot;722dd229-a264-4a2f-b113-279c93629354&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;1422d6b5-28ec-49bf-9288-689c0fa5ebfe&quot;,&quot;bdb24bd5-7a0c-42c4-96eb-1294035137d6&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;af4302e1-e281-4347-95fe-6c5587844c4d&quot;,&quot;title&quot;:&quot;Método POST: Crea un nuevo inventario&quot;,&quot;fullFile&quot;:&quot;D:\\4toCuatri\\DOCKER\\powerclean\\tests\\inventarioController.test.js&quot;,&quot;file&quot;:&quot;\\tests\\inventarioController.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Debería crear un inventario exitosamente&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de inventarios Método POST: Crea un nuevo inventario Debería crear un inventario exitosamente&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const nuevoInventario = { id: 1, nombre: &#x27;Producto 1&#x27;, cantidad: 10 };\nsinon.stub(Inventario, &#x27;create&#x27;).resolves(nuevoInventario);\nconst req = { body: { nombre: &#x27;Producto 1&#x27;, cantidad: 10 } };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait InventarioController.createInventario(req, res);\nexpect(res.status.calledWith(201)).to.be.true;\nexpect(res.json.calledWith({\n    code: 201,\n    message: &#x27;Inventario creado exitosamente&#x27;,\n    data: nuevoInventario\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bff0cb13-c112-46f8-ae34-24d54d11fd50&quot;,&quot;parentUUID&quot;:&quot;af4302e1-e281-4347-95fe-6c5587844c4d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Debería manejar errores al crear un inventario&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de inventarios Método POST: Crea un nuevo inventario Debería manejar errores al crear un inventario&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.stub(Inventario, &#x27;create&#x27;).rejects(new Error(&#x27;Error al crear el inventario&#x27;));\nconst req = { body: { nombre: &#x27;Producto 1&#x27;, cantidad: 10 } };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait InventarioController.createInventario(req, res);\nexpect(res.status.calledWith(500)).to.be.true;\nexpect(res.json.calledWith({\n    code: 500,\n    message: &#x27;Error al crear el inventario&#x27;,\n    data: null\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;74f205cd-8f43-4799-bd5e-307e242d21d4&quot;,&quot;parentUUID&quot;:&quot;af4302e1-e281-4347-95fe-6c5587844c4d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;bff0cb13-c112-46f8-ae34-24d54d11fd50&quot;,&quot;74f205cd-8f43-4799-bd5e-307e242d21d4&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;2d12de66-734f-41de-8fa0-adb6841485ee&quot;,&quot;title&quot;:&quot;Método GET: Obtiene un inventario por ID&quot;,&quot;fullFile&quot;:&quot;D:\\4toCuatri\\DOCKER\\powerclean\\tests\\inventarioController.test.js&quot;,&quot;file&quot;:&quot;\\tests\\inventarioController.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Debería obtener un inventario por ID exitosamente&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de inventarios Método GET: Obtiene un inventario por ID Debería obtener un inventario por ID exitosamente&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const mockInventario = { id: 1, nombre: &#x27;Producto 1&#x27;, cantidad: 10 };\nsinon.stub(Inventario, &#x27;findById&#x27;).resolves(mockInventario);\nconst req = { params: { id: &#x27;1&#x27; } };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait InventarioController.getInventarioById(req, res);\nexpect(res.status.calledWith(200)).to.be.true;\nexpect(res.json.calledWith({\n    code: 200,\n    message: &#x27;Operación exitosa&#x27;,\n    data: mockInventario\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9d05e078-97a2-4273-8a30-6d392601245f&quot;,&quot;parentUUID&quot;:&quot;2d12de66-734f-41de-8fa0-adb6841485ee&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Debería devolver un error 404 si el inventario no existe&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de inventarios Método GET: Obtiene un inventario por ID Debería devolver un error 404 si el inventario no existe&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.stub(Inventario, &#x27;findById&#x27;).resolves(null);\nconst req = { params: { id: &#x27;999&#x27; } };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait InventarioController.getInventarioById(req, res);\nexpect(res.status.calledWith(404)).to.be.true;\nexpect(res.json.calledWith({\n    code: 404,\n    message: &#x27;Inventario no encontrado&#x27;,\n    data: null\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;66cde6a4-9c6f-4609-a572-a2147898536f&quot;,&quot;parentUUID&quot;:&quot;2d12de66-734f-41de-8fa0-adb6841485ee&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;9d05e078-97a2-4273-8a30-6d392601245f&quot;,&quot;66cde6a4-9c6f-4609-a572-a2147898536f&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;4fb03b41-5ae7-4bc4-83ef-621a41acdc9d&quot;,&quot;title&quot;:&quot;Método PUT: Actualiza un inventario&quot;,&quot;fullFile&quot;:&quot;D:\\4toCuatri\\DOCKER\\powerclean\\tests\\inventarioController.test.js&quot;,&quot;file&quot;:&quot;\\tests\\inventarioController.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Debería actualizar un inventario exitosamente&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de inventarios Método PUT: Actualiza un inventario Debería actualizar un inventario exitosamente&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const inventarioActualizado = { id: 1, nombre: &#x27;Producto 1&#x27;, cantidad: 15 };\nsinon.stub(Inventario, &#x27;update&#x27;).resolves(inventarioActualizado);\nconst req = { params: { id: &#x27;1&#x27; }, body: { nombre: &#x27;Producto 1&#x27;, cantidad: 15 } };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait InventarioController.updateInventario(req, res);\nexpect(res.status.calledWith(200)).to.be.true;\nexpect(res.json.calledWith({\n    code: 200,\n    message: &#x27;Inventario actualizado exitosamente&#x27;,\n    data: inventarioActualizado\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d1089427-ba7e-4751-9b49-87c0a33b709a&quot;,&quot;parentUUID&quot;:&quot;4fb03b41-5ae7-4bc4-83ef-621a41acdc9d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Debería devolver un error 404 si el inventario no existe&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de inventarios Método PUT: Actualiza un inventario Debería devolver un error 404 si el inventario no existe&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.stub(Inventario, &#x27;update&#x27;).resolves(null);\nconst req = { params: { id: &#x27;999&#x27; }, body: { nombre: &#x27;Producto 1&#x27;, cantidad: 15 } };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait InventarioController.updateInventario(req, res);\nexpect(res.status.calledWith(404)).to.be.true;\nexpect(res.json.calledWith({\n    code: 404,\n    message: &#x27;Inventario no encontrado&#x27;,\n    data: null\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c4bbe121-1284-4430-9e36-00e9dcb25511&quot;,&quot;parentUUID&quot;:&quot;4fb03b41-5ae7-4bc4-83ef-621a41acdc9d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;d1089427-ba7e-4751-9b49-87c0a33b709a&quot;,&quot;c4bbe121-1284-4430-9e36-00e9dcb25511&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;636ae423-3284-49e3-a293-73b2975286b4&quot;,&quot;title&quot;:&quot;Método DELETE: Elimina un inventario&quot;,&quot;fullFile&quot;:&quot;D:\\4toCuatri\\DOCKER\\powerclean\\tests\\inventarioController.test.js&quot;,&quot;file&quot;:&quot;\\tests\\inventarioController.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Debería eliminar un inventario exitosamente&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de inventarios Método DELETE: Elimina un inventario Debería eliminar un inventario exitosamente&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const inventarioEliminado = { id: 1, nombre: &#x27;Producto 1&#x27;, cantidad: 10 };\nsinon.stub(Inventario, &#x27;delete&#x27;).resolves(inventarioEliminado);\nconst req = { params: { id: &#x27;1&#x27; } };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait InventarioController.deleteInventario(req, res);\nexpect(res.status.calledWith(200)).to.be.true;\nexpect(res.json.calledWith({\n    code: 200,\n    message: &#x27;Inventario eliminado exitosamente&#x27;,\n    data: inventarioEliminado\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cd4fa91e-00fb-4a0b-80d7-26b98243a8ec&quot;,&quot;parentUUID&quot;:&quot;636ae423-3284-49e3-a293-73b2975286b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Debería devolver un error 404 si el inventario no existe&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de inventarios Método DELETE: Elimina un inventario Debería devolver un error 404 si el inventario no existe&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.stub(Inventario, &#x27;delete&#x27;).resolves(false);\nconst req = { params: { id: &#x27;999&#x27; } };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait InventarioController.deleteInventario(req, res);\nexpect(res.status.calledWith(404)).to.be.true;\nexpect(res.json.calledWith({\n    code: 404,\n    message: &#x27;Inventario no encontrado&#x27;,\n    data: null\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ceb4ccd4-1c82-4942-a437-041b15becf1c&quot;,&quot;parentUUID&quot;:&quot;636ae423-3284-49e3-a293-73b2975286b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;cd4fa91e-00fb-4a0b-80d7-26b98243a8ec&quot;,&quot;ceb4ccd4-1c82-4942-a437-041b15becf1c&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;91b5283a-dfee-453c-86cc-3a115a74997c&quot;,&quot;title&quot;:&quot;Pruebas del controlador de productos&quot;,&quot;fullFile&quot;:&quot;D:\\4toCuatri\\DOCKER\\powerclean\\tests\\productosController.test.js&quot;,&quot;file&quot;:&quot;\\tests\\productosController.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after each\&quot; hook in \&quot;Pruebas del controlador de productos\&quot;&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de productos \&quot;after each\&quot; hook in \&quot;Pruebas del controlador de productos\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2a71d8d3-ac35-46c8-87dd-02b7e69e3682&quot;,&quot;parentUUID&quot;:&quot;91b5283a-dfee-453c-86cc-3a115a74997c&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;e7f09a3b-5468-48cb-8d37-a6a291513aff&quot;,&quot;title&quot;:&quot;Método GET: Obtiene todos los productos&quot;,&quot;fullFile&quot;:&quot;D:\\4toCuatri\\DOCKER\\powerclean\\tests\\productosController.test.js&quot;,&quot;file&quot;:&quot;\\tests\\productosController.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Debería obtener todos los productos exitosamente&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de productos Método GET: Obtiene todos los productos Debería obtener todos los productos exitosamente&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const mockProductos = [\n    { id: 1, nombre: &#x27;Producto A&#x27;, precio: 100 },\n    { id: 2, nombre: &#x27;Producto B&#x27;, precio: 200 }\n];\nsinon.stub(Producto, &#x27;findAll&#x27;).resolves(mockProductos);\nconst req = {};\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait ProductoController.getAllProductos(req, res);\nexpect(res.status.calledWith(200)).to.be.true;\nexpect(res.json.calledWith({\n    code: 200,\n    message: &#x27;Operación exitosa&#x27;,\n    data: mockProductos\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5f985625-f78c-4fe6-93bb-e99d3af577fc&quot;,&quot;parentUUID&quot;:&quot;e7f09a3b-5468-48cb-8d37-a6a291513aff&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Debería manejar errores al obtener los productos&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de productos Método GET: Obtiene todos los productos Debería manejar errores al obtener los productos&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.stub(Producto, &#x27;findAll&#x27;).rejects(new Error(&#x27;Error de base de datos&#x27;));\nconst req = {};\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait ProductoController.getAllProductos(req, res);\nexpect(res.status.calledWith(500)).to.be.true;\nexpect(res.json.calledWith({\n    code: 500,\n    message: &#x27;Error de base de datos&#x27;,\n    data: null\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d7044497-0bed-4885-89ef-60861edb4d5c&quot;,&quot;parentUUID&quot;:&quot;e7f09a3b-5468-48cb-8d37-a6a291513aff&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;5f985625-f78c-4fe6-93bb-e99d3af577fc&quot;,&quot;d7044497-0bed-4885-89ef-60861edb4d5c&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;8499d9fc-ccf7-4592-abe2-f7f91bdbf5e4&quot;,&quot;title&quot;:&quot;Método POST: Crea un producto&quot;,&quot;fullFile&quot;:&quot;D:\\4toCuatri\\DOCKER\\powerclean\\tests\\productosController.test.js&quot;,&quot;file&quot;:&quot;\\tests\\productosController.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Debería crear un producto exitosamente&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de productos Método POST: Crea un producto Debería crear un producto exitosamente&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const nuevoProducto = { nombre: &#x27;Producto C&#x27;, precio: 300 };\nconst creadoProducto = { id: 3, ...nuevoProducto };\nsinon.stub(Producto, &#x27;create&#x27;).resolves(creadoProducto);\nconst req = { body: nuevoProducto };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait ProductoController.createProducto(req, res);\nexpect(res.status.calledWith(201)).to.be.true;\nexpect(res.json.calledWith({\n    code: 201,\n    message: &#x27;Producto creado exitosamente&#x27;,\n    data: creadoProducto\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;83710748-7e81-47e2-9134-a32c7a0e9441&quot;,&quot;parentUUID&quot;:&quot;8499d9fc-ccf7-4592-abe2-f7f91bdbf5e4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Debería manejar errores al crear un producto&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de productos Método POST: Crea un producto Debería manejar errores al crear un producto&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.stub(Producto, &#x27;create&#x27;).rejects(new Error(&#x27;Error al crear el producto&#x27;));\nconst req = { body: { nombre: &#x27;Producto D&#x27;, precio: 400 } };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait ProductoController.createProducto(req, res);\nexpect(res.status.calledWith(500)).to.be.true;\nexpect(res.json.calledWith({\n    code: 500,\n    message: &#x27;Error al crear el producto&#x27;,\n    data: null\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8ecf34be-c506-4caa-9d88-394917968d02&quot;,&quot;parentUUID&quot;:&quot;8499d9fc-ccf7-4592-abe2-f7f91bdbf5e4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;83710748-7e81-47e2-9134-a32c7a0e9441&quot;,&quot;8ecf34be-c506-4caa-9d88-394917968d02&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;f838befc-e71a-4756-94cb-abc4c086e623&quot;,&quot;title&quot;:&quot;Método DELETE: Elimina un producto&quot;,&quot;fullFile&quot;:&quot;D:\\4toCuatri\\DOCKER\\powerclean\\tests\\productosController.test.js&quot;,&quot;file&quot;:&quot;\\tests\\productosController.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Debería eliminar un producto exitosamente&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de productos Método DELETE: Elimina un producto Debería eliminar un producto exitosamente&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.stub(Producto, &#x27;delete&#x27;).resolves(true);\nconst req = { params: { id: 1 } };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait ProductoController.deleteProducto(req, res);\nexpect(res.status.calledWith(200)).to.be.true;\nexpect(res.json.calledWith({\n    code: 200,\n    message: &#x27;Producto eliminado exitosamente&#x27;,\n    data: null\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;088e34be-854c-46b6-9e7c-fdd077c7e08f&quot;,&quot;parentUUID&quot;:&quot;f838befc-e71a-4756-94cb-abc4c086e623&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Debería retornar error 404 si no se encuentra el producto&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de productos Método DELETE: Elimina un producto Debería retornar error 404 si no se encuentra el producto&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.stub(Producto, &#x27;delete&#x27;).resolves(false);\nconst req = { params: { id: 999 } };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait ProductoController.deleteProducto(req, res);\nexpect(res.status.calledWith(404)).to.be.true;\nexpect(res.json.calledWith({\n    code: 404,\n    message: &#x27;Producto no encontrado&#x27;,\n    data: null\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cafe2932-fb1f-40ae-94d3-5e8f1fa5c577&quot;,&quot;parentUUID&quot;:&quot;f838befc-e71a-4756-94cb-abc4c086e623&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Debería manejar errores al eliminar un producto&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de productos Método DELETE: Elimina un producto Debería manejar errores al eliminar un producto&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.stub(Producto, &#x27;delete&#x27;).rejects(new Error(&#x27;Error al eliminar el producto&#x27;));\nconst req = { params: { id: 1 } };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait ProductoController.deleteProducto(req, res);\nexpect(res.status.calledWith(500)).to.be.true;\nexpect(res.json.calledWith({\n    code: 500,\n    message: &#x27;Error al eliminar el producto&#x27;,\n    data: null\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d44dd12b-0b16-40a3-b5e4-bd4357207550&quot;,&quot;parentUUID&quot;:&quot;f838befc-e71a-4756-94cb-abc4c086e623&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;088e34be-854c-46b6-9e7c-fdd077c7e08f&quot;,&quot;cafe2932-fb1f-40ae-94d3-5e8f1fa5c577&quot;,&quot;d44dd12b-0b16-40a3-b5e4-bd4357207550&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;cdf92bb6-f3b6-49ab-a324-fcecff98f63c&quot;,&quot;title&quot;:&quot;Pruebas del controlador de roles&quot;,&quot;fullFile&quot;:&quot;D:\\4toCuatri\\DOCKER\\powerclean\\tests\\rolController.test.js&quot;,&quot;file&quot;:&quot;\\tests\\rolController.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after each\&quot; hook in \&quot;Pruebas del controlador de roles\&quot;&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de roles \&quot;after each\&quot; hook in \&quot;Pruebas del controlador de roles\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8e71f79a-5719-4610-8e38-ab865e98f276&quot;,&quot;parentUUID&quot;:&quot;cdf92bb6-f3b6-49ab-a324-fcecff98f63c&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;f702f06f-5bc4-49c0-936f-59a18d096ca0&quot;,&quot;title&quot;:&quot;Método GET: Obtiene todos los roles&quot;,&quot;fullFile&quot;:&quot;D:\\4toCuatri\\DOCKER\\powerclean\\tests\\rolController.test.js&quot;,&quot;file&quot;:&quot;\\tests\\rolController.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Debería obtener todos los roles exitosamente&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de roles Método GET: Obtiene todos los roles Debería obtener todos los roles exitosamente&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const mockRoles = [\n    { id: 1, nombre: &#x27;Admin&#x27; },\n    { id: 2, nombre: &#x27;Usuario&#x27; }\n];\nsinon.stub(Rol, &#x27;findAll&#x27;).resolves(mockRoles);\nconst req = {};\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait RolController.getAllRol(req, res);\nexpect(res.status.calledWith(200)).to.be.true;\nexpect(res.json.calledWith({\n    code: 200,\n    message: &#x27;Operación exitosa&#x27;,\n    data: mockRoles\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9f0cabd2-5e94-493d-b5c1-37583cfd08ec&quot;,&quot;parentUUID&quot;:&quot;f702f06f-5bc4-49c0-936f-59a18d096ca0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Debería manejar errores al obtener los roles&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de roles Método GET: Obtiene todos los roles Debería manejar errores al obtener los roles&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.stub(Rol, &#x27;findAll&#x27;).rejects(new Error(&#x27;Error de base de datos&#x27;));\nconst req = {};\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait RolController.getAllRol(req, res);\nexpect(res.status.calledWith(500)).to.be.true;\nexpect(res.json.calledWith({\n    code: 500,\n    message: &#x27;Error de base de datos&#x27;,\n    data: null\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;59bae471-6f69-4c3e-9015-c07f9782ae4d&quot;,&quot;parentUUID&quot;:&quot;f702f06f-5bc4-49c0-936f-59a18d096ca0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;9f0cabd2-5e94-493d-b5c1-37583cfd08ec&quot;,&quot;59bae471-6f69-4c3e-9015-c07f9782ae4d&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;8e96f9c3-34b5-4e5a-b892-0291a2de4231&quot;,&quot;title&quot;:&quot;Método GET: Obtiene todos los roles por un identificador&quot;,&quot;fullFile&quot;:&quot;D:\\4toCuatri\\DOCKER\\powerclean\\tests\\rolController.test.js&quot;,&quot;file&quot;:&quot;\\tests\\rolController.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Debería obtener un rol por ID exitosamente&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de roles Método GET: Obtiene todos los roles por un identificador Debería obtener un rol por ID exitosamente&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const mockRol = { id: 1, nombre: &#x27;Admin&#x27; };\nsinon.stub(Rol, &#x27;findById&#x27;).resolves(mockRol);\nconst req = { params: { id: 1 } };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait RolController.getRolById(req, res);\nexpect(res.status.calledWith(200)).to.be.true;\nexpect(res.json.calledWith({\n    code: 200,\n    message: &#x27;Operación exitosa&#x27;,\n    data: mockRol\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;006536ef-82f7-4c4c-8f20-f8f3921b91e0&quot;,&quot;parentUUID&quot;:&quot;8e96f9c3-34b5-4e5a-b892-0291a2de4231&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Debería devolver un error 404 si el rol no existe&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de roles Método GET: Obtiene todos los roles por un identificador Debería devolver un error 404 si el rol no existe&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.stub(Rol, &#x27;findById&#x27;).resolves(null);\nconst req = { params: { id: 999 } };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait RolController.getRolById(req, res);\nexpect(res.status.calledWith(404)).to.be.true;\nexpect(res.json.calledWith({\n    code: 404,\n    message: &#x27;Rol no encontrado&#x27;,\n    data: null\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;80e6262b-9c68-4589-93f7-f76b78732bc6&quot;,&quot;parentUUID&quot;:&quot;8e96f9c3-34b5-4e5a-b892-0291a2de4231&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Debería manejar errores al buscar un rol por ID&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de roles Método GET: Obtiene todos los roles por un identificador Debería manejar errores al buscar un rol por ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.stub(Rol, &#x27;findById&#x27;).rejects(new Error(&#x27;Error de base de datos&#x27;));\nconst req = { params: { id: 1 } };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait RolController.getRolById(req, res);\nexpect(res.status.calledWith(500)).to.be.true;\nexpect(res.json.calledWith({\n    code: 500,\n    message: &#x27;Error de base de datos&#x27;,\n    data: null\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c3ed5182-08d8-43f3-8ab6-875cae1de09a&quot;,&quot;parentUUID&quot;:&quot;8e96f9c3-34b5-4e5a-b892-0291a2de4231&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;006536ef-82f7-4c4c-8f20-f8f3921b91e0&quot;,&quot;80e6262b-9c68-4589-93f7-f76b78732bc6&quot;,&quot;c3ed5182-08d8-43f3-8ab6-875cae1de09a&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;324b328f-0f5c-4bc3-ae4f-dcc6d93917f2&quot;,&quot;title&quot;:&quot;Método POST: Crea un nuevo rol&quot;,&quot;fullFile&quot;:&quot;D:\\4toCuatri\\DOCKER\\powerclean\\tests\\rolController.test.js&quot;,&quot;file&quot;:&quot;\\tests\\rolController.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Debería crear un rol exitosamente&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de roles Método POST: Crea un nuevo rol Debería crear un rol exitosamente&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const nuevoRol = { nombre: &#x27;Editor&#x27; };\nconst mockRolCreado = { id: 3, ...nuevoRol };\nsinon.stub(Rol, &#x27;create&#x27;).resolves(mockRolCreado);\nconst req = { body: nuevoRol };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait RolController.createRol(req, res);\nexpect(res.status.calledWith(201)).to.be.true;\nexpect(res.json.calledWith({\n    code: 201,\n    message: &#x27;Rol creado exitosamente&#x27;,\n    data: mockRolCreado\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3b57b7f2-7102-4636-8dca-15dce661d9ba&quot;,&quot;parentUUID&quot;:&quot;324b328f-0f5c-4bc3-ae4f-dcc6d93917f2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Debería manejar errores al crear un rol&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de roles Método POST: Crea un nuevo rol Debería manejar errores al crear un rol&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.stub(Rol, &#x27;create&#x27;).rejects(new Error(&#x27;Error al crear el rol&#x27;));\nconst req = { body: { nombre: &#x27;Editor&#x27; } };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait RolController.createRol(req, res);\nexpect(res.status.calledWith(500)).to.be.true;\nexpect(res.json.calledWith({\n    code: 500,\n    message: &#x27;Error al crear el rol&#x27;,\n    data: null\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;324a86a3-1bbb-43f6-b7a3-e2cbd3b21a79&quot;,&quot;parentUUID&quot;:&quot;324b328f-0f5c-4bc3-ae4f-dcc6d93917f2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;3b57b7f2-7102-4636-8dca-15dce661d9ba&quot;,&quot;324a86a3-1bbb-43f6-b7a3-e2cbd3b21a79&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;bcdee432-b93a-468d-88f6-0db592e9a2cf&quot;,&quot;title&quot;:&quot;Método DELETE: Elimina un rol&quot;,&quot;fullFile&quot;:&quot;D:\\4toCuatri\\DOCKER\\powerclean\\tests\\rolController.test.js&quot;,&quot;file&quot;:&quot;\\tests\\rolController.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Debería eliminar un rol exitosamente&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de roles Método DELETE: Elimina un rol Debería eliminar un rol exitosamente&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.stub(Rol, &#x27;delete&#x27;).resolves(true);\nconst req = { params: { id: 1 } };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait RolController.deleteRol(req, res);\nexpect(res.status.calledWith(200)).to.be.true;\nexpect(res.json.calledWith({\n    code: 200,\n    message: &#x27;Rol eliminado exitosamente&#x27;,\n    data: null\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;48c6bc52-e8a1-4359-8698-5aa11dac36b9&quot;,&quot;parentUUID&quot;:&quot;bcdee432-b93a-468d-88f6-0db592e9a2cf&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Debería devolver un error 404 si el rol no existe&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de roles Método DELETE: Elimina un rol Debería devolver un error 404 si el rol no existe&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.stub(Rol, &#x27;delete&#x27;).resolves(false);\nconst req = { params: { id: 999 } };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait RolController.deleteRol(req, res);\nexpect(res.status.calledWith(404)).to.be.true;\nexpect(res.json.calledWith({\n    code: 404,\n    message: &#x27;Rol no encontrado&#x27;,\n    data: null\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7c0bbaff-e2cb-42c9-afc0-580c047810f6&quot;,&quot;parentUUID&quot;:&quot;bcdee432-b93a-468d-88f6-0db592e9a2cf&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Debería manejar errores al eliminar un rol&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de roles Método DELETE: Elimina un rol Debería manejar errores al eliminar un rol&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.stub(Rol, &#x27;delete&#x27;).rejects(new Error(&#x27;Error al eliminar el rol&#x27;));\nconst req = { params: { id: 1 } };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait RolController.deleteRol(req, res);\nexpect(res.status.calledWith(500)).to.be.true;\nexpect(res.json.calledWith({\n    code: 500,\n    message: &#x27;Error al eliminar el rol&#x27;,\n    data: null\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3ad64e84-3549-492e-bc98-486158720e56&quot;,&quot;parentUUID&quot;:&quot;bcdee432-b93a-468d-88f6-0db592e9a2cf&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;48c6bc52-e8a1-4359-8698-5aa11dac36b9&quot;,&quot;7c0bbaff-e2cb-42c9-afc0-580c047810f6&quot;,&quot;3ad64e84-3549-492e-bc98-486158720e56&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:3,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;21cebcff-82cc-47ce-8908-b28d70774471&quot;,&quot;title&quot;:&quot;Pruebas de las RUTAS de la API de clientes, método GET&quot;,&quot;fullFile&quot;:&quot;D:\\4toCuatri\\DOCKER\\powerclean\\tests\\rutas.test.js&quot;,&quot;file&quot;:&quot;\\tests\\rutas.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Debería obtener todos los clientes&quot;,&quot;fullTitle&quot;:&quot;Pruebas de las RUTAS de la API de clientes, método GET Debería obtener todos los clientes&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:735,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const response = await supertest(app).get(&#x27;/api/clientes&#x27;);\nexpect(response.status).to.equal(200);\nexpect(response.body).to.have.property(&#x27;data&#x27;).that.is.an(&#x27;array&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d9b27236-0ec0-4402-aa68-4ba2fc224535&quot;,&quot;parentUUID&quot;:&quot;21cebcff-82cc-47ce-8908-b28d70774471&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;d9b27236-0ec0-4402-aa68-4ba2fc224535&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:735,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;d52a00ef-9183-4eaf-98db-42ce136af29b&quot;,&quot;title&quot;:&quot;Pruebas de las RUTAS de la API del detalle de la venta, método GET&quot;,&quot;fullFile&quot;:&quot;D:\\4toCuatri\\DOCKER\\powerclean\\tests\\rutas.test.js&quot;,&quot;file&quot;:&quot;\\tests\\rutas.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Debería obtener todos los detalles de la venta&quot;,&quot;fullTitle&quot;:&quot;Pruebas de las RUTAS de la API del detalle de la venta, método GET Debería obtener todos los detalles de la venta&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const response = await supertest(app).get(&#x27;/api/detalleVenta&#x27;);\nexpect(response.status).to.equal(200);\nexpect(response.body).to.have.property(&#x27;data&#x27;).that.is.an(&#x27;array&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;53bd479e-9b3c-43d9-ad2b-ef9e62ec2531&quot;,&quot;parentUUID&quot;:&quot;d52a00ef-9183-4eaf-98db-42ce136af29b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;53bd479e-9b3c-43d9-ad2b-ef9e62ec2531&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:9,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;c1a3437a-48c4-4aed-942d-8a417fa5c009&quot;,&quot;title&quot;:&quot;Pruebas de las RUTAS de la API empleados, método GET&quot;,&quot;fullFile&quot;:&quot;D:\\4toCuatri\\DOCKER\\powerclean\\tests\\rutas.test.js&quot;,&quot;file&quot;:&quot;\\tests\\rutas.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Debería obtener todos los empleados&quot;,&quot;fullTitle&quot;:&quot;Pruebas de las RUTAS de la API empleados, método GET Debería obtener todos los empleados&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:11,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const response = await supertest(app).get(&#x27;/api/empleados&#x27;);\nexpect(response.status).to.equal(200);\nexpect(response.body).to.have.property(&#x27;data&#x27;).that.is.an(&#x27;array&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8492cb18-cb32-43b0-8e54-e58f024ef248&quot;,&quot;parentUUID&quot;:&quot;c1a3437a-48c4-4aed-942d-8a417fa5c009&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;8492cb18-cb32-43b0-8e54-e58f024ef248&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:11,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;e1fcfce1-1a1c-4b5a-bc59-0966169503cf&quot;,&quot;title&quot;:&quot;Pruebas de las RUTAS de la API de inventarios, método GET&quot;,&quot;fullFile&quot;:&quot;D:\\4toCuatri\\DOCKER\\powerclean\\tests\\rutas.test.js&quot;,&quot;file&quot;:&quot;\\tests\\rutas.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Debería obtener todo el inventario&quot;,&quot;fullTitle&quot;:&quot;Pruebas de las RUTAS de la API de inventarios, método GET Debería obtener todo el inventario&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const response = await supertest(app).get(&#x27;/api/inventario&#x27;);\nexpect(response.status).to.equal(200);\nexpect(response.body).to.have.property(&#x27;data&#x27;).that.is.an(&#x27;array&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bd08e0f2-3029-408c-9067-d24d2ce5a172&quot;,&quot;parentUUID&quot;:&quot;e1fcfce1-1a1c-4b5a-bc59-0966169503cf&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;bd08e0f2-3029-408c-9067-d24d2ce5a172&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:9,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;beede287-b8f1-4963-ba17-13dc9fa36e47&quot;,&quot;title&quot;:&quot;Pruebas de las RUTAS de la API de productos, método GET&quot;,&quot;fullFile&quot;:&quot;D:\\4toCuatri\\DOCKER\\powerclean\\tests\\rutas.test.js&quot;,&quot;file&quot;:&quot;\\tests\\rutas.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Debería obtener todo los productos&quot;,&quot;fullTitle&quot;:&quot;Pruebas de las RUTAS de la API de productos, método GET Debería obtener todo los productos&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:13,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const response = await supertest(app).get(&#x27;/api/productos&#x27;);\nexpect(response.status).to.equal(200);\nexpect(response.body).to.have.property(&#x27;data&#x27;).that.is.an(&#x27;array&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e5e669b8-c174-4856-85a6-65b1c8980826&quot;,&quot;parentUUID&quot;:&quot;beede287-b8f1-4963-ba17-13dc9fa36e47&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;e5e669b8-c174-4856-85a6-65b1c8980826&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:13,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;3e090738-f8c8-4c8e-9d1c-fc48331e3267&quot;,&quot;title&quot;:&quot;Pruebas de las RUTAS de la API sobre los roles, método GET&quot;,&quot;fullFile&quot;:&quot;D:\\4toCuatri\\DOCKER\\powerclean\\tests\\rutas.test.js&quot;,&quot;file&quot;:&quot;\\tests\\rutas.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Debería obtener todo los roles&quot;,&quot;fullTitle&quot;:&quot;Pruebas de las RUTAS de la API sobre los roles, método GET Debería obtener todo los roles&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const response = await supertest(app).get(&#x27;/api/rol&#x27;);\nexpect(response.status).to.equal(200);\nexpect(response.body).to.have.property(&#x27;data&#x27;).that.is.an(&#x27;array&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2b6a9178-47c8-4910-973c-a4e84faa97e7&quot;,&quot;parentUUID&quot;:&quot;3e090738-f8c8-4c8e-9d1c-fc48331e3267&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;2b6a9178-47c8-4910-973c-a4e84faa97e7&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:8,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;20663802-0530-4a60-9562-749bc867063a&quot;,&quot;title&quot;:&quot;Pruebas de las RUTAS de la API sobre los tipos de productos que existen, método GET&quot;,&quot;fullFile&quot;:&quot;D:\\4toCuatri\\DOCKER\\powerclean\\tests\\rutas.test.js&quot;,&quot;file&quot;:&quot;\\tests\\rutas.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Debería obtener todo los tipos de productos&quot;,&quot;fullTitle&quot;:&quot;Pruebas de las RUTAS de la API sobre los tipos de productos que existen, método GET Debería obtener todo los tipos de productos&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const response = await supertest(app).get(&#x27;/api/tipoProducto&#x27;);\nexpect(response.status).to.equal(200);\nexpect(response.body).to.have.property(&#x27;data&#x27;).that.is.an(&#x27;array&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bdaf54fd-bc24-4f5a-8e87-85e066064b0e&quot;,&quot;parentUUID&quot;:&quot;20663802-0530-4a60-9562-749bc867063a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;bdaf54fd-bc24-4f5a-8e87-85e066064b0e&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:8,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;f887eb77-20e0-4ddd-bd03-28be01ec1645&quot;,&quot;title&quot;:&quot;Pruebas de las RUTAS de la API sobre los usuarios, método GET&quot;,&quot;fullFile&quot;:&quot;D:\\4toCuatri\\DOCKER\\powerclean\\tests\\rutas.test.js&quot;,&quot;file&quot;:&quot;\\tests\\rutas.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Debería obtener todo los usuarios&quot;,&quot;fullTitle&quot;:&quot;Pruebas de las RUTAS de la API sobre los usuarios, método GET Debería obtener todo los usuarios&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:12,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = &#x27;powerclean&#x27;; // Sustituye por un token válido\nconst response = await supertest(app)\n  .get(&#x27;/api/usuarios&#x27;)\n  .set(&#x27;Authorization&#x27;, `Bearer ${token}`);\nexpect(response.status).to.equal(200);\nexpect(response.body).to.have.property(&#x27;data&#x27;).that.is.an(&#x27;array&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;99101704-e2e8-4c45-91b7-2955927d0284&quot;,&quot;parentUUID&quot;:&quot;f887eb77-20e0-4ddd-bd03-28be01ec1645&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;99101704-e2e8-4c45-91b7-2955927d0284&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:12,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;938b7295-09bf-42e2-93cc-ac8b04352352&quot;,&quot;title&quot;:&quot;Pruebas de las RUTAS de la API sobre todas las ventas, método GET&quot;,&quot;fullFile&quot;:&quot;D:\\4toCuatri\\DOCKER\\powerclean\\tests\\rutas.test.js&quot;,&quot;file&quot;:&quot;\\tests\\rutas.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Debería obtener todo las ventas&quot;,&quot;fullTitle&quot;:&quot;Pruebas de las RUTAS de la API sobre todas las ventas, método GET Debería obtener todo las ventas&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const response = await supertest(app).get(&#x27;/api/venta&#x27;);\nexpect(response.status).to.equal(200);\nexpect(response.body).to.have.property(&#x27;data&#x27;).that.is.an(&#x27;array&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b3a2419c-650b-46ea-9a9b-6ee25463e067&quot;,&quot;parentUUID&quot;:&quot;938b7295-09bf-42e2-93cc-ac8b04352352&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;b3a2419c-650b-46ea-9a9b-6ee25463e067&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:10,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;9db45083-e985-417a-b443-04c40e5c5c99&quot;,&quot;title&quot;:&quot;Pruebas del controlador de tipos de productos&quot;,&quot;fullFile&quot;:&quot;D:\\4toCuatri\\DOCKER\\powerclean\\tests\\tipoProductoController.test.js&quot;,&quot;file&quot;:&quot;\\tests\\tipoProductoController.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after each\&quot; hook in \&quot;Pruebas del controlador de tipos de productos\&quot;&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de tipos de productos \&quot;after each\&quot; hook in \&quot;Pruebas del controlador de tipos de productos\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a4a34e8a-8d14-4119-894d-d75d29ca52cf&quot;,&quot;parentUUID&quot;:&quot;9db45083-e985-417a-b443-04c40e5c5c99&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;97613429-e543-4dc5-9217-492d611bc11d&quot;,&quot;title&quot;:&quot;Método GET: Obtiene todos los tipos de productos&quot;,&quot;fullFile&quot;:&quot;D:\\4toCuatri\\DOCKER\\powerclean\\tests\\tipoProductoController.test.js&quot;,&quot;file&quot;:&quot;\\tests\\tipoProductoController.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Debería obtener todos los tipos de productos exitosamente&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de tipos de productos Método GET: Obtiene todos los tipos de productos Debería obtener todos los tipos de productos exitosamente&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const mockTipoProductos = [\n    { id: 1, nombre: &#x27;Electrónica&#x27; },\n    { id: 2, nombre: &#x27;Ropa&#x27; }\n];\nsinon.stub(TipoProducto, &#x27;findAll&#x27;).resolves(mockTipoProductos);\nconst req = {};\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait TipoProductoController.getAllTipoProductos(req, res);\nexpect(res.status.calledWith(200)).to.be.true;\nexpect(res.json.calledWith({\n    code: 200,\n    message: &#x27;Operación exitosa&#x27;,\n    data: mockTipoProductos\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;375e5265-3d79-4f79-af99-927ddb835f50&quot;,&quot;parentUUID&quot;:&quot;97613429-e543-4dc5-9217-492d611bc11d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Debería manejar errores al obtener los tipos de productos&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de tipos de productos Método GET: Obtiene todos los tipos de productos Debería manejar errores al obtener los tipos de productos&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.stub(TipoProducto, &#x27;findAll&#x27;).rejects(new Error(&#x27;Error de base de datos&#x27;));\nconst req = {};\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait TipoProductoController.getAllTipoProductos(req, res);\nexpect(res.status.calledWith(500)).to.be.true;\nexpect(res.json.calledWith({\n    code: 500,\n    message: &#x27;Error de base de datos&#x27;,\n    data: null\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4fa49696-ec47-4906-97b8-55371db33c74&quot;,&quot;parentUUID&quot;:&quot;97613429-e543-4dc5-9217-492d611bc11d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;375e5265-3d79-4f79-af99-927ddb835f50&quot;,&quot;4fa49696-ec47-4906-97b8-55371db33c74&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;27c87797-f23b-4638-81aa-2a67a9738b56&quot;,&quot;title&quot;:&quot;Método GET: Obtiene un tipo de producto por ID&quot;,&quot;fullFile&quot;:&quot;D:\\4toCuatri\\DOCKER\\powerclean\\tests\\tipoProductoController.test.js&quot;,&quot;file&quot;:&quot;\\tests\\tipoProductoController.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Debería obtener un tipo de producto por ID exitosamente&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de tipos de productos Método GET: Obtiene un tipo de producto por ID Debería obtener un tipo de producto por ID exitosamente&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const mockTipoProducto = { id: 1, nombre: &#x27;Electrónica&#x27; };\nsinon.stub(TipoProducto, &#x27;findById&#x27;).resolves(mockTipoProducto);\nconst req = { params: { id: 1 } };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait TipoProductoController.getTipoProductoById(req, res);\nexpect(res.status.calledWith(200)).to.be.true;\nexpect(res.json.calledWith({\n    code: 200,\n    message: &#x27;Operación exitosa&#x27;,\n    data: mockTipoProducto\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;69cfe608-be69-4913-8da4-59be84065228&quot;,&quot;parentUUID&quot;:&quot;27c87797-f23b-4638-81aa-2a67a9738b56&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Debería devolver un error 404 si el tipo de producto no existe&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de tipos de productos Método GET: Obtiene un tipo de producto por ID Debería devolver un error 404 si el tipo de producto no existe&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.stub(TipoProducto, &#x27;findById&#x27;).resolves(null);\nconst req = { params: { id: 999 } };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait TipoProductoController.getTipoProductoById(req, res);\nexpect(res.status.calledWith(404)).to.be.true;\nexpect(res.json.calledWith({\n    code: 404,\n    message: &#x27;Tipo de producto no encontrado&#x27;,\n    data: null\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ce3d6fd9-c2f0-4a6a-baa6-8da2b6b99ebb&quot;,&quot;parentUUID&quot;:&quot;27c87797-f23b-4638-81aa-2a67a9738b56&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Debería manejar errores al obtener un tipo de producto por ID&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de tipos de productos Método GET: Obtiene un tipo de producto por ID Debería manejar errores al obtener un tipo de producto por ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.stub(TipoProducto, &#x27;findById&#x27;).rejects(new Error(&#x27;Error de base de datos&#x27;));\nconst req = { params: { id: 1 } };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait TipoProductoController.getTipoProductoById(req, res);\nexpect(res.status.calledWith(500)).to.be.true;\nexpect(res.json.calledWith({\n    code: 500,\n    message: &#x27;Error de base de datos&#x27;,\n    data: null\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1ff8922e-a025-45dd-af15-d7ab747d0a39&quot;,&quot;parentUUID&quot;:&quot;27c87797-f23b-4638-81aa-2a67a9738b56&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;69cfe608-be69-4913-8da4-59be84065228&quot;,&quot;ce3d6fd9-c2f0-4a6a-baa6-8da2b6b99ebb&quot;,&quot;1ff8922e-a025-45dd-af15-d7ab747d0a39&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:3,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;837cd214-3ce4-432b-bb38-4abc8b1c1373&quot;,&quot;title&quot;:&quot;Método POST: Crea un nuevo tipo de producto&quot;,&quot;fullFile&quot;:&quot;D:\\4toCuatri\\DOCKER\\powerclean\\tests\\tipoProductoController.test.js&quot;,&quot;file&quot;:&quot;\\tests\\tipoProductoController.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Debería crear un tipo de producto exitosamente&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de tipos de productos Método POST: Crea un nuevo tipo de producto Debería crear un tipo de producto exitosamente&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;// Mock de la respuesta esperada\nconst nuevoTipoProducto = { id: 1, nombre: &#x27;Michelln el de las llantas xd&#x27; };\nsinon.stub(TipoProducto, &#x27;create&#x27;).resolves(nuevoTipoProducto); // Simulamos la creación del tipo de producto\n    \nconst req = { body: { nombre: &#x27;Electrónica&#x27; } }; // El cuerpo de la solicitud\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\n    \nawait TipoProductoController.createTipoProducto(req, res);\n    \n// Verifica que se haya llamado con el código 201 y los datos correctos\nexpect(res.status.calledWith(201)).to.be.true;\nexpect(res.json.calledWith({\n    code: 201,\n    message: &#x27;El tipo de producto fue creado exitosamente&#x27;,\n    data: nuevoTipoProducto\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;30858cab-a8f9-4218-8b2e-fe3e06a55d83&quot;,&quot;parentUUID&quot;:&quot;837cd214-3ce4-432b-bb38-4abc8b1c1373&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Debería manejar errores al crear un tipo de producto&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de tipos de productos Método POST: Crea un nuevo tipo de producto Debería manejar errores al crear un tipo de producto&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.stub(TipoProducto, &#x27;create&#x27;).rejects(new Error(&#x27;Error al crear el tipo de producto&#x27;));\nconst req = { body: { nombre: &#x27;Electrónica&#x27; } };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait TipoProductoController.createTipoProducto(req, res);\nexpect(res.status.calledWith(500)).to.be.true;\nexpect(res.json.calledWith({\n    code: 500,\n    message: &#x27;Error al crear el tipo de producto&#x27;,\n    data: null\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;acd2bd18-d5f6-4dc0-88f5-c580dd6025ea&quot;,&quot;parentUUID&quot;:&quot;837cd214-3ce4-432b-bb38-4abc8b1c1373&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;30858cab-a8f9-4218-8b2e-fe3e06a55d83&quot;,&quot;acd2bd18-d5f6-4dc0-88f5-c580dd6025ea&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;e7d17647-de7e-4f84-90fb-d2b7886848cd&quot;,&quot;title&quot;:&quot;Método DELETE: Elimina un tipo de producto&quot;,&quot;fullFile&quot;:&quot;D:\\4toCuatri\\DOCKER\\powerclean\\tests\\tipoProductoController.test.js&quot;,&quot;file&quot;:&quot;\\tests\\tipoProductoController.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Debería eliminar un tipo de producto exitosamente&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de tipos de productos Método DELETE: Elimina un tipo de producto Debería eliminar un tipo de producto exitosamente&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const tipoProductoEliminado = { id: 1, nombre: &#x27;Producto A&#x27; };  // Simulamos el objeto eliminado\nsinon.stub(TipoProducto, &#x27;delete&#x27;).resolves(tipoProductoEliminado);  // Devuelve el objeto eliminado\n        \nconst req = { params: { id: 1 } };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\n        \nawait TipoProductoController.deleteTipoProducto(req, res);\n        \nexpect(res.status.calledWith(200)).to.be.true;\nexpect(res.json.calledWith({\n    code: 200,\n    message: &#x27;Tipo de producto eliminado exitosamente&#x27;,\n    data: tipoProductoEliminado  // Aseguramos que se devuelva el objeto eliminado\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2339fcd5-c5a2-45f8-8b43-5bb4cb5c717c&quot;,&quot;parentUUID&quot;:&quot;e7d17647-de7e-4f84-90fb-d2b7886848cd&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Debería devolver un error 404 si el tipo de producto no existe&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de tipos de productos Método DELETE: Elimina un tipo de producto Debería devolver un error 404 si el tipo de producto no existe&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.stub(TipoProducto, &#x27;delete&#x27;).resolves(false);\nconst req = { params: { id: 999 } };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait TipoProductoController.deleteTipoProducto(req, res);\nexpect(res.status.calledWith(404)).to.be.true;\nexpect(res.json.calledWith({\n    code: 404,\n    message: &#x27;Tipo de producto no encontrado&#x27;,\n    data: null\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a99a84ff-f780-4406-94b1-2e36c1b88e66&quot;,&quot;parentUUID&quot;:&quot;e7d17647-de7e-4f84-90fb-d2b7886848cd&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Debería manejar errores al eliminar un tipo de producto&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de tipos de productos Método DELETE: Elimina un tipo de producto Debería manejar errores al eliminar un tipo de producto&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.stub(TipoProducto, &#x27;delete&#x27;).rejects(new Error(&#x27;Error al eliminar el tipo de producto&#x27;));\nconst req = { params: { id: 1 } };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait TipoProductoController.deleteTipoProducto(req, res);\nexpect(res.status.calledWith(500)).to.be.true;\nexpect(res.json.calledWith({\n    code: 500,\n    message: &#x27;Error al eliminar el tipo de producto&#x27;,\n    data: null\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1e575537-2df0-42a1-9b48-78bc640fe0c6&quot;,&quot;parentUUID&quot;:&quot;e7d17647-de7e-4f84-90fb-d2b7886848cd&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;2339fcd5-c5a2-45f8-8b43-5bb4cb5c717c&quot;,&quot;a99a84ff-f780-4406-94b1-2e36c1b88e66&quot;,&quot;1e575537-2df0-42a1-9b48-78bc640fe0c6&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;d73a782e-b947-4f7a-8c1d-e71ebb617a1c&quot;,&quot;title&quot;:&quot;Pruebas del controlador de usuarios&quot;,&quot;fullFile&quot;:&quot;D:\\4toCuatri\\DOCKER\\powerclean\\tests\\usuarioController.test.js&quot;,&quot;file&quot;:&quot;\\tests\\usuarioController.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after each\&quot; hook in \&quot;Pruebas del controlador de usuarios\&quot;&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de usuarios \&quot;after each\&quot; hook in \&quot;Pruebas del controlador de usuarios\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;34802b90-1d91-446e-8d05-dab37d49fefd&quot;,&quot;parentUUID&quot;:&quot;d73a782e-b947-4f7a-8c1d-e71ebb617a1c&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;510ebab3-f982-4c90-97f5-905712cf566c&quot;,&quot;title&quot;:&quot;Método GET: Obtiene todos los usuarios&quot;,&quot;fullFile&quot;:&quot;D:\\4toCuatri\\DOCKER\\powerclean\\tests\\usuarioController.test.js&quot;,&quot;file&quot;:&quot;\\tests\\usuarioController.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Debería obtener todos los usuarios exitosamente&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de usuarios Método GET: Obtiene todos los usuarios Debería obtener todos los usuarios exitosamente&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const mockUsuarios = [\n    { id: 1, nombre: &#x27;Juan Pérez&#x27;, email: &#x27;juan@example.com&#x27; },\n    { id: 2, nombre: &#x27;Ana Gómez&#x27;, email: &#x27;ana@example.com&#x27; }\n];\nsinon.stub(Usuario, &#x27;findAll&#x27;).resolves(mockUsuarios);\nconst req = { headers: { Authorization: &#x27;powerclean&#x27; } };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait UsuarioController.getAllUsuarios(req, res);\nexpect(res.status.calledWith(200)).to.be.true;\nexpect(res.json.calledWith({\n    code: 200,\n    message: &#x27;Operación exitosa&#x27;,\n    data: mockUsuarios\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cd96cd56-58a2-48ee-a8d7-7e645a58c7cf&quot;,&quot;parentUUID&quot;:&quot;510ebab3-f982-4c90-97f5-905712cf566c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Debería manejar errores al obtener los usuarios&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de usuarios Método GET: Obtiene todos los usuarios Debería manejar errores al obtener los usuarios&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.stub(Usuario, &#x27;findAll&#x27;).rejects(new Error(&#x27;Error de base de datos&#x27;));\nconst req = { headers: { Authorization: &#x27;powerclean&#x27; } };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait UsuarioController.getAllUsuarios(req, res);\nexpect(res.status.calledWith(500)).to.be.true;\nexpect(res.json.calledWith({\n    code: 500,\n    message: &#x27;Error de base de datos&#x27;,\n    data: null\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a167b4fb-c8b6-4cd4-9fc9-f3f8ccdac842&quot;,&quot;parentUUID&quot;:&quot;510ebab3-f982-4c90-97f5-905712cf566c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;cd96cd56-58a2-48ee-a8d7-7e645a58c7cf&quot;,&quot;a167b4fb-c8b6-4cd4-9fc9-f3f8ccdac842&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;5cf3f89c-9a53-4ca4-b0f7-bdc3c2a4a56d&quot;,&quot;title&quot;:&quot;Método DELETE: Elimina un usuario&quot;,&quot;fullFile&quot;:&quot;D:\\4toCuatri\\DOCKER\\powerclean\\tests\\usuarioController.test.js&quot;,&quot;file&quot;:&quot;\\tests\\usuarioController.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Debería manejar errores al eliminar un usuario&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de usuarios Método DELETE: Elimina un usuario Debería manejar errores al eliminar un usuario&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.stub(Usuario, &#x27;delete&#x27;).rejects(new Error(&#x27;Error al eliminar el usuario&#x27;));\nconst req = { params: { id: 1 }, headers: { Authorization: &#x27;powerclean&#x27; } };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait UsuarioController.delete(req, res);\nexpect(res.status.calledWith(500)).to.be.true;\nexpect(res.json.calledWith({\n    code: 500,\n    message: &#x27;Error al eliminar el usuario&#x27;,\n    data: null\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3be78840-cb8f-4421-a40a-99b90e0c7a24&quot;,&quot;parentUUID&quot;:&quot;5cf3f89c-9a53-4ca4-b0f7-bdc3c2a4a56d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;3be78840-cb8f-4421-a40a-99b90e0c7a24&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;bb4f2120-3e8b-4c93-aac3-3d6bed925c0e&quot;,&quot;title&quot;:&quot;Método GET: Genera y descarga un archivo Excel con la lista de usuarios&quot;,&quot;fullFile&quot;:&quot;D:\\4toCuatri\\DOCKER\\powerclean\\tests\\usuarioController.test.js&quot;,&quot;file&quot;:&quot;\\tests\\usuarioController.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Debería generar y descargar el archivo Excel exitosamente&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de usuarios Método GET: Genera y descarga un archivo Excel con la lista de usuarios Debería generar y descargar el archivo Excel exitosamente&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:14,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const mockUsuarios = [\n    { id: 1, nombre: &#x27;Juan Pérez&#x27;, email: &#x27;juan@example.com&#x27; },\n    { id: 2, nombre: &#x27;Ana Gómez&#x27;, email: &#x27;ana@example.com&#x27; }\n];\nsinon.stub(Usuario, &#x27;generarExcel&#x27;).resolves(mockUsuarios);\nconst req = { headers: { Authorization: &#x27;powerclean&#x27; } };\nconst res = {\n    setHeader: sinon.stub(),\n    send: sinon.stub()\n};\nawait UsuarioController.downloadUsuariosExcel(req, res);\nexpect(res.setHeader.calledWith(&#x27;Content-Disposition&#x27;, &#x27;attachment; filename=usuarios.xlsx&#x27;)).to.be.true;\nexpect(res.setHeader.calledWith(&#x27;Content-Type&#x27;, &#x27;application/vnd.openxmlformats-officedocument.spreadsheetml.sheet&#x27;)).to.be.true;\nexpect(res.send.called).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;163ba449-8a9a-4da4-83b7-bca86fa0341d&quot;,&quot;parentUUID&quot;:&quot;bb4f2120-3e8b-4c93-aac3-3d6bed925c0e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;163ba449-8a9a-4da4-83b7-bca86fa0341d&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:14,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;8c69e4fc-37af-4c8f-820b-a3a21a8088ef&quot;,&quot;title&quot;:&quot;Pruebas del controlador de ventas&quot;,&quot;fullFile&quot;:&quot;D:\\4toCuatri\\DOCKER\\powerclean\\tests\\ventasController.test.js&quot;,&quot;file&quot;:&quot;\\tests\\ventasController.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after each\&quot; hook in \&quot;Pruebas del controlador de ventas\&quot;&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de ventas \&quot;after each\&quot; hook in \&quot;Pruebas del controlador de ventas\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f462a1af-ae66-4136-8a4d-fa9736a7a68d&quot;,&quot;parentUUID&quot;:&quot;8c69e4fc-37af-4c8f-820b-a3a21a8088ef&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;96e1a9a5-b0e5-4afd-9fbe-4408ccddb556&quot;,&quot;title&quot;:&quot;Método GET: Obtiene todas las ventas&quot;,&quot;fullFile&quot;:&quot;D:\\4toCuatri\\DOCKER\\powerclean\\tests\\ventasController.test.js&quot;,&quot;file&quot;:&quot;\\tests\\ventasController.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Debería obtener todas las ventas exitosamente&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de ventas Método GET: Obtiene todas las ventas Debería obtener todas las ventas exitosamente&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const mockVentas = [\n    { id: 1, folioVenta: &#x27;V001&#x27;, total: 100 },\n    { id: 2, folioVenta: &#x27;V002&#x27;, total: 200 }\n];\nsinon.stub(Venta, &#x27;findAll&#x27;).resolves(mockVentas);\nconst req = { headers: { Authorization: &#x27;powerclean&#x27; } };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait VentaController.getAllVentas(req, res);\nexpect(res.status.calledWith(200)).to.be.true;\nexpect(res.json.calledWith({\n    code: 200,\n    message: &#x27;Operación exitosa&#x27;,\n    data: mockVentas\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;74709834-a609-44ea-a877-1ee7544750fb&quot;,&quot;parentUUID&quot;:&quot;96e1a9a5-b0e5-4afd-9fbe-4408ccddb556&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Debería manejar errores al obtener las ventas&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de ventas Método GET: Obtiene todas las ventas Debería manejar errores al obtener las ventas&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.stub(Venta, &#x27;findAll&#x27;).rejects(new Error(&#x27;Error de base de datos&#x27;));\nconst req = { headers: { Authorization: &#x27;powerclean&#x27; } };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait VentaController.getAllVentas(req, res);\nexpect(res.status.calledWith(500)).to.be.true;\nexpect(res.json.calledWith({\n    code: 500,\n    message: &#x27;Error de base de datos&#x27;,\n    data: null\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2d406272-5e12-479f-af98-be0fa84506f3&quot;,&quot;parentUUID&quot;:&quot;96e1a9a5-b0e5-4afd-9fbe-4408ccddb556&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;74709834-a609-44ea-a877-1ee7544750fb&quot;,&quot;2d406272-5e12-479f-af98-be0fa84506f3&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;396b887c-adcd-49af-b7af-359643bba7c5&quot;,&quot;title&quot;:&quot;Método GET: Buscar ventas por todos los parámetros&quot;,&quot;fullFile&quot;:&quot;D:\\4toCuatri\\DOCKER\\powerclean\\tests\\ventasController.test.js&quot;,&quot;file&quot;:&quot;\\tests\\ventasController.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Debería buscar ventas exitosamente&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de ventas Método GET: Buscar ventas por todos los parámetros Debería buscar ventas exitosamente&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const searchString = &#x27;V001&#x27;;\nconst mockVentas = [{ id: 1, folioVenta: &#x27;V001&#x27;, total: 100 }];\nsinon.stub(Venta, &#x27;searchAllColumns&#x27;).resolves(mockVentas);\nconst req = { params: { q: searchString }, headers: { Authorization: &#x27;powerclean&#x27; } };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait VentaController.searchAllColumnsVentas(req, res);\nexpect(res.status.calledWith(200)).to.be.true;\nexpect(res.json.calledWith({\n    code: 200,\n    message: &#x27;Operación exitosa&#x27;,\n    data: mockVentas\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5583a9ac-3050-4041-a076-3e5f21a22015&quot;,&quot;parentUUID&quot;:&quot;396b887c-adcd-49af-b7af-359643bba7c5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Debería devolver un error si el parámetro \&quot;q\&quot; es obligatorio&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de ventas Método GET: Buscar ventas por todos los parámetros Debería devolver un error si el parámetro \&quot;q\&quot; es obligatorio&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const req = { params: {}, headers: { Authorization: &#x27;powerclean&#x27; } };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait VentaController.searchAllColumnsVentas(req, res);\nexpect(res.status.calledWith(400)).to.be.true;\nexpect(res.json.calledWith({\n    code: 400,\n    message: \&quot;El parámetro &#x27;q&#x27; es obligatorio\&quot;,\n    data: null\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;751d46bc-ef24-44fe-9e81-337c7d73b597&quot;,&quot;parentUUID&quot;:&quot;396b887c-adcd-49af-b7af-359643bba7c5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;5583a9ac-3050-4041-a076-3e5f21a22015&quot;,&quot;751d46bc-ef24-44fe-9e81-337c7d73b597&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;caa088e6-66cd-4d19-993d-b67020be1f77&quot;,&quot;title&quot;:&quot;Método POST: Crea una nueva venta&quot;,&quot;fullFile&quot;:&quot;D:\\4toCuatri\\DOCKER\\powerclean\\tests\\ventasController.test.js&quot;,&quot;file&quot;:&quot;\\tests\\ventasController.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Debería crear una venta exitosamente&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de ventas Método POST: Crea una nueva venta Debería crear una venta exitosamente&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const nuevaVenta = { id: 1, folioVenta: &#x27;V003&#x27;, total: 300 };\nsinon.stub(Venta, &#x27;create&#x27;).resolves(nuevaVenta);\nconst req = { body: { folioVenta: &#x27;V003&#x27;, total: 300 }, headers: { Authorization: &#x27;powerclean&#x27; } };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait VentaController.createVenta(req, res);\nexpect(res.status.calledWith(201)).to.be.true;\nexpect(res.json.calledWith({\n    code: 201,\n    message: &#x27;Venta creada exitosamente&#x27;,\n    data: nuevaVenta\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0678268f-b080-449f-8fc3-d358c9839bca&quot;,&quot;parentUUID&quot;:&quot;caa088e6-66cd-4d19-993d-b67020be1f77&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Debería manejar errores al crear una venta&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de ventas Método POST: Crea una nueva venta Debería manejar errores al crear una venta&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.stub(Venta, &#x27;create&#x27;).rejects(new Error(&#x27;Error al crear la venta&#x27;));\nconst req = { body: { folioVenta: &#x27;V003&#x27;, total: 300 }, headers: { Authorization: &#x27;powerclean&#x27; } };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait VentaController.createVenta(req, res);\nexpect(res.status.calledWith(500)).to.be.true;\nexpect(res.json.calledWith({\n    code: 500,\n    message: &#x27;Error al crear la venta&#x27;,\n    data: null\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;36a68782-2255-48e1-984a-4aecbc24d3f3&quot;,&quot;parentUUID&quot;:&quot;caa088e6-66cd-4d19-993d-b67020be1f77&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;0678268f-b080-449f-8fc3-d358c9839bca&quot;,&quot;36a68782-2255-48e1-984a-4aecbc24d3f3&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;85f9b1e1-1b72-4d96-b6cf-dc3890a90b57&quot;,&quot;title&quot;:&quot;Método GET: Obtiene una venta por ID (FolioVenta)&quot;,&quot;fullFile&quot;:&quot;D:\\4toCuatri\\DOCKER\\powerclean\\tests\\ventasController.test.js&quot;,&quot;file&quot;:&quot;\\tests\\ventasController.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Debería obtener una venta por ID exitosamente&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de ventas Método GET: Obtiene una venta por ID (FolioVenta) Debería obtener una venta por ID exitosamente&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const mockVenta = { id: 1, folioVenta: &#x27;V001&#x27;, total: 100 };\nsinon.stub(Venta, &#x27;findById&#x27;).resolves(mockVenta);\nconst req = { params: { id: &#x27;1&#x27; }, headers: { Authorization: &#x27;powerclean&#x27; } };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait VentaController.getVentaById(req, res);\nexpect(res.status.calledWith(200)).to.be.true;\nexpect(res.json.calledWith({\n    code: 200,\n    message: &#x27;Operación exitosa&#x27;,\n    data: mockVenta\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;711221a5-2b5e-4772-ab72-fac8accc1558&quot;,&quot;parentUUID&quot;:&quot;85f9b1e1-1b72-4d96-b6cf-dc3890a90b57&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Debería devolver un error 404 si la venta no existe&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de ventas Método GET: Obtiene una venta por ID (FolioVenta) Debería devolver un error 404 si la venta no existe&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.stub(Venta, &#x27;findById&#x27;).resolves(null);\nconst req = { params: { id: &#x27;999&#x27; }, headers: { Authorization: &#x27;powerclean&#x27; } };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait VentaController.getVentaById(req, res);\nexpect(res.status.calledWith(404)).to.be.true;\nexpect(res.json.calledWith({\n    code: 404,\n    message: &#x27;Operación de venta no encontrada&#x27;,\n    data: null\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e80b7db8-29a5-4be2-bc5d-331d82e5c10d&quot;,&quot;parentUUID&quot;:&quot;85f9b1e1-1b72-4d96-b6cf-dc3890a90b57&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;711221a5-2b5e-4772-ab72-fac8accc1558&quot;,&quot;e80b7db8-29a5-4be2-bc5d-331d82e5c10d&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:3,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;307ae8d9-51a3-407e-9ab1-76ebd5fa888d&quot;,&quot;title&quot;:&quot;Método PUT: Actualiza una venta&quot;,&quot;fullFile&quot;:&quot;D:\\4toCuatri\\DOCKER\\powerclean\\tests\\ventasController.test.js&quot;,&quot;file&quot;:&quot;\\tests\\ventasController.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Debería actualizar una venta exitosamente&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de ventas Método PUT: Actualiza una venta Debería actualizar una venta exitosamente&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const ventaActualizada = { id: 1, folioVenta: &#x27;V001&#x27;, total: 150 };\nsinon.stub(Venta, &#x27;update&#x27;).resolves(ventaActualizada);\nconst req = { params: { id: &#x27;1&#x27; }, body: { total: 150 }, headers: { Authorization: &#x27;powerclean&#x27; } };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait VentaController.updateVenta(req, res);\nexpect(res.status.calledWith(200)).to.be.true;\nexpect(res.json.calledWith({\n    code: 200,\n    message: &#x27;Venta actualizada exitosamente&#x27;,\n    data: ventaActualizada\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;30009817-296c-44ac-8d0d-69c5414222fc&quot;,&quot;parentUUID&quot;:&quot;307ae8d9-51a3-407e-9ab1-76ebd5fa888d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Debería devolver un error 404 si la venta no existe&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de ventas Método PUT: Actualiza una venta Debería devolver un error 404 si la venta no existe&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.stub(Venta, &#x27;update&#x27;).resolves(null);\nconst req = { params: { id: &#x27;999&#x27; }, body: { total: 150 }, headers: { Authorization: &#x27;powerclean&#x27; } };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait VentaController.updateVenta(req, res);\nexpect(res.status.calledWith(404)).to.be.true;\nexpect(res.json.calledWith({\n    code: 404,\n    message: &#x27;Operación de venta no encontrada&#x27;,\n    data: null\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;792dd9d7-cf4d-4bb7-9f20-ba7c525004d2&quot;,&quot;parentUUID&quot;:&quot;307ae8d9-51a3-407e-9ab1-76ebd5fa888d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;30009817-296c-44ac-8d0d-69c5414222fc&quot;,&quot;792dd9d7-cf4d-4bb7-9f20-ba7c525004d2&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;615b8da3-f11f-4064-9e2c-b34c0f9ec7de&quot;,&quot;title&quot;:&quot;Método DELETE: Elimina una venta&quot;,&quot;fullFile&quot;:&quot;D:\\4toCuatri\\DOCKER\\powerclean\\tests\\ventasController.test.js&quot;,&quot;file&quot;:&quot;\\tests\\ventasController.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Debería eliminar una venta exitosamente&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de ventas Método DELETE: Elimina una venta Debería eliminar una venta exitosamente&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const ventaEliminada = { id: 1, folioVenta: &#x27;V001&#x27;, total: 100 };\nsinon.stub(Venta, &#x27;delete&#x27;).resolves(ventaEliminada);\nconst req = { params: { id: &#x27;1&#x27; }, headers: { Authorization: &#x27;powerclean&#x27; } };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait VentaController.deleteVenta(req, res);\nexpect(res.status.calledWith(200)).to.be.true;\nexpect(res.json.calledWith({\n    code: 200,\n    message: &#x27;Venta eliminada exitosamente&#x27;,\n    data: null\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b5f4e9a5-1a71-402f-91cb-c7e2b30f3e17&quot;,&quot;parentUUID&quot;:&quot;615b8da3-f11f-4064-9e2c-b34c0f9ec7de&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Debería devolver un error 404 si la venta no existe&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de ventas Método DELETE: Elimina una venta Debería devolver un error 404 si la venta no existe&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.stub(Venta, &#x27;delete&#x27;).resolves(false);\nconst req = { params: { id: &#x27;999&#x27; }, headers: { Authorization: &#x27;powerclean&#x27; } };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait VentaController.deleteVenta(req, res);\nexpect(res.status.calledWith(404)).to.be.true;\nexpect(res.json.calledWith({\n    code: 404,\n    message: &#x27;Operación de venta no encontrada&#x27;,\n    data: null\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0a90a3f2-81e9-49db-9c9d-2b69cb7a1f3f&quot;,&quot;parentUUID&quot;:&quot;615b8da3-f11f-4064-9e2c-b34c0f9ec7de&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;b5f4e9a5-1a71-402f-91cb-c7e2b30f3e17&quot;,&quot;0a90a3f2-81e9-49db-9c9d-2b69cb7a1f3f&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:true,&quot;rootEmpty&quot;:true,&quot;_timeout&quot;:2000}],&quot;meta&quot;:{&quot;mocha&quot;:{&quot;version&quot;:&quot;10.7.3&quot;},&quot;mochawesome&quot;:{&quot;options&quot;:{&quot;quiet&quot;:false,&quot;reportFilename&quot;:&quot;mochawesome&quot;,&quot;saveHtml&quot;:true,&quot;saveJson&quot;:true,&quot;consoleReporter&quot;:&quot;spec&quot;,&quot;useInlineDiffs&quot;:false,&quot;code&quot;:true},&quot;version&quot;:&quot;7.1.3&quot;},&quot;marge&quot;:{&quot;version&quot;:&quot;6.2.0&quot;}}}" data-config="{&quot;reportFilename&quot;:&quot;mochawesome&quot;,&quot;reportDir&quot;:&quot;mochawesome-report&quot;,&quot;reportTitle&quot;:&quot;powerclean&quot;,&quot;reportPageTitle&quot;:&quot;Mochawesome Report&quot;,&quot;inline&quot;:false,&quot;inlineAssets&quot;:false,&quot;cdn&quot;:false,&quot;charts&quot;:false,&quot;enableCharts&quot;:false,&quot;code&quot;:true,&quot;enableCode&quot;:true,&quot;autoOpen&quot;:false,&quot;overwrite&quot;:true,&quot;timestamp&quot;:false,&quot;ts&quot;:false,&quot;showPassed&quot;:true,&quot;showFailed&quot;:true,&quot;showPending&quot;:true,&quot;showSkipped&quot;:false,&quot;showHooks&quot;:&quot;failed&quot;,&quot;saveJson&quot;:true,&quot;saveHtml&quot;:true,&quot;dev&quot;:false,&quot;assetsDir&quot;:&quot;mochawesome-report\\assets&quot;,&quot;jsonFile&quot;:&quot;D:\\4toCuatri\\DOCKER\\powerclean\\mochawesome-report\\mochawesome.json&quot;,&quot;htmlFile&quot;:&quot;D:\\4toCuatri\\DOCKER\\powerclean\\mochawesome-report\\mochawesome.html&quot;}"><div id="report"></div><script src="assets\app.js"></script></body></html>