<!doctype html>
<html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Mochawesome Report</title><link rel="stylesheet" href="assets\app.css"/></head><body data-raw="{&quot;stats&quot;:{&quot;suites&quot;:65,&quot;tests&quot;:106,&quot;passes&quot;:106,&quot;pending&quot;:0,&quot;failures&quot;:0,&quot;start&quot;:&quot;2024-11-28T20:31:23.020Z&quot;,&quot;end&quot;:&quot;2024-11-28T20:31:23.475Z&quot;,&quot;duration&quot;:455,&quot;testsRegistered&quot;:106,&quot;passPercent&quot;:100,&quot;pendingPercent&quot;:0,&quot;other&quot;:0,&quot;hasOther&quot;:false,&quot;skipped&quot;:0,&quot;hasSkipped&quot;:false},&quot;results&quot;:[{&quot;uuid&quot;:&quot;609c1356-a180-42f6-ae6d-dea391c6f842&quot;,&quot;title&quot;:&quot;&quot;,&quot;fullFile&quot;:&quot;&quot;,&quot;file&quot;:&quot;&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;948c75ee-70c9-4e19-9744-bf5949d11182&quot;,&quot;title&quot;:&quot;Pruebas del controlador de clientes&quot;,&quot;fullFile&quot;:&quot;D:\\4toCuatri\\DOCKER\\powerclean\\tests\\clienteControlador.test.js&quot;,&quot;file&quot;:&quot;\\tests\\clienteControlador.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after each\&quot; hook in \&quot;Pruebas del controlador de clientes\&quot;&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de clientes \&quot;after each\&quot; hook in \&quot;Pruebas del controlador de clientes\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ea24db50-fcdb-4bf4-ae77-145384c1f006&quot;,&quot;parentUUID&quot;:&quot;948c75ee-70c9-4e19-9744-bf5949d11182&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;e14cc3c2-dc6e-4ae7-853b-5cfa8a296ffb&quot;,&quot;title&quot;:&quot;Método GET: Obtiene todos los clientes&quot;,&quot;fullFile&quot;:&quot;D:\\4toCuatri\\DOCKER\\powerclean\\tests\\clienteControlador.test.js&quot;,&quot;file&quot;:&quot;\\tests\\clienteControlador.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Debería obtener todos los clientes exitosamente&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de clientes Método GET: Obtiene todos los clientes Debería obtener todos los clientes exitosamente&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const mockClientes = [\n    { id: 1, nombre: &#x27;Juan&#x27;, apellido: &#x27;Pérez&#x27; },\n    { id: 2, nombre: &#x27;Ana&#x27;, apellido: &#x27;López&#x27; }\n];\nsinon.stub(Cliente, &#x27;findAll&#x27;).resolves(mockClientes);\nconst req = {};\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait ClienteController.getAllClientes(req, res);\nexpect(res.status.calledWith(200)).to.be.true;\nexpect(res.json.calledWith({\n    code: 200,\n    message: &#x27;Operación exitosa&#x27;,\n    data: mockClientes\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8b20d16f-6472-49bc-af7f-8041b0d26113&quot;,&quot;parentUUID&quot;:&quot;e14cc3c2-dc6e-4ae7-853b-5cfa8a296ffb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Debería manejar errores al obtener los clientes&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de clientes Método GET: Obtiene todos los clientes Debería manejar errores al obtener los clientes&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.stub(Cliente, &#x27;findAll&#x27;).rejects(new Error(&#x27;Error de base de datos&#x27;));\nconst req = {};\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait ClienteController.getAllClientes(req, res);\nexpect(res.status.calledWith(500)).to.be.true;\nexpect(res.json.calledWith({\n    code: 500,\n    message: &#x27;Error de base de datos&#x27;,\n    data: null\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;60af4c4b-4b43-405d-8490-396119e737f8&quot;,&quot;parentUUID&quot;:&quot;e14cc3c2-dc6e-4ae7-853b-5cfa8a296ffb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;8b20d16f-6472-49bc-af7f-8041b0d26113&quot;,&quot;60af4c4b-4b43-405d-8490-396119e737f8&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:6,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;5e637e32-cc52-4be9-94b0-ffbe8e62acaf&quot;,&quot;title&quot;:&quot;Método GET: Buscar clientes por todos los parámetros&quot;,&quot;fullFile&quot;:&quot;D:\\4toCuatri\\DOCKER\\powerclean\\tests\\clienteControlador.test.js&quot;,&quot;file&quot;:&quot;\\tests\\clienteControlador.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Debería buscar clientes exitosamente&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de clientes Método GET: Buscar clientes por todos los parámetros Debería buscar clientes exitosamente&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const searchString = &#x27;Juan&#x27;;\nconst mockClientes = [{ id: 1, nombre: &#x27;Juan&#x27;, apellido: &#x27;Pérez&#x27; }];\nsinon.stub(Cliente, &#x27;searchAllColumns&#x27;).resolves(mockClientes);\nconst req = { params: { q: searchString } };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait ClienteController.searchAllColumns(req, res);\nexpect(res.status.calledWith(200)).to.be.true;\nexpect(res.json.calledWith({\n    code: 200,\n    message: &#x27;Operación exitosa&#x27;,\n    data: mockClientes\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;809a3f66-7a7c-48a4-96f6-19c6033ae20f&quot;,&quot;parentUUID&quot;:&quot;5e637e32-cc52-4be9-94b0-ffbe8e62acaf&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Debería devolver un error si el parámetro \&quot;q\&quot; es obligatorio&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de clientes Método GET: Buscar clientes por todos los parámetros Debería devolver un error si el parámetro \&quot;q\&quot; es obligatorio&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const req = { params: {} };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait ClienteController.searchAllColumns(req, res);\nexpect(res.status.calledWith(400)).to.be.true;\nexpect(res.json.calledWith({\n    code: 400,\n    message: \&quot;El parámetro &#x27;q&#x27; es obligatorio\&quot;,\n    data: null\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9f6a210f-601a-43e4-94c0-30feae28c4b4&quot;,&quot;parentUUID&quot;:&quot;5e637e32-cc52-4be9-94b0-ffbe8e62acaf&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;809a3f66-7a7c-48a4-96f6-19c6033ae20f&quot;,&quot;9f6a210f-601a-43e4-94c0-30feae28c4b4&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;4b6e0a40-0fb8-4420-8018-dbd0238347c2&quot;,&quot;title&quot;:&quot;Método POST: Crea un nuevo cliente&quot;,&quot;fullFile&quot;:&quot;D:\\4toCuatri\\DOCKER\\powerclean\\tests\\clienteControlador.test.js&quot;,&quot;file&quot;:&quot;\\tests\\clienteControlador.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Debería crear un cliente exitosamente&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de clientes Método POST: Crea un nuevo cliente Debería crear un cliente exitosamente&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const nuevoCliente = { id: 1, nombre: &#x27;Carlos&#x27;, apellido: &#x27;Sánchez&#x27; };\nsinon.stub(Cliente, &#x27;create&#x27;).resolves(nuevoCliente);\nconst req = { body: { nombre: &#x27;Carlos&#x27;, apellido: &#x27;Sánchez&#x27; } };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait ClienteController.createCliente(req, res);\nexpect(res.status.calledWith(201)).to.be.true;\nexpect(res.json.calledWith({\n    code: 201,\n    message: &#x27;Cliente creado exitosamente&#x27;,\n    data: nuevoCliente\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;011bf9e2-4674-4556-8f00-444eb2ea830f&quot;,&quot;parentUUID&quot;:&quot;4b6e0a40-0fb8-4420-8018-dbd0238347c2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Debería manejar errores al crear un cliente&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de clientes Método POST: Crea un nuevo cliente Debería manejar errores al crear un cliente&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.stub(Cliente, &#x27;create&#x27;).rejects(new Error(&#x27;Error al crear el cliente&#x27;));\nconst req = { body: { nombre: &#x27;Carlos&#x27;, apellido: &#x27;Sánchez&#x27; } };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait ClienteController.createCliente(req, res);\nexpect(res.status.calledWith(500)).to.be.true;\nexpect(res.json.calledWith({\n    code: 500,\n    message: &#x27;Error al crear el cliente&#x27;,\n    data: null\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4b8ee3d4-051b-492f-86f0-9bc5dad48969&quot;,&quot;parentUUID&quot;:&quot;4b6e0a40-0fb8-4420-8018-dbd0238347c2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;011bf9e2-4674-4556-8f00-444eb2ea830f&quot;,&quot;4b8ee3d4-051b-492f-86f0-9bc5dad48969&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:4,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;0cdacd38-db94-4c61-9486-ab87102d4778&quot;,&quot;title&quot;:&quot;Método GET: Obtiene un cliente por ID&quot;,&quot;fullFile&quot;:&quot;D:\\4toCuatri\\DOCKER\\powerclean\\tests\\clienteControlador.test.js&quot;,&quot;file&quot;:&quot;\\tests\\clienteControlador.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Debería obtener un cliente por ID exitosamente&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de clientes Método GET: Obtiene un cliente por ID Debería obtener un cliente por ID exitosamente&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const mockCliente = { id: 1, nombre: &#x27;Juan&#x27;, apellido: &#x27;Pérez&#x27; };\nsinon.stub(Cliente, &#x27;findById&#x27;).resolves(mockCliente);\nconst req = { params: { id: &#x27;1&#x27; } };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait ClienteController.getClienteById(req, res);\nexpect(res.status.calledWith(200)).to.be.true;\nexpect(res.json.calledWith({\n    code: 200,\n    message: &#x27;Operación exitosa&#x27;,\n    data: mockCliente\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ceed56c4-f8c9-4550-b683-85dd1a2d61b6&quot;,&quot;parentUUID&quot;:&quot;0cdacd38-db94-4c61-9486-ab87102d4778&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Debería devolver un error 404 si el cliente no existe&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de clientes Método GET: Obtiene un cliente por ID Debería devolver un error 404 si el cliente no existe&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.stub(Cliente, &#x27;findById&#x27;).resolves(null);\nconst req = { params: { id: &#x27;999&#x27; } };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait ClienteController.getClienteById(req, res);\nexpect(res.status.calledWith(404)).to.be.true;\nexpect(res.json.calledWith({\n    code: 404,\n    message: &#x27;Cliente no encontrado&#x27;,\n    data: null\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3fc49d9f-a0ca-4b28-b61f-2b966d76ae07&quot;,&quot;parentUUID&quot;:&quot;0cdacd38-db94-4c61-9486-ab87102d4778&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;ceed56c4-f8c9-4550-b683-85dd1a2d61b6&quot;,&quot;3fc49d9f-a0ca-4b28-b61f-2b966d76ae07&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:4,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;cc3b1d06-76ee-4b94-8fd4-457f35abd697&quot;,&quot;title&quot;:&quot;Método PUT: Actualiza un cliente&quot;,&quot;fullFile&quot;:&quot;D:\\4toCuatri\\DOCKER\\powerclean\\tests\\clienteControlador.test.js&quot;,&quot;file&quot;:&quot;\\tests\\clienteControlador.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Debería actualizar un cliente exitosamente&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de clientes Método PUT: Actualiza un cliente Debería actualizar un cliente exitosamente&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const clienteActualizado = { id: 1, nombre: &#x27;Juan&#x27;, apellido: &#x27;Pérez&#x27; };\nsinon.stub(Cliente, &#x27;update&#x27;).resolves(clienteActualizado);\nconst req = { params: { id: &#x27;1&#x27; }, body: { nombre: &#x27;Juan&#x27;, apellido: &#x27;Pérez&#x27; } };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait ClienteController.updateCliente(req, res);\nexpect(res.status.calledWith(200)).to.be.true;\nexpect(res.json.calledWith({\n    code: 200,\n    message: &#x27;Cliente actualizado exitosamente&#x27;,\n    data: clienteActualizado\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;74423249-2b9b-4612-9d8f-bcc4dff67169&quot;,&quot;parentUUID&quot;:&quot;cc3b1d06-76ee-4b94-8fd4-457f35abd697&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Debería devolver un error 404 si el cliente no existe&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de clientes Método PUT: Actualiza un cliente Debería devolver un error 404 si el cliente no existe&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.stub(Cliente, &#x27;update&#x27;).resolves(null);\nconst req = { params: { id: &#x27;999&#x27; }, body: { nombre: &#x27;Juan&#x27;, apellido: &#x27;Pérez&#x27; } };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait ClienteController.updateCliente(req, res);\nexpect(res.status.calledWith(404)).to.be.true;\nexpect(res.json.calledWith({\n    code: 404,\n    message: &#x27;Cliente no encontrado&#x27;,\n    data: null\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;41fa33c0-6c14-4c41-8c4d-525c2a3d6b2a&quot;,&quot;parentUUID&quot;:&quot;cc3b1d06-76ee-4b94-8fd4-457f35abd697&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;74423249-2b9b-4612-9d8f-bcc4dff67169&quot;,&quot;41fa33c0-6c14-4c41-8c4d-525c2a3d6b2a&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:3,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;cebf8087-74b9-49a0-895e-c8eec4c2e92b&quot;,&quot;title&quot;:&quot;Método DELETE: Elimina un cliente&quot;,&quot;fullFile&quot;:&quot;D:\\4toCuatri\\DOCKER\\powerclean\\tests\\clienteControlador.test.js&quot;,&quot;file&quot;:&quot;\\tests\\clienteControlador.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Debería eliminar un cliente exitosamente&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de clientes Método DELETE: Elimina un cliente Debería eliminar un cliente exitosamente&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const clienteEliminado = { id: 1, nombre: &#x27;Juan&#x27;, apellido: &#x27;Pérez&#x27; };\nsinon.stub(Cliente, &#x27;delete&#x27;).resolves(clienteEliminado);\nconst req = { params: { id: &#x27;1&#x27; } };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait ClienteController.deleteCliente(req, res);\nexpect(res.status.calledWith(200)).to.be.true;\nexpect(res.json.calledWith({\n    code: 200,\n    message: &#x27;Cliente eliminado exitosamente&#x27;,\n    data: null\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d7493d17-23ba-4807-8b57-04266b15b5c1&quot;,&quot;parentUUID&quot;:&quot;cebf8087-74b9-49a0-895e-c8eec4c2e92b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Debería devolver un error 404 si el cliente no existe&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de clientes Método DELETE: Elimina un cliente Debería devolver un error 404 si el cliente no existe&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.stub(Cliente, &#x27;delete&#x27;).resolves(false);\nconst req = { params: { id: &#x27;999&#x27; } };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait ClienteController.deleteCliente(req, res);\nexpect(res.status.calledWith(404)).to.be.true;\nexpect(res.json.calledWith({\n    code: 404,\n    message: &#x27;Cliente no encontrado&#x27;,\n    data: null\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f5392505-8e9e-4c6f-bda4-0224d3efdb63&quot;,&quot;parentUUID&quot;:&quot;cebf8087-74b9-49a0-895e-c8eec4c2e92b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;d7493d17-23ba-4807-8b57-04266b15b5c1&quot;,&quot;f5392505-8e9e-4c6f-bda4-0224d3efdb63&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:3,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;03df9bd4-83d0-495c-a3c8-eeda1d41437a&quot;,&quot;title&quot;:&quot;Método GET: Descargar clientes en formato Excel&quot;,&quot;fullFile&quot;:&quot;D:\\4toCuatri\\DOCKER\\powerclean\\tests\\clienteControlador.test.js&quot;,&quot;file&quot;:&quot;\\tests\\clienteControlador.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Debería generar y descargar el archivo Excel exitosamente&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de clientes Método GET: Descargar clientes en formato Excel Debería generar y descargar el archivo Excel exitosamente&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const mockClientes = [\n    { id: 1, nombre: &#x27;Juan&#x27;, apellido: &#x27;Pérez&#x27; },\n    { id: 2, nombre: &#x27;Ana&#x27;, apellido: &#x27;López&#x27; }\n];\nsinon.stub(Cliente, &#x27;generarExcel&#x27;).resolves(mockClientes);\nsinon.stub(excel, &#x27;write&#x27;).returns(Buffer.from(&#x27;test&#x27;));\nconst req = {};\nconst res = {\n    status: sinon.stub().returnsThis(),\n    setHeader: sinon.stub(),\n    send: sinon.stub()\n};\nawait ClienteController.downloadClientesExcel(req, res);\nexpect(res.setHeader.calledWith(&#x27;Content-Disposition&#x27;, &#x27;attachment; filename=clientes.xlsx&#x27;)).to.be.true;\nexpect(res.setHeader.calledWith(&#x27;Content-Type&#x27;, &#x27;application/vnd.openxmlformats-officedocument.spreadsheetml.sheet&#x27;)).to.be.true;\nexpect(res.send.calledOnce).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f91af03e-3112-4cb1-846c-cd6684465f22&quot;,&quot;parentUUID&quot;:&quot;03df9bd4-83d0-495c-a3c8-eeda1d41437a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Debería manejar errores al generar el archivo Excel&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de clientes Método GET: Descargar clientes en formato Excel Debería manejar errores al generar el archivo Excel&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.stub(Cliente, &#x27;generarExcel&#x27;).rejects(new Error(&#x27;Error al generar el archivo Excel&#x27;));\nconst req = {};\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait ClienteController.downloadClientesExcel(req, res);\nexpect(res.status.calledWith(500)).to.be.true;\nexpect(res.json.calledWith({\n    code: 500,\n    message: &#x27;Error al generar el archivo Excel.&#x27;,\n    data: null\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;de7d9cb3-b126-4099-83c3-eefeb0583504&quot;,&quot;parentUUID&quot;:&quot;03df9bd4-83d0-495c-a3c8-eeda1d41437a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;f91af03e-3112-4cb1-846c-cd6684465f22&quot;,&quot;de7d9cb3-b126-4099-83c3-eefeb0583504&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:11,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;a469912a-01e0-4e48-82f0-ebcc02044b0b&quot;,&quot;title&quot;:&quot;Pruebas del controlador de detalle de ventas&quot;,&quot;fullFile&quot;:&quot;D:\\4toCuatri\\DOCKER\\powerclean\\tests\\detalleVentaControlador.test.js&quot;,&quot;file&quot;:&quot;\\tests\\detalleVentaControlador.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after each\&quot; hook in \&quot;Pruebas del controlador de detalle de ventas\&quot;&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de detalle de ventas \&quot;after each\&quot; hook in \&quot;Pruebas del controlador de detalle de ventas\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5d84113b-6af6-444a-8ad1-83b64b8af473&quot;,&quot;parentUUID&quot;:&quot;a469912a-01e0-4e48-82f0-ebcc02044b0b&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;cd5106b2-47b3-42a3-9c19-c7f8e6d5135b&quot;,&quot;title&quot;:&quot;Método GET: Obtiene todos los detalles de ventas&quot;,&quot;fullFile&quot;:&quot;D:\\4toCuatri\\DOCKER\\powerclean\\tests\\detalleVentaControlador.test.js&quot;,&quot;file&quot;:&quot;\\tests\\detalleVentaControlador.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Debería obtener todos los detalles de ventas exitosamente&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de detalle de ventas Método GET: Obtiene todos los detalles de ventas Debería obtener todos los detalles de ventas exitosamente&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const mockDetalleVentas = [\n    { id: 1, producto: &#x27;Producto 1&#x27;, cantidad: 10 },\n    { id: 2, producto: &#x27;Producto 2&#x27;, cantidad: 20 }\n];\nsinon.stub(DetalleVenta, &#x27;findAll&#x27;).resolves(mockDetalleVentas);\nconst req = {};\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait DetalleVentaController.getAllDetalleVentas(req, res);\nexpect(res.status.calledWith(200)).to.be.true;\nexpect(res.json.calledWith({\n    code: 200,\n    message: &#x27;Operación exitosa&#x27;,\n    data: mockDetalleVentas\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e4189102-b573-49d9-b377-da4b67a2281b&quot;,&quot;parentUUID&quot;:&quot;cd5106b2-47b3-42a3-9c19-c7f8e6d5135b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Debería manejar errores al obtener los detalles de ventas&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de detalle de ventas Método GET: Obtiene todos los detalles de ventas Debería manejar errores al obtener los detalles de ventas&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.stub(DetalleVenta, &#x27;findAll&#x27;).rejects(new Error(&#x27;Error de base de datos&#x27;));\nconst req = {};\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait DetalleVentaController.getAllDetalleVentas(req, res);\nexpect(res.status.calledWith(500)).to.be.true;\nexpect(res.json.calledWith({\n    code: 500,\n    message: &#x27;Error de base de datos&#x27;,\n    data: null\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bcf8290c-2463-458f-9e23-dd14f07f50cc&quot;,&quot;parentUUID&quot;:&quot;cd5106b2-47b3-42a3-9c19-c7f8e6d5135b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;e4189102-b573-49d9-b377-da4b67a2281b&quot;,&quot;bcf8290c-2463-458f-9e23-dd14f07f50cc&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;aa42ca15-1b69-4a5e-a997-3f07bcf76973&quot;,&quot;title&quot;:&quot;Método GET: Buscar detalles de ventas por todos los parámetros&quot;,&quot;fullFile&quot;:&quot;D:\\4toCuatri\\DOCKER\\powerclean\\tests\\detalleVentaControlador.test.js&quot;,&quot;file&quot;:&quot;\\tests\\detalleVentaControlador.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Debería buscar detalles de ventas exitosamente&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de detalle de ventas Método GET: Buscar detalles de ventas por todos los parámetros Debería buscar detalles de ventas exitosamente&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const searchString = &#x27;Producto 1&#x27;;\nconst mockDetalleVentas = [{ id: 1, producto: &#x27;Producto 1&#x27;, cantidad: 10 }];\nsinon.stub(DetalleVenta, &#x27;searchAllColumns&#x27;).resolves(mockDetalleVentas);\nconst req = { params: { q: searchString } };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait DetalleVentaController.searchAllColumnsDetalleVentas(req, res);\nexpect(res.status.calledWith(200)).to.be.true;\nexpect(res.json.calledWith({\n    code: 200,\n    message: &#x27;Operación exitosa&#x27;,\n    data: mockDetalleVentas\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a5ca80ed-fbbb-455f-ab98-8a7d3d44d3d4&quot;,&quot;parentUUID&quot;:&quot;aa42ca15-1b69-4a5e-a997-3f07bcf76973&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Debería devolver un error si el parámetro \&quot;q\&quot; es obligatorio&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de detalle de ventas Método GET: Buscar detalles de ventas por todos los parámetros Debería devolver un error si el parámetro \&quot;q\&quot; es obligatorio&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const req = { params: {} };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait DetalleVentaController.searchAllColumnsDetalleVentas(req, res);\nexpect(res.status.calledWith(400)).to.be.true;\nexpect(res.json.calledWith({\n    code: 400,\n    message: \&quot;El parámetro &#x27;q&#x27; es obligatorio\&quot;,\n    data: null\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0ce30f9d-77e8-48ca-8c05-39a64b5b96d6&quot;,&quot;parentUUID&quot;:&quot;aa42ca15-1b69-4a5e-a997-3f07bcf76973&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;a5ca80ed-fbbb-455f-ab98-8a7d3d44d3d4&quot;,&quot;0ce30f9d-77e8-48ca-8c05-39a64b5b96d6&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;a72c68fe-34a0-4eb9-b25d-48d190e9ab03&quot;,&quot;title&quot;:&quot;Método POST: Crea un nuevo detalle de venta&quot;,&quot;fullFile&quot;:&quot;D:\\4toCuatri\\DOCKER\\powerclean\\tests\\detalleVentaControlador.test.js&quot;,&quot;file&quot;:&quot;\\tests\\detalleVentaControlador.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Debería crear un detalle de venta exitosamente&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de detalle de ventas Método POST: Crea un nuevo detalle de venta Debería crear un detalle de venta exitosamente&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const nuevoDetalleVenta = { id: 1, producto: &#x27;Producto 1&#x27;, cantidad: 10 };\nsinon.stub(DetalleVenta, &#x27;create&#x27;).resolves(nuevoDetalleVenta);\nconst req = { body: { producto: &#x27;Producto 1&#x27;, cantidad: 10 } };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait DetalleVentaController.createDetalleVenta(req, res);\nexpect(res.status.calledWith(201)).to.be.true;\nexpect(res.json.calledWith({\n    code: 201,\n    message: &#x27;El detalle de venta fue creado exitosamente&#x27;,\n    data: nuevoDetalleVenta\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e1678959-89af-423b-b059-75fb11095d29&quot;,&quot;parentUUID&quot;:&quot;a72c68fe-34a0-4eb9-b25d-48d190e9ab03&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Debería manejar errores al crear un detalle de venta&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de detalle de ventas Método POST: Crea un nuevo detalle de venta Debería manejar errores al crear un detalle de venta&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.stub(DetalleVenta, &#x27;create&#x27;).rejects(new Error(&#x27;Error al crear el detalle de venta&#x27;));\nconst req = { body: { producto: &#x27;Producto 1&#x27;, cantidad: 10 } };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait DetalleVentaController.createDetalleVenta(req, res);\nexpect(res.status.calledWith(500)).to.be.true;\nexpect(res.json.calledWith({\n    code: 500,\n    message: &#x27;Error al crear el detalle de venta&#x27;,\n    data: null\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;744491f2-3af9-4bab-894a-8bdb19f6f7db&quot;,&quot;parentUUID&quot;:&quot;a72c68fe-34a0-4eb9-b25d-48d190e9ab03&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;e1678959-89af-423b-b059-75fb11095d29&quot;,&quot;744491f2-3af9-4bab-894a-8bdb19f6f7db&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:3,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;9fc0e575-8f8e-4d9d-9322-9b4ce5adb1b9&quot;,&quot;title&quot;:&quot;Método GET: Obtiene un detalle de venta por ID&quot;,&quot;fullFile&quot;:&quot;D:\\4toCuatri\\DOCKER\\powerclean\\tests\\detalleVentaControlador.test.js&quot;,&quot;file&quot;:&quot;\\tests\\detalleVentaControlador.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Debería obtener un detalle de venta por ID exitosamente&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de detalle de ventas Método GET: Obtiene un detalle de venta por ID Debería obtener un detalle de venta por ID exitosamente&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const mockDetalleVenta = { id: 1, producto: &#x27;Producto 1&#x27;, cantidad: 10 };\nsinon.stub(DetalleVenta, &#x27;findById&#x27;).resolves(mockDetalleVenta);\nconst req = { params: { id: &#x27;1&#x27; } };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait DetalleVentaController.getDetalleVentaById(req, res);\nexpect(res.status.calledWith(200)).to.be.true;\nexpect(res.json.calledWith({\n    code: 200,\n    message: &#x27;Operación exitosa&#x27;,\n    data: mockDetalleVenta\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b9131a2a-10bb-4637-b391-299ce263ad47&quot;,&quot;parentUUID&quot;:&quot;9fc0e575-8f8e-4d9d-9322-9b4ce5adb1b9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Debería devolver un error 404 si el detalle de venta no existe&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de detalle de ventas Método GET: Obtiene un detalle de venta por ID Debería devolver un error 404 si el detalle de venta no existe&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.stub(DetalleVenta, &#x27;findById&#x27;).resolves(null);\nconst req = { params: { id: &#x27;999&#x27; } };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait DetalleVentaController.getDetalleVentaById(req, res);\nexpect(res.status.calledWith(404)).to.be.true;\nexpect(res.json.calledWith({\n    code: 404,\n    message: &#x27;Detalle de venta no encontrado&#x27;,\n    data: null\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b80fe4be-5673-4c99-9c4a-9e21d477d5f1&quot;,&quot;parentUUID&quot;:&quot;9fc0e575-8f8e-4d9d-9322-9b4ce5adb1b9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;b9131a2a-10bb-4637-b391-299ce263ad47&quot;,&quot;b80fe4be-5673-4c99-9c4a-9e21d477d5f1&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;7dddc16f-ad89-44a0-bfb5-fc4a40c7ef99&quot;,&quot;title&quot;:&quot;Método PUT: Actualiza un detalle de venta&quot;,&quot;fullFile&quot;:&quot;D:\\4toCuatri\\DOCKER\\powerclean\\tests\\detalleVentaControlador.test.js&quot;,&quot;file&quot;:&quot;\\tests\\detalleVentaControlador.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Debería actualizar un detalle de venta exitosamente&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de detalle de ventas Método PUT: Actualiza un detalle de venta Debería actualizar un detalle de venta exitosamente&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const detalleVentaActualizado = { id: 1, producto: &#x27;Producto 1&#x27;, cantidad: 15 };\nsinon.stub(DetalleVenta, &#x27;update&#x27;).resolves(detalleVentaActualizado);\nconst req = { params: { id: &#x27;1&#x27; }, body: { producto: &#x27;Producto 1&#x27;, cantidad: 15 } };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait DetalleVentaController.updateDetalleVenta(req, res);\nexpect(res.status.calledWith(200)).to.be.true;\nexpect(res.json.calledWith({\n    code: 200,\n    message: &#x27;El Detalle de venta fue actualizado exitosamente&#x27;,\n    data: detalleVentaActualizado\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0d3f5be6-e774-4bd3-b940-b35ddf0b5974&quot;,&quot;parentUUID&quot;:&quot;7dddc16f-ad89-44a0-bfb5-fc4a40c7ef99&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Debería devolver un error 404 si el detalle de venta no existe&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de detalle de ventas Método PUT: Actualiza un detalle de venta Debería devolver un error 404 si el detalle de venta no existe&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.stub(DetalleVenta, &#x27;update&#x27;).resolves(null);\nconst req = { params: { id: &#x27;999&#x27; }, body: { producto: &#x27;Producto 1&#x27;, cantidad: 15 } };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait DetalleVentaController.updateDetalleVenta(req, res);\nexpect(res.status.calledWith(404)).to.be.true;\nexpect(res.json.calledWith({\n    code: 404,\n    message: &#x27;El Detalle de venta no fue encontrado&#x27;,\n    data: null\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;eda5edf5-860b-479c-9bc5-48548e7d17d6&quot;,&quot;parentUUID&quot;:&quot;7dddc16f-ad89-44a0-bfb5-fc4a40c7ef99&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;0d3f5be6-e774-4bd3-b940-b35ddf0b5974&quot;,&quot;eda5edf5-860b-479c-9bc5-48548e7d17d6&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;aa5aae2c-eff9-4e91-a6db-dab87151d3b0&quot;,&quot;title&quot;:&quot;Método DELETE: Elimina un detalle de venta&quot;,&quot;fullFile&quot;:&quot;D:\\4toCuatri\\DOCKER\\powerclean\\tests\\detalleVentaControlador.test.js&quot;,&quot;file&quot;:&quot;\\tests\\detalleVentaControlador.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Debería eliminar un detalle de venta exitosamente&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de detalle de ventas Método DELETE: Elimina un detalle de venta Debería eliminar un detalle de venta exitosamente&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const detalleVentaEliminado = { id: 1, producto: &#x27;Producto 1&#x27;, cantidad: 10 };\nsinon.stub(DetalleVenta, &#x27;delete&#x27;).resolves(detalleVentaEliminado);\nconst req = { params: { id: &#x27;1&#x27; } };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait DetalleVentaController.deleteDetalleVenta(req, res);\nexpect(res.status.calledWith(200)).to.be.true;\nexpect(res.json.calledWith({\n    code: 200,\n    message: &#x27;Detalle de venta eliminado exitosamente&#x27;,\n    data: null\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7bc76f84-65a7-48b1-942c-a9a811691b15&quot;,&quot;parentUUID&quot;:&quot;aa5aae2c-eff9-4e91-a6db-dab87151d3b0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Debería devolver un error 404 si el detalle de venta no existe&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de detalle de ventas Método DELETE: Elimina un detalle de venta Debería devolver un error 404 si el detalle de venta no existe&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.stub(DetalleVenta, &#x27;delete&#x27;).resolves(false);\nconst req = { params: { id: &#x27;999&#x27; } };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait DetalleVentaController.deleteDetalleVenta(req, res);\nexpect(res.status.calledWith(404)).to.be.true;\nexpect(res.json.calledWith({\n    code: 404,\n    message: &#x27;Detalle de venta no encontrado&#x27;,\n    data: null\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3a69254c-cf08-482b-926d-955a7077655f&quot;,&quot;parentUUID&quot;:&quot;aa5aae2c-eff9-4e91-a6db-dab87151d3b0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;7bc76f84-65a7-48b1-942c-a9a811691b15&quot;,&quot;3a69254c-cf08-482b-926d-955a7077655f&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;90370115-3254-4d42-90c9-9eca5a702bc7&quot;,&quot;title&quot;:&quot;Método GET: Descargar detalle de ventas en Excel&quot;,&quot;fullFile&quot;:&quot;D:\\4toCuatri\\DOCKER\\powerclean\\tests\\detalleVentaControlador.test.js&quot;,&quot;file&quot;:&quot;\\tests\\detalleVentaControlador.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Debería generar y descargar el archivo Excel exitosamente&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de detalle de ventas Método GET: Descargar detalle de ventas en Excel Debería generar y descargar el archivo Excel exitosamente&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const mockDetalleVentas = [\n    { id: 1, producto: &#x27;Producto 1&#x27;, cantidad: 10 },\n    { id: 2, producto: &#x27;Producto 2&#x27;, cantidad: 20 }\n];\nsinon.stub(DetalleVenta, &#x27;generarExcel&#x27;).resolves(mockDetalleVentas);\nsinon.stub(excel, &#x27;write&#x27;).returns(Buffer.from(&#x27;test&#x27;));\nconst req = {};\nconst res = {\n    setHeader: sinon.stub(),\n    send: sinon.stub()\n};\nawait DetalleVentaController.downloadDetalleVentasExcel(req, res);\nexpect(res.setHeader.calledWith(&#x27;Content-Disposition&#x27;, &#x27;attachment; filename=detalle_ventas.xlsx&#x27;)).to.be.true;\nexpect(res.setHeader.calledWith(&#x27;Content-Type&#x27;, &#x27;application/vnd.openxmlformats-officedocument.spreadsheetml.sheet&#x27;)).to.be.true;\nexpect(res.send.calledOnce).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bf2aff87-1a7b-4d51-a0cb-2c5b3dad2eb3&quot;,&quot;parentUUID&quot;:&quot;90370115-3254-4d42-90c9-9eca5a702bc7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Debería manejar errores al generar el archivo Excel&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de detalle de ventas Método GET: Descargar detalle de ventas en Excel Debería manejar errores al generar el archivo Excel&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.stub(DetalleVenta, &#x27;generarExcel&#x27;).rejects(new Error(&#x27;Error al generar el archivo Excel&#x27;));\nconst req = {};\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait DetalleVentaController.downloadDetalleVentasExcel(req, res);\nexpect(res.status.calledWith(500)).to.be.true;\nexpect(res.json.calledWith({\n    code: 500,\n    message: &#x27;Error al generar el archivo Excel.&#x27;,\n    data: null\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9e27154c-ced2-48c6-b57d-6bd80801243f&quot;,&quot;parentUUID&quot;:&quot;90370115-3254-4d42-90c9-9eca5a702bc7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;bf2aff87-1a7b-4d51-a0cb-2c5b3dad2eb3&quot;,&quot;9e27154c-ced2-48c6-b57d-6bd80801243f&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:4,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;d4c33d31-80b2-489d-aaa8-b5461970ac1f&quot;,&quot;title&quot;:&quot;Pruebas del controlador de empleados&quot;,&quot;fullFile&quot;:&quot;D:\\4toCuatri\\DOCKER\\powerclean\\tests\\empleadosController.test.js&quot;,&quot;file&quot;:&quot;\\tests\\empleadosController.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after each\&quot; hook in \&quot;Pruebas del controlador de empleados\&quot;&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de empleados \&quot;after each\&quot; hook in \&quot;Pruebas del controlador de empleados\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;84052dcf-5c67-4f5d-9267-01cee9f1d68d&quot;,&quot;parentUUID&quot;:&quot;d4c33d31-80b2-489d-aaa8-b5461970ac1f&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;8e6e1b8c-3ff2-4991-961f-723d7e74c91a&quot;,&quot;title&quot;:&quot;Método GET: Obtener todos los empleados&quot;,&quot;fullFile&quot;:&quot;D:\\4toCuatri\\DOCKER\\powerclean\\tests\\empleadosController.test.js&quot;,&quot;file&quot;:&quot;\\tests\\empleadosController.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Debería obtener todos los empleados exitosamente&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de empleados Método GET: Obtener todos los empleados Debería obtener todos los empleados exitosamente&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const mockEmpleados = [\n    { id: 1, nombre: &#x27;Juan&#x27;, apellido: &#x27;Pérez&#x27; },\n    { id: 2, nombre: &#x27;Ana&#x27;, apellido: &#x27;Gómez&#x27; }\n];\nsinon.stub(Empleado, &#x27;findAll&#x27;).resolves(mockEmpleados);\nconst req = {};\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait EmpleadoController.getAllEmpleados(req, res);\nexpect(res.status.calledWith(200)).to.be.true;\nexpect(res.json.calledWith({\n    code: 200,\n    message: &#x27;Operación exitosa&#x27;,\n    data: mockEmpleados\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3b46c398-44fc-4010-ac03-c66326963440&quot;,&quot;parentUUID&quot;:&quot;8e6e1b8c-3ff2-4991-961f-723d7e74c91a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Debería manejar errores al obtener los empleados&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de empleados Método GET: Obtener todos los empleados Debería manejar errores al obtener los empleados&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.stub(Empleado, &#x27;findAll&#x27;).rejects(new Error(&#x27;Error de base de datos&#x27;));\nconst req = {};\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait EmpleadoController.getAllEmpleados(req, res);\nexpect(res.status.calledWith(500)).to.be.true;\nexpect(res.json.calledWith({\n    code: 500,\n    message: &#x27;Error de base de datos&#x27;,\n    data: null\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;00e42f80-9374-4c8c-92dc-1acd21ced918&quot;,&quot;parentUUID&quot;:&quot;8e6e1b8c-3ff2-4991-961f-723d7e74c91a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;3b46c398-44fc-4010-ac03-c66326963440&quot;,&quot;00e42f80-9374-4c8c-92dc-1acd21ced918&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;acbb68af-99db-4ea0-9c27-b6f2f387d927&quot;,&quot;title&quot;:&quot;Método GET: Buscar empleados por todos los parámetros&quot;,&quot;fullFile&quot;:&quot;D:\\4toCuatri\\DOCKER\\powerclean\\tests\\empleadosController.test.js&quot;,&quot;file&quot;:&quot;\\tests\\empleadosController.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Debería buscar empleados exitosamente&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de empleados Método GET: Buscar empleados por todos los parámetros Debería buscar empleados exitosamente&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const searchString = &#x27;Juan&#x27;;\nconst mockEmpleados = [{ id: 1, nombre: &#x27;Juan&#x27;, apellido: &#x27;Pérez&#x27; }];\nsinon.stub(Empleado, &#x27;searchAllColumns&#x27;).resolves(mockEmpleados);\nconst req = { params: { q: searchString } };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait EmpleadoController.searchAllColumns(req, res);\nexpect(res.status.calledWith(200)).to.be.true;\nexpect(res.json.calledWith({\n    code: 200,\n    message: &#x27;Operación exitosa&#x27;,\n    data: mockEmpleados\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d114742a-cfe4-4b88-a889-86bc2223b9f6&quot;,&quot;parentUUID&quot;:&quot;acbb68af-99db-4ea0-9c27-b6f2f387d927&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Debería devolver un error si el parámetro \&quot;q\&quot; es obligatorio&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de empleados Método GET: Buscar empleados por todos los parámetros Debería devolver un error si el parámetro \&quot;q\&quot; es obligatorio&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const req = { params: {} };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait EmpleadoController.searchAllColumns(req, res);\nexpect(res.status.calledWith(400)).to.be.true;\nexpect(res.json.calledWith({\n    code: 400,\n    message: \&quot;El parámetro &#x27;q&#x27; es obligatorio\&quot;,\n    data: null\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;be0dc31a-2808-48b9-9d5e-ef6b45e623b8&quot;,&quot;parentUUID&quot;:&quot;acbb68af-99db-4ea0-9c27-b6f2f387d927&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;d114742a-cfe4-4b88-a889-86bc2223b9f6&quot;,&quot;be0dc31a-2808-48b9-9d5e-ef6b45e623b8&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;623aadf8-f0fd-4c06-8da4-5cc1d0997633&quot;,&quot;title&quot;:&quot;Método POST: Crear un nuevo empleado&quot;,&quot;fullFile&quot;:&quot;D:\\4toCuatri\\DOCKER\\powerclean\\tests\\empleadosController.test.js&quot;,&quot;file&quot;:&quot;\\tests\\empleadosController.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Debería crear un empleado exitosamente&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de empleados Método POST: Crear un nuevo empleado Debería crear un empleado exitosamente&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const nuevoEmpleado = { id: 1, nombre: &#x27;Juan&#x27;, apellido: &#x27;Pérez&#x27; };\nsinon.stub(Empleado, &#x27;create&#x27;).resolves(nuevoEmpleado);\nconst req = { body: { nombre: &#x27;Juan&#x27;, apellido: &#x27;Pérez&#x27; } };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait EmpleadoController.createEmpleado(req, res);\nexpect(res.status.calledWith(201)).to.be.true;\nexpect(res.json.calledWith({\n    code: 201,\n    message: &#x27;Empleado creado exitosamente&#x27;,\n    data: nuevoEmpleado\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9fab1304-6a2a-4b4f-b1c6-65342933434d&quot;,&quot;parentUUID&quot;:&quot;623aadf8-f0fd-4c06-8da4-5cc1d0997633&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Debería manejar errores al crear un empleado&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de empleados Método POST: Crear un nuevo empleado Debería manejar errores al crear un empleado&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.stub(Empleado, &#x27;create&#x27;).rejects(new Error(&#x27;Error al crear el empleado&#x27;));\nconst req = { body: { nombre: &#x27;Juan&#x27;, apellido: &#x27;Pérez&#x27; } };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait EmpleadoController.createEmpleado(req, res);\nexpect(res.status.calledWith(500)).to.be.true;\nexpect(res.json.calledWith({\n    code: 500,\n    message: &#x27;Error al crear el empleado&#x27;,\n    data: null\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;86281552-a417-49cb-8135-9815eb16470a&quot;,&quot;parentUUID&quot;:&quot;623aadf8-f0fd-4c06-8da4-5cc1d0997633&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;9fab1304-6a2a-4b4f-b1c6-65342933434d&quot;,&quot;86281552-a417-49cb-8135-9815eb16470a&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;7bb34e37-d571-4a8f-81c0-21bf70b13e4e&quot;,&quot;title&quot;:&quot;Método GET: Obtener un empleado por ID&quot;,&quot;fullFile&quot;:&quot;D:\\4toCuatri\\DOCKER\\powerclean\\tests\\empleadosController.test.js&quot;,&quot;file&quot;:&quot;\\tests\\empleadosController.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Debería obtener un empleado por ID exitosamente&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de empleados Método GET: Obtener un empleado por ID Debería obtener un empleado por ID exitosamente&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const mockEmpleado = { id: 1, nombre: &#x27;Juan&#x27;, apellido: &#x27;Pérez&#x27; };\nsinon.stub(Empleado, &#x27;findById&#x27;).resolves(mockEmpleado);\nconst req = { params: { id: &#x27;1&#x27; } };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait EmpleadoController.getEmpleadoById(req, res);\nexpect(res.status.calledWith(200)).to.be.true;\nexpect(res.json.calledWith({\n    code: 200,\n    message: &#x27;Operación exitosa&#x27;,\n    data: mockEmpleado\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;44f2cffb-6525-4d86-b2f8-6c1886860f3d&quot;,&quot;parentUUID&quot;:&quot;7bb34e37-d571-4a8f-81c0-21bf70b13e4e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Debería devolver un error 404 si el empleado no existe&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de empleados Método GET: Obtener un empleado por ID Debería devolver un error 404 si el empleado no existe&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.stub(Empleado, &#x27;findById&#x27;).resolves(null);\nconst req = { params: { id: &#x27;999&#x27; } };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait EmpleadoController.getEmpleadoById(req, res);\nexpect(res.status.calledWith(404)).to.be.true;\nexpect(res.json.calledWith({\n    code: 404,\n    message: &#x27;Empleado no encontrado&#x27;,\n    data: null\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;874d1a8d-4743-47e6-87e7-cc44d3ac7026&quot;,&quot;parentUUID&quot;:&quot;7bb34e37-d571-4a8f-81c0-21bf70b13e4e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;44f2cffb-6525-4d86-b2f8-6c1886860f3d&quot;,&quot;874d1a8d-4743-47e6-87e7-cc44d3ac7026&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;af5064bb-d2da-4f70-8335-144e69dc9b85&quot;,&quot;title&quot;:&quot;Método PUT: Actualizar un empleado&quot;,&quot;fullFile&quot;:&quot;D:\\4toCuatri\\DOCKER\\powerclean\\tests\\empleadosController.test.js&quot;,&quot;file&quot;:&quot;\\tests\\empleadosController.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Debería actualizar un empleado exitosamente&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de empleados Método PUT: Actualizar un empleado Debería actualizar un empleado exitosamente&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const empleadoActualizado = { id: 1, nombre: &#x27;Juan&#x27;, apellido: &#x27;Pérez&#x27; };\nsinon.stub(Empleado, &#x27;update&#x27;).resolves(empleadoActualizado);\nconst req = { params: { id: &#x27;1&#x27; }, body: { nombre: &#x27;Juan&#x27;, apellido: &#x27;Pérez&#x27; } };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait EmpleadoController.updateEmpleado(req, res);\nexpect(res.status.calledWith(200)).to.be.true;\nexpect(res.json.calledWith({\n    code: 200,\n    message: &#x27;Empleado actualizado exitosamente&#x27;,\n    data: empleadoActualizado\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3bde8b5f-c4e9-4d42-9a3b-b0f250431666&quot;,&quot;parentUUID&quot;:&quot;af5064bb-d2da-4f70-8335-144e69dc9b85&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Debería devolver un error 404 si el empleado no existe&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de empleados Método PUT: Actualizar un empleado Debería devolver un error 404 si el empleado no existe&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.stub(Empleado, &#x27;update&#x27;).resolves(null);\nconst req = { params: { id: &#x27;999&#x27; }, body: { nombre: &#x27;Juan&#x27;, apellido: &#x27;Pérez&#x27; } };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait EmpleadoController.updateEmpleado(req, res);\nexpect(res.status.calledWith(404)).to.be.true;\nexpect(res.json.calledWith({\n    code: 404,\n    message: &#x27;Empleado no encontrado&#x27;,\n    data: null\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4c281cca-c18e-4369-9d49-31b1e0056997&quot;,&quot;parentUUID&quot;:&quot;af5064bb-d2da-4f70-8335-144e69dc9b85&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;3bde8b5f-c4e9-4d42-9a3b-b0f250431666&quot;,&quot;4c281cca-c18e-4369-9d49-31b1e0056997&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;edbb2b78-c6dc-451d-b73f-7f44455f9f60&quot;,&quot;title&quot;:&quot;Método DELETE: Eliminar un empleado&quot;,&quot;fullFile&quot;:&quot;D:\\4toCuatri\\DOCKER\\powerclean\\tests\\empleadosController.test.js&quot;,&quot;file&quot;:&quot;\\tests\\empleadosController.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Debería eliminar un empleado exitosamente&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de empleados Método DELETE: Eliminar un empleado Debería eliminar un empleado exitosamente&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const empleadoEliminado = { id: 1, nombre: &#x27;Juan&#x27;, apellido: &#x27;Pérez&#x27; };\nsinon.stub(Empleado, &#x27;delete&#x27;).resolves(empleadoEliminado);\nconst req = { params: { id: &#x27;1&#x27; } };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait EmpleadoController.deleteEmpleado(req, res);\nexpect(res.status.calledWith(200)).to.be.true;\nexpect(res.json.calledWith({\n    code: 200,\n    message: &#x27;Empleado eliminado exitosamente&#x27;,\n    data: null\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bab26854-f9a3-4b7b-9fc4-2761db028331&quot;,&quot;parentUUID&quot;:&quot;edbb2b78-c6dc-451d-b73f-7f44455f9f60&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Debería devolver un error 404 si el empleado no existe&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de empleados Método DELETE: Eliminar un empleado Debería devolver un error 404 si el empleado no existe&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.stub(Empleado, &#x27;delete&#x27;).resolves(false);\nconst req = { params: { id: &#x27;999&#x27; } };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait EmpleadoController.deleteEmpleado(req, res);\nexpect(res.status.calledWith(404)).to.be.true;\nexpect(res.json.calledWith({\n    code: 404,\n    message: &#x27;Empleado no encontrado&#x27;,\n    data: null\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;442f72c4-51af-4f11-8e5e-59fb38aef669&quot;,&quot;parentUUID&quot;:&quot;edbb2b78-c6dc-451d-b73f-7f44455f9f60&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;bab26854-f9a3-4b7b-9fc4-2761db028331&quot;,&quot;442f72c4-51af-4f11-8e5e-59fb38aef669&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;3e02e984-1fd2-43ef-8f08-a950ba2614ca&quot;,&quot;title&quot;:&quot;Método GET: Descargar empleados en Excel&quot;,&quot;fullFile&quot;:&quot;D:\\4toCuatri\\DOCKER\\powerclean\\tests\\empleadosController.test.js&quot;,&quot;file&quot;:&quot;\\tests\\empleadosController.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Debería generar y descargar el archivo Excel exitosamente&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de empleados Método GET: Descargar empleados en Excel Debería generar y descargar el archivo Excel exitosamente&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const mockEmpleados = [\n    { id: 1, nombre: &#x27;Juan&#x27;, apellido: &#x27;Pérez&#x27; },\n    { id: 2, nombre: &#x27;Ana&#x27;, apellido: &#x27;Gómez&#x27; }\n];\nsinon.stub(Empleado, &#x27;generarExcel&#x27;).resolves(mockEmpleados);\nsinon.stub(excel, &#x27;write&#x27;).returns(Buffer.from(&#x27;test&#x27;));\nconst req = {};\nconst res = {\n    setHeader: sinon.stub(),\n    send: sinon.stub()\n};\nawait EmpleadoController.downloadEmpleadosExcel(req, res);\nexpect(res.setHeader.calledWith(&#x27;Content-Disposition&#x27;, &#x27;attachment; filename=empleados.xlsx&#x27;)).to.be.true;\nexpect(res.setHeader.calledWith(&#x27;Content-Type&#x27;, &#x27;application/vnd.openxmlformats-officedocument.spreadsheetml.sheet&#x27;)).to.be.true;\nexpect(res.send.calledOnce).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;63d6be0e-43c7-4e92-a529-6a4bdc7ad267&quot;,&quot;parentUUID&quot;:&quot;3e02e984-1fd2-43ef-8f08-a950ba2614ca&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Debería manejar errores al generar el archivo Excel&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de empleados Método GET: Descargar empleados en Excel Debería manejar errores al generar el archivo Excel&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.stub(Empleado, &#x27;generarExcel&#x27;).rejects(new Error(&#x27;Error al generar el archivo Excel&#x27;));\nconst req = {};\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait EmpleadoController.downloadEmpleadosExcel(req, res);\nexpect(res.status.calledWith(500)).to.be.true;\nexpect(res.json.calledWith({\n    code: 500,\n    message: &#x27;Error al generar el archivo Excel.&#x27;,\n    data: null\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ab6cdc5e-f7ad-4eae-8755-fe0c5d5a0717&quot;,&quot;parentUUID&quot;:&quot;3e02e984-1fd2-43ef-8f08-a950ba2614ca&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;63d6be0e-43c7-4e92-a529-6a4bdc7ad267&quot;,&quot;ab6cdc5e-f7ad-4eae-8755-fe0c5d5a0717&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:4,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;b8d26f0a-d3a4-47f3-b4b1-381115491488&quot;,&quot;title&quot;:&quot;Pruebas del controlador de inventarios&quot;,&quot;fullFile&quot;:&quot;D:\\4toCuatri\\DOCKER\\powerclean\\tests\\inventarioController.test.js&quot;,&quot;file&quot;:&quot;\\tests\\inventarioController.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after each\&quot; hook in \&quot;Pruebas del controlador de inventarios\&quot;&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de inventarios \&quot;after each\&quot; hook in \&quot;Pruebas del controlador de inventarios\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7dbafa8a-1ffa-481e-9004-16fd73276756&quot;,&quot;parentUUID&quot;:&quot;b8d26f0a-d3a4-47f3-b4b1-381115491488&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;fa8ae884-96d4-4663-b8c9-43e4c866340f&quot;,&quot;title&quot;:&quot;Método GET: Obtiene todos los inventarios&quot;,&quot;fullFile&quot;:&quot;D:\\4toCuatri\\DOCKER\\powerclean\\tests\\inventarioController.test.js&quot;,&quot;file&quot;:&quot;\\tests\\inventarioController.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Debería obtener todos los inventarios exitosamente&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de inventarios Método GET: Obtiene todos los inventarios Debería obtener todos los inventarios exitosamente&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const mockInventarios = [\n    { id: 1, nombre: &#x27;Producto 1&#x27;, cantidad: 10 },\n    { id: 2, nombre: &#x27;Producto 2&#x27;, cantidad: 20 }\n];\nsinon.stub(Inventario, &#x27;findAll&#x27;).resolves(mockInventarios);\nconst req = {};\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait InventarioController.getAllInventario(req, res);\nexpect(res.status.calledWith(200)).to.be.true;\nexpect(res.json.calledWith({\n    code: 200,\n    message: &#x27;Operación exitosa&#x27;,\n    data: mockInventarios\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9dd66035-b2e7-45c3-b385-2710d4f41dcd&quot;,&quot;parentUUID&quot;:&quot;fa8ae884-96d4-4663-b8c9-43e4c866340f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Debería manejar errores al obtener los inventarios&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de inventarios Método GET: Obtiene todos los inventarios Debería manejar errores al obtener los inventarios&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.stub(Inventario, &#x27;findAll&#x27;).rejects(new Error(&#x27;Error de base de datos&#x27;));\nconst req = {};\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait InventarioController.getAllInventario(req, res);\nexpect(res.status.calledWith(500)).to.be.true;\nexpect(res.json.calledWith({\n    code: 500,\n    message: &#x27;Error de base de datos&#x27;,\n    data: null\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c3b22b6e-b0fc-4ccf-a8c8-1611e651b7ae&quot;,&quot;parentUUID&quot;:&quot;fa8ae884-96d4-4663-b8c9-43e4c866340f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;9dd66035-b2e7-45c3-b385-2710d4f41dcd&quot;,&quot;c3b22b6e-b0fc-4ccf-a8c8-1611e651b7ae&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;40ae9494-7988-4672-b5d9-a07284407ded&quot;,&quot;title&quot;:&quot;Método GET: Buscar inventarios por todos los parámetros&quot;,&quot;fullFile&quot;:&quot;D:\\4toCuatri\\DOCKER\\powerclean\\tests\\inventarioController.test.js&quot;,&quot;file&quot;:&quot;\\tests\\inventarioController.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Debería buscar inventarios exitosamente&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de inventarios Método GET: Buscar inventarios por todos los parámetros Debería buscar inventarios exitosamente&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const searchString = &#x27;Producto&#x27;;\nconst mockInventarios = [{ id: 1, nombre: &#x27;Producto 1&#x27;, cantidad: 10 }];\nsinon.stub(Inventario, &#x27;searchAllColumns&#x27;).resolves(mockInventarios);\nconst req = { params: { q: searchString } };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait InventarioController.searchAllColumns(req, res);\nexpect(res.status.calledWith(200)).to.be.true;\nexpect(res.json.calledWith({\n    code: 200,\n    message: &#x27;Operación exitosa&#x27;,\n    data: mockInventarios\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;553fd1f9-a7e4-4432-bd4b-c703aa19a9c2&quot;,&quot;parentUUID&quot;:&quot;40ae9494-7988-4672-b5d9-a07284407ded&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Debería devolver un error si el parámetro \&quot;q\&quot; es obligatorio&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de inventarios Método GET: Buscar inventarios por todos los parámetros Debería devolver un error si el parámetro \&quot;q\&quot; es obligatorio&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const req = { params: {} };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait InventarioController.searchAllColumns(req, res);\nexpect(res.status.calledWith(400)).to.be.true;\nexpect(res.json.calledWith({\n    code: 400,\n    message: \&quot;El parámetro &#x27;q&#x27; es obligatorio\&quot;,\n    data: null\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0b925492-c1ab-4d12-8bdf-551bd7f451ca&quot;,&quot;parentUUID&quot;:&quot;40ae9494-7988-4672-b5d9-a07284407ded&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;553fd1f9-a7e4-4432-bd4b-c703aa19a9c2&quot;,&quot;0b925492-c1ab-4d12-8bdf-551bd7f451ca&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;31c5d5a3-3b03-481d-8fee-05a9c2bddd5c&quot;,&quot;title&quot;:&quot;Método POST: Crea un nuevo inventario&quot;,&quot;fullFile&quot;:&quot;D:\\4toCuatri\\DOCKER\\powerclean\\tests\\inventarioController.test.js&quot;,&quot;file&quot;:&quot;\\tests\\inventarioController.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Debería crear un inventario exitosamente&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de inventarios Método POST: Crea un nuevo inventario Debería crear un inventario exitosamente&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const nuevoInventario = { id: 1, nombre: &#x27;Producto 1&#x27;, cantidad: 10 };\nsinon.stub(Inventario, &#x27;create&#x27;).resolves(nuevoInventario);\nconst req = { body: { nombre: &#x27;Producto 1&#x27;, cantidad: 10 } };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait InventarioController.createInventario(req, res);\nexpect(res.status.calledWith(201)).to.be.true;\nexpect(res.json.calledWith({\n    code: 201,\n    message: &#x27;Inventario creado exitosamente&#x27;,\n    data: nuevoInventario\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;67bdb9e9-0e2c-49d1-bc49-fa24575bd07f&quot;,&quot;parentUUID&quot;:&quot;31c5d5a3-3b03-481d-8fee-05a9c2bddd5c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Debería manejar errores al crear un inventario&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de inventarios Método POST: Crea un nuevo inventario Debería manejar errores al crear un inventario&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.stub(Inventario, &#x27;create&#x27;).rejects(new Error(&#x27;Error al crear el inventario&#x27;));\nconst req = { body: { nombre: &#x27;Producto 1&#x27;, cantidad: 10 } };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait InventarioController.createInventario(req, res);\nexpect(res.status.calledWith(500)).to.be.true;\nexpect(res.json.calledWith({\n    code: 500,\n    message: &#x27;Error al crear el inventario&#x27;,\n    data: null\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;81b0374e-3e9c-4313-a9e6-e350d23b546a&quot;,&quot;parentUUID&quot;:&quot;31c5d5a3-3b03-481d-8fee-05a9c2bddd5c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;67bdb9e9-0e2c-49d1-bc49-fa24575bd07f&quot;,&quot;81b0374e-3e9c-4313-a9e6-e350d23b546a&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;ea74ec6b-1bf9-463a-9b98-7e46423547d1&quot;,&quot;title&quot;:&quot;Método GET: Obtiene un inventario por ID&quot;,&quot;fullFile&quot;:&quot;D:\\4toCuatri\\DOCKER\\powerclean\\tests\\inventarioController.test.js&quot;,&quot;file&quot;:&quot;\\tests\\inventarioController.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Debería obtener un inventario por ID exitosamente&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de inventarios Método GET: Obtiene un inventario por ID Debería obtener un inventario por ID exitosamente&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const mockInventario = { id: 1, nombre: &#x27;Producto 1&#x27;, cantidad: 10 };\nsinon.stub(Inventario, &#x27;findById&#x27;).resolves(mockInventario);\nconst req = { params: { id: &#x27;1&#x27; } };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait InventarioController.getInventarioById(req, res);\nexpect(res.status.calledWith(200)).to.be.true;\nexpect(res.json.calledWith({\n    code: 200,\n    message: &#x27;Operación exitosa&#x27;,\n    data: mockInventario\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4814cff2-40bb-419c-b7cf-1230614ea7e5&quot;,&quot;parentUUID&quot;:&quot;ea74ec6b-1bf9-463a-9b98-7e46423547d1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Debería devolver un error 404 si el inventario no existe&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de inventarios Método GET: Obtiene un inventario por ID Debería devolver un error 404 si el inventario no existe&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.stub(Inventario, &#x27;findById&#x27;).resolves(null);\nconst req = { params: { id: &#x27;999&#x27; } };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait InventarioController.getInventarioById(req, res);\nexpect(res.status.calledWith(404)).to.be.true;\nexpect(res.json.calledWith({\n    code: 404,\n    message: &#x27;Inventario no encontrado&#x27;,\n    data: null\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;888cc3a7-42ad-459d-8be3-57fa114b4399&quot;,&quot;parentUUID&quot;:&quot;ea74ec6b-1bf9-463a-9b98-7e46423547d1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;4814cff2-40bb-419c-b7cf-1230614ea7e5&quot;,&quot;888cc3a7-42ad-459d-8be3-57fa114b4399&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;8dfda55b-8a9a-45cc-8c1f-437c19f99519&quot;,&quot;title&quot;:&quot;Método PUT: Actualiza un inventario&quot;,&quot;fullFile&quot;:&quot;D:\\4toCuatri\\DOCKER\\powerclean\\tests\\inventarioController.test.js&quot;,&quot;file&quot;:&quot;\\tests\\inventarioController.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Debería actualizar un inventario exitosamente&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de inventarios Método PUT: Actualiza un inventario Debería actualizar un inventario exitosamente&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const inventarioActualizado = { id: 1, nombre: &#x27;Producto 1&#x27;, cantidad: 15 };\nsinon.stub(Inventario, &#x27;update&#x27;).resolves(inventarioActualizado);\nconst req = { params: { id: &#x27;1&#x27; }, body: { nombre: &#x27;Producto 1&#x27;, cantidad: 15 } };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait InventarioController.updateInventario(req, res);\nexpect(res.status.calledWith(200)).to.be.true;\nexpect(res.json.calledWith({\n    code: 200,\n    message: &#x27;Inventario actualizado exitosamente&#x27;,\n    data: inventarioActualizado\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;acc4c408-1bab-4e70-abea-c7b38fc6136c&quot;,&quot;parentUUID&quot;:&quot;8dfda55b-8a9a-45cc-8c1f-437c19f99519&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Debería devolver un error 404 si el inventario no existe&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de inventarios Método PUT: Actualiza un inventario Debería devolver un error 404 si el inventario no existe&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.stub(Inventario, &#x27;update&#x27;).resolves(null);\nconst req = { params: { id: &#x27;999&#x27; }, body: { nombre: &#x27;Producto 1&#x27;, cantidad: 15 } };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait InventarioController.updateInventario(req, res);\nexpect(res.status.calledWith(404)).to.be.true;\nexpect(res.json.calledWith({\n    code: 404,\n    message: &#x27;Inventario no encontrado&#x27;,\n    data: null\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e3e73184-5263-4a85-9a9b-cd3a769e7fe7&quot;,&quot;parentUUID&quot;:&quot;8dfda55b-8a9a-45cc-8c1f-437c19f99519&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;acc4c408-1bab-4e70-abea-c7b38fc6136c&quot;,&quot;e3e73184-5263-4a85-9a9b-cd3a769e7fe7&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;82259585-b464-4901-a703-7bacb2bb4202&quot;,&quot;title&quot;:&quot;Método DELETE: Elimina un inventario&quot;,&quot;fullFile&quot;:&quot;D:\\4toCuatri\\DOCKER\\powerclean\\tests\\inventarioController.test.js&quot;,&quot;file&quot;:&quot;\\tests\\inventarioController.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Debería eliminar un inventario exitosamente&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de inventarios Método DELETE: Elimina un inventario Debería eliminar un inventario exitosamente&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const inventarioEliminado = { id: 1, nombre: &#x27;Producto 1&#x27;, cantidad: 10 };\nsinon.stub(Inventario, &#x27;delete&#x27;).resolves(inventarioEliminado);\nconst req = { params: { id: &#x27;1&#x27; } };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait InventarioController.deleteInventario(req, res);\nexpect(res.status.calledWith(200)).to.be.true;\nexpect(res.json.calledWith({\n    code: 200,\n    message: &#x27;Inventario eliminado exitosamente&#x27;,\n    data: inventarioEliminado\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;19a07efe-ea3c-4e81-a35a-322a5a0e650c&quot;,&quot;parentUUID&quot;:&quot;82259585-b464-4901-a703-7bacb2bb4202&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Debería devolver un error 404 si el inventario no existe&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de inventarios Método DELETE: Elimina un inventario Debería devolver un error 404 si el inventario no existe&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.stub(Inventario, &#x27;delete&#x27;).resolves(false);\nconst req = { params: { id: &#x27;999&#x27; } };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait InventarioController.deleteInventario(req, res);\nexpect(res.status.calledWith(404)).to.be.true;\nexpect(res.json.calledWith({\n    code: 404,\n    message: &#x27;Inventario no encontrado&#x27;,\n    data: null\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6398ddd8-12b1-4150-9785-530d3d15de3d&quot;,&quot;parentUUID&quot;:&quot;82259585-b464-4901-a703-7bacb2bb4202&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;19a07efe-ea3c-4e81-a35a-322a5a0e650c&quot;,&quot;6398ddd8-12b1-4150-9785-530d3d15de3d&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;e0af4f40-5fbf-4c7b-a764-3e5de2a1357d&quot;,&quot;title&quot;:&quot;Pruebas del controlador de productos&quot;,&quot;fullFile&quot;:&quot;D:\\4toCuatri\\DOCKER\\powerclean\\tests\\productosController.test.js&quot;,&quot;file&quot;:&quot;\\tests\\productosController.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after each\&quot; hook in \&quot;Pruebas del controlador de productos\&quot;&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de productos \&quot;after each\&quot; hook in \&quot;Pruebas del controlador de productos\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8f362b76-d42e-46fc-a81f-22ce7368a6d6&quot;,&quot;parentUUID&quot;:&quot;e0af4f40-5fbf-4c7b-a764-3e5de2a1357d&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;8ef8d60a-5715-472a-91e8-ecc91b20286f&quot;,&quot;title&quot;:&quot;Método GET: Obtiene todos los productos&quot;,&quot;fullFile&quot;:&quot;D:\\4toCuatri\\DOCKER\\powerclean\\tests\\productosController.test.js&quot;,&quot;file&quot;:&quot;\\tests\\productosController.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Debería obtener todos los productos exitosamente&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de productos Método GET: Obtiene todos los productos Debería obtener todos los productos exitosamente&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const mockProductos = [\n    { id: 1, nombre: &#x27;Producto A&#x27;, precio: 100 },\n    { id: 2, nombre: &#x27;Producto B&#x27;, precio: 200 }\n];\nsinon.stub(Producto, &#x27;findAll&#x27;).resolves(mockProductos);\nconst req = {};\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait ProductoController.getAllProductos(req, res);\nexpect(res.status.calledWith(200)).to.be.true;\nexpect(res.json.calledWith({\n    code: 200,\n    message: &#x27;Operación exitosa&#x27;,\n    data: mockProductos\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;30a0bed3-a76d-4db9-b4ad-17f40d7e9d46&quot;,&quot;parentUUID&quot;:&quot;8ef8d60a-5715-472a-91e8-ecc91b20286f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Debería manejar errores al obtener los productos&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de productos Método GET: Obtiene todos los productos Debería manejar errores al obtener los productos&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.stub(Producto, &#x27;findAll&#x27;).rejects(new Error(&#x27;Error de base de datos&#x27;));\nconst req = {};\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait ProductoController.getAllProductos(req, res);\nexpect(res.status.calledWith(500)).to.be.true;\nexpect(res.json.calledWith({\n    code: 500,\n    message: &#x27;Error de base de datos&#x27;,\n    data: null\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e5bbe803-5274-4aa4-8913-e5da0f6d01ee&quot;,&quot;parentUUID&quot;:&quot;8ef8d60a-5715-472a-91e8-ecc91b20286f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;30a0bed3-a76d-4db9-b4ad-17f40d7e9d46&quot;,&quot;e5bbe803-5274-4aa4-8913-e5da0f6d01ee&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;8386cc31-1b13-44ba-b3a3-9d754785a39b&quot;,&quot;title&quot;:&quot;Método POST: Crea un producto&quot;,&quot;fullFile&quot;:&quot;D:\\4toCuatri\\DOCKER\\powerclean\\tests\\productosController.test.js&quot;,&quot;file&quot;:&quot;\\tests\\productosController.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Debería crear un producto exitosamente&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de productos Método POST: Crea un producto Debería crear un producto exitosamente&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const nuevoProducto = { nombre: &#x27;Producto C&#x27;, precio: 300 };\nconst creadoProducto = { id: 3, ...nuevoProducto };\nsinon.stub(Producto, &#x27;create&#x27;).resolves(creadoProducto);\nconst req = { body: nuevoProducto };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait ProductoController.createProducto(req, res);\nexpect(res.status.calledWith(201)).to.be.true;\nexpect(res.json.calledWith({\n    code: 201,\n    message: &#x27;Producto creado exitosamente&#x27;,\n    data: creadoProducto\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;97a152eb-bb1b-441c-9ba5-e205b9db45fc&quot;,&quot;parentUUID&quot;:&quot;8386cc31-1b13-44ba-b3a3-9d754785a39b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Debería manejar errores al crear un producto&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de productos Método POST: Crea un producto Debería manejar errores al crear un producto&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.stub(Producto, &#x27;create&#x27;).rejects(new Error(&#x27;Error al crear el producto&#x27;));\nconst req = { body: { nombre: &#x27;Producto D&#x27;, precio: 400 } };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait ProductoController.createProducto(req, res);\nexpect(res.status.calledWith(500)).to.be.true;\nexpect(res.json.calledWith({\n    code: 500,\n    message: &#x27;Error al crear el producto&#x27;,\n    data: null\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bcd5026f-1e2d-4ed6-8009-1e89cc5a4300&quot;,&quot;parentUUID&quot;:&quot;8386cc31-1b13-44ba-b3a3-9d754785a39b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;97a152eb-bb1b-441c-9ba5-e205b9db45fc&quot;,&quot;bcd5026f-1e2d-4ed6-8009-1e89cc5a4300&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:3,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;3023e9f0-10f2-4745-89ed-9a23f2a0af91&quot;,&quot;title&quot;:&quot;Método DELETE: Elimina un producto&quot;,&quot;fullFile&quot;:&quot;D:\\4toCuatri\\DOCKER\\powerclean\\tests\\productosController.test.js&quot;,&quot;file&quot;:&quot;\\tests\\productosController.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Debería eliminar un producto exitosamente&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de productos Método DELETE: Elimina un producto Debería eliminar un producto exitosamente&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.stub(Producto, &#x27;delete&#x27;).resolves(true);\nconst req = { params: { id: 1 } };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait ProductoController.deleteProducto(req, res);\nexpect(res.status.calledWith(200)).to.be.true;\nexpect(res.json.calledWith({\n    code: 200,\n    message: &#x27;Producto eliminado exitosamente&#x27;,\n    data: null\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7c3ce14e-cefa-49d1-9bcb-eb705d41b870&quot;,&quot;parentUUID&quot;:&quot;3023e9f0-10f2-4745-89ed-9a23f2a0af91&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Debería retornar error 404 si no se encuentra el producto&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de productos Método DELETE: Elimina un producto Debería retornar error 404 si no se encuentra el producto&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.stub(Producto, &#x27;delete&#x27;).resolves(false);\nconst req = { params: { id: 999 } };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait ProductoController.deleteProducto(req, res);\nexpect(res.status.calledWith(404)).to.be.true;\nexpect(res.json.calledWith({\n    code: 404,\n    message: &#x27;Producto no encontrado&#x27;,\n    data: null\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;872eb62c-c1f2-4a90-bbf0-368fcc27b6b2&quot;,&quot;parentUUID&quot;:&quot;3023e9f0-10f2-4745-89ed-9a23f2a0af91&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Debería manejar errores al eliminar un producto&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de productos Método DELETE: Elimina un producto Debería manejar errores al eliminar un producto&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.stub(Producto, &#x27;delete&#x27;).rejects(new Error(&#x27;Error al eliminar el producto&#x27;));\nconst req = { params: { id: 1 } };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait ProductoController.deleteProducto(req, res);\nexpect(res.status.calledWith(500)).to.be.true;\nexpect(res.json.calledWith({\n    code: 500,\n    message: &#x27;Error al eliminar el producto&#x27;,\n    data: null\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;df52b777-5a55-424b-be82-753126321d1f&quot;,&quot;parentUUID&quot;:&quot;3023e9f0-10f2-4745-89ed-9a23f2a0af91&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;7c3ce14e-cefa-49d1-9bcb-eb705d41b870&quot;,&quot;872eb62c-c1f2-4a90-bbf0-368fcc27b6b2&quot;,&quot;df52b777-5a55-424b-be82-753126321d1f&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:3,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;8783bb49-cc80-4106-baf5-c2ed9a0336da&quot;,&quot;title&quot;:&quot;Pruebas del controlador de roles&quot;,&quot;fullFile&quot;:&quot;D:\\4toCuatri\\DOCKER\\powerclean\\tests\\rolController.test.js&quot;,&quot;file&quot;:&quot;\\tests\\rolController.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after each\&quot; hook in \&quot;Pruebas del controlador de roles\&quot;&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de roles \&quot;after each\&quot; hook in \&quot;Pruebas del controlador de roles\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;53101924-e436-418d-a5f6-e4c61ab1a832&quot;,&quot;parentUUID&quot;:&quot;8783bb49-cc80-4106-baf5-c2ed9a0336da&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;0c0bfedc-8ba4-496a-8db8-63f6e275a5f6&quot;,&quot;title&quot;:&quot;Método GET: Obtiene todos los roles&quot;,&quot;fullFile&quot;:&quot;D:\\4toCuatri\\DOCKER\\powerclean\\tests\\rolController.test.js&quot;,&quot;file&quot;:&quot;\\tests\\rolController.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Debería obtener todos los roles exitosamente&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de roles Método GET: Obtiene todos los roles Debería obtener todos los roles exitosamente&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const mockRoles = [\n    { id: 1, nombre: &#x27;Admin&#x27; },\n    { id: 2, nombre: &#x27;Usuario&#x27; }\n];\nsinon.stub(Rol, &#x27;findAll&#x27;).resolves(mockRoles);\nconst req = {};\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait RolController.getAllRol(req, res);\nexpect(res.status.calledWith(200)).to.be.true;\nexpect(res.json.calledWith({\n    code: 200,\n    message: &#x27;Operación exitosa&#x27;,\n    data: mockRoles\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;459c13da-254f-4b43-875b-06d128790226&quot;,&quot;parentUUID&quot;:&quot;0c0bfedc-8ba4-496a-8db8-63f6e275a5f6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Debería manejar errores al obtener los roles&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de roles Método GET: Obtiene todos los roles Debería manejar errores al obtener los roles&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.stub(Rol, &#x27;findAll&#x27;).rejects(new Error(&#x27;Error de base de datos&#x27;));\nconst req = {};\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait RolController.getAllRol(req, res);\nexpect(res.status.calledWith(500)).to.be.true;\nexpect(res.json.calledWith({\n    code: 500,\n    message: &#x27;Error de base de datos&#x27;,\n    data: null\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;597029d1-bb81-4c24-95d5-13224cc19ca0&quot;,&quot;parentUUID&quot;:&quot;0c0bfedc-8ba4-496a-8db8-63f6e275a5f6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;459c13da-254f-4b43-875b-06d128790226&quot;,&quot;597029d1-bb81-4c24-95d5-13224cc19ca0&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;a1cedcff-29b6-45e7-8359-ad9cfe39ab72&quot;,&quot;title&quot;:&quot;Método GET: Obtiene todos los roles por un identificador&quot;,&quot;fullFile&quot;:&quot;D:\\4toCuatri\\DOCKER\\powerclean\\tests\\rolController.test.js&quot;,&quot;file&quot;:&quot;\\tests\\rolController.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Debería obtener un rol por ID exitosamente&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de roles Método GET: Obtiene todos los roles por un identificador Debería obtener un rol por ID exitosamente&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const mockRol = { id: 1, nombre: &#x27;Admin&#x27; };\nsinon.stub(Rol, &#x27;findById&#x27;).resolves(mockRol);\nconst req = { params: { id: 1 } };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait RolController.getRolById(req, res);\nexpect(res.status.calledWith(200)).to.be.true;\nexpect(res.json.calledWith({\n    code: 200,\n    message: &#x27;Operación exitosa&#x27;,\n    data: mockRol\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5e556901-f91e-4dd1-b35f-eeb6cfaf2903&quot;,&quot;parentUUID&quot;:&quot;a1cedcff-29b6-45e7-8359-ad9cfe39ab72&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Debería devolver un error 404 si el rol no existe&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de roles Método GET: Obtiene todos los roles por un identificador Debería devolver un error 404 si el rol no existe&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.stub(Rol, &#x27;findById&#x27;).resolves(null);\nconst req = { params: { id: 999 } };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait RolController.getRolById(req, res);\nexpect(res.status.calledWith(404)).to.be.true;\nexpect(res.json.calledWith({\n    code: 404,\n    message: &#x27;Rol no encontrado&#x27;,\n    data: null\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ca5cac92-3ff9-4d06-a298-da025a5572c1&quot;,&quot;parentUUID&quot;:&quot;a1cedcff-29b6-45e7-8359-ad9cfe39ab72&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Debería manejar errores al buscar un rol por ID&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de roles Método GET: Obtiene todos los roles por un identificador Debería manejar errores al buscar un rol por ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.stub(Rol, &#x27;findById&#x27;).rejects(new Error(&#x27;Error de base de datos&#x27;));\nconst req = { params: { id: 1 } };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait RolController.getRolById(req, res);\nexpect(res.status.calledWith(500)).to.be.true;\nexpect(res.json.calledWith({\n    code: 500,\n    message: &#x27;Error de base de datos&#x27;,\n    data: null\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b4a33f25-06fb-4b6c-afd2-51f2e6abf1b5&quot;,&quot;parentUUID&quot;:&quot;a1cedcff-29b6-45e7-8359-ad9cfe39ab72&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;5e556901-f91e-4dd1-b35f-eeb6cfaf2903&quot;,&quot;ca5cac92-3ff9-4d06-a298-da025a5572c1&quot;,&quot;b4a33f25-06fb-4b6c-afd2-51f2e6abf1b5&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;d2282fa1-f1d6-4923-8e30-6e9582e6d087&quot;,&quot;title&quot;:&quot;Método POST: Crea un nuevo rol&quot;,&quot;fullFile&quot;:&quot;D:\\4toCuatri\\DOCKER\\powerclean\\tests\\rolController.test.js&quot;,&quot;file&quot;:&quot;\\tests\\rolController.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Debería crear un rol exitosamente&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de roles Método POST: Crea un nuevo rol Debería crear un rol exitosamente&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const nuevoRol = { nombre: &#x27;Editor&#x27; };\nconst mockRolCreado = { id: 3, ...nuevoRol };\nsinon.stub(Rol, &#x27;create&#x27;).resolves(mockRolCreado);\nconst req = { body: nuevoRol };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait RolController.createRol(req, res);\nexpect(res.status.calledWith(201)).to.be.true;\nexpect(res.json.calledWith({\n    code: 201,\n    message: &#x27;Rol creado exitosamente&#x27;,\n    data: mockRolCreado\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3ff351ed-9699-4a93-9bed-0970963deaae&quot;,&quot;parentUUID&quot;:&quot;d2282fa1-f1d6-4923-8e30-6e9582e6d087&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Debería manejar errores al crear un rol&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de roles Método POST: Crea un nuevo rol Debería manejar errores al crear un rol&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.stub(Rol, &#x27;create&#x27;).rejects(new Error(&#x27;Error al crear el rol&#x27;));\nconst req = { body: { nombre: &#x27;Editor&#x27; } };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait RolController.createRol(req, res);\nexpect(res.status.calledWith(500)).to.be.true;\nexpect(res.json.calledWith({\n    code: 500,\n    message: &#x27;Error al crear el rol&#x27;,\n    data: null\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1baacec9-23dc-4e5c-9fbf-bfc9c42dd562&quot;,&quot;parentUUID&quot;:&quot;d2282fa1-f1d6-4923-8e30-6e9582e6d087&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;3ff351ed-9699-4a93-9bed-0970963deaae&quot;,&quot;1baacec9-23dc-4e5c-9fbf-bfc9c42dd562&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;f271dc17-5658-45ef-8d14-de84e907414e&quot;,&quot;title&quot;:&quot;Método DELETE: Elimina un rol&quot;,&quot;fullFile&quot;:&quot;D:\\4toCuatri\\DOCKER\\powerclean\\tests\\rolController.test.js&quot;,&quot;file&quot;:&quot;\\tests\\rolController.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Debería eliminar un rol exitosamente&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de roles Método DELETE: Elimina un rol Debería eliminar un rol exitosamente&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.stub(Rol, &#x27;delete&#x27;).resolves(true);\nconst req = { params: { id: 1 } };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait RolController.deleteRol(req, res);\nexpect(res.status.calledWith(200)).to.be.true;\nexpect(res.json.calledWith({\n    code: 200,\n    message: &#x27;Rol eliminado exitosamente&#x27;,\n    data: null\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4d0af2ad-bb7f-4440-a243-32a0983087b0&quot;,&quot;parentUUID&quot;:&quot;f271dc17-5658-45ef-8d14-de84e907414e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Debería devolver un error 404 si el rol no existe&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de roles Método DELETE: Elimina un rol Debería devolver un error 404 si el rol no existe&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.stub(Rol, &#x27;delete&#x27;).resolves(false);\nconst req = { params: { id: 999 } };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait RolController.deleteRol(req, res);\nexpect(res.status.calledWith(404)).to.be.true;\nexpect(res.json.calledWith({\n    code: 404,\n    message: &#x27;Rol no encontrado&#x27;,\n    data: null\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;67b87623-a296-48bf-b78e-ea70664a9d96&quot;,&quot;parentUUID&quot;:&quot;f271dc17-5658-45ef-8d14-de84e907414e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Debería manejar errores al eliminar un rol&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de roles Método DELETE: Elimina un rol Debería manejar errores al eliminar un rol&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.stub(Rol, &#x27;delete&#x27;).rejects(new Error(&#x27;Error al eliminar el rol&#x27;));\nconst req = { params: { id: 1 } };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait RolController.deleteRol(req, res);\nexpect(res.status.calledWith(500)).to.be.true;\nexpect(res.json.calledWith({\n    code: 500,\n    message: &#x27;Error al eliminar el rol&#x27;,\n    data: null\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1809dabe-1ee4-4256-a7a6-af23af3484a5&quot;,&quot;parentUUID&quot;:&quot;f271dc17-5658-45ef-8d14-de84e907414e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;4d0af2ad-bb7f-4440-a243-32a0983087b0&quot;,&quot;67b87623-a296-48bf-b78e-ea70664a9d96&quot;,&quot;1809dabe-1ee4-4256-a7a6-af23af3484a5&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;f291c36e-12fb-43a8-9764-ae0604842be6&quot;,&quot;title&quot;:&quot;Pruebas de las RUTAS de la API de clientes, método GET&quot;,&quot;fullFile&quot;:&quot;D:\\4toCuatri\\DOCKER\\powerclean\\tests\\rutas.test.js&quot;,&quot;file&quot;:&quot;\\tests\\rutas.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Debería obtener todos los clientes&quot;,&quot;fullTitle&quot;:&quot;Pruebas de las RUTAS de la API de clientes, método GET Debería obtener todos los clientes&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:134,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const response = await supertest(app).get(&#x27;/api/clientes&#x27;);\nexpect(response.status).to.equal(200);\nexpect(response.body).to.have.property(&#x27;data&#x27;).that.is.an(&#x27;array&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;341d6dd0-d4d6-44a5-9cd4-def11fd03c77&quot;,&quot;parentUUID&quot;:&quot;f291c36e-12fb-43a8-9764-ae0604842be6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;341d6dd0-d4d6-44a5-9cd4-def11fd03c77&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:134,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;72ae1969-17b7-4391-80aa-acff4ca75444&quot;,&quot;title&quot;:&quot;Pruebas de las RUTAS de la API del detalle de la venta, método GET&quot;,&quot;fullFile&quot;:&quot;D:\\4toCuatri\\DOCKER\\powerclean\\tests\\rutas.test.js&quot;,&quot;file&quot;:&quot;\\tests\\rutas.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Debería obtener todos los detalles de la venta&quot;,&quot;fullTitle&quot;:&quot;Pruebas de las RUTAS de la API del detalle de la venta, método GET Debería obtener todos los detalles de la venta&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:13,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const response = await supertest(app).get(&#x27;/api/detalleVenta&#x27;);\nexpect(response.status).to.equal(200);\nexpect(response.body).to.have.property(&#x27;data&#x27;).that.is.an(&#x27;array&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;dac2860b-b8bd-42e1-9317-b05250855192&quot;,&quot;parentUUID&quot;:&quot;72ae1969-17b7-4391-80aa-acff4ca75444&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;dac2860b-b8bd-42e1-9317-b05250855192&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:13,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;6066fbba-dadf-483a-bff6-8f77f37f6deb&quot;,&quot;title&quot;:&quot;Pruebas de las RUTAS de la API empleados, método GET&quot;,&quot;fullFile&quot;:&quot;D:\\4toCuatri\\DOCKER\\powerclean\\tests\\rutas.test.js&quot;,&quot;file&quot;:&quot;\\tests\\rutas.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Debería obtener todos los empleados&quot;,&quot;fullTitle&quot;:&quot;Pruebas de las RUTAS de la API empleados, método GET Debería obtener todos los empleados&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:11,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const response = await supertest(app).get(&#x27;/api/empleados&#x27;);\nexpect(response.status).to.equal(200);\nexpect(response.body).to.have.property(&#x27;data&#x27;).that.is.an(&#x27;array&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;67f0eb89-1cda-44aa-ba73-740dec85fb17&quot;,&quot;parentUUID&quot;:&quot;6066fbba-dadf-483a-bff6-8f77f37f6deb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;67f0eb89-1cda-44aa-ba73-740dec85fb17&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:11,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;96e42485-74f4-41f9-afbb-0e25d3a47625&quot;,&quot;title&quot;:&quot;Pruebas de las RUTAS de la API de inventarios, método GET&quot;,&quot;fullFile&quot;:&quot;D:\\4toCuatri\\DOCKER\\powerclean\\tests\\rutas.test.js&quot;,&quot;file&quot;:&quot;\\tests\\rutas.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Debería obtener todo el inventario&quot;,&quot;fullTitle&quot;:&quot;Pruebas de las RUTAS de la API de inventarios, método GET Debería obtener todo el inventario&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:12,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const response = await supertest(app).get(&#x27;/api/inventario&#x27;);\nexpect(response.status).to.equal(200);\nexpect(response.body).to.have.property(&#x27;data&#x27;).that.is.an(&#x27;array&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;98a4a6ee-d7f0-42bd-b5c4-86ce5dc012d8&quot;,&quot;parentUUID&quot;:&quot;96e42485-74f4-41f9-afbb-0e25d3a47625&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;98a4a6ee-d7f0-42bd-b5c4-86ce5dc012d8&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:12,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;3d851d46-5f4a-47f6-9688-e5614d339c32&quot;,&quot;title&quot;:&quot;Pruebas de las RUTAS de la API de productos, método GET&quot;,&quot;fullFile&quot;:&quot;D:\\4toCuatri\\DOCKER\\powerclean\\tests\\rutas.test.js&quot;,&quot;file&quot;:&quot;\\tests\\rutas.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Debería obtener todo los productos&quot;,&quot;fullTitle&quot;:&quot;Pruebas de las RUTAS de la API de productos, método GET Debería obtener todo los productos&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:11,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const response = await supertest(app).get(&#x27;/api/productos&#x27;);\nexpect(response.status).to.equal(200);\nexpect(response.body).to.have.property(&#x27;data&#x27;).that.is.an(&#x27;array&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1b5e0d58-3821-4141-9861-99ecad999782&quot;,&quot;parentUUID&quot;:&quot;3d851d46-5f4a-47f6-9688-e5614d339c32&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;1b5e0d58-3821-4141-9861-99ecad999782&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:11,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;d97b8890-0433-4c2d-9228-62ad014a7dc5&quot;,&quot;title&quot;:&quot;Pruebas de las RUTAS de la API sobre los roles, método GET&quot;,&quot;fullFile&quot;:&quot;D:\\4toCuatri\\DOCKER\\powerclean\\tests\\rutas.test.js&quot;,&quot;file&quot;:&quot;\\tests\\rutas.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Debería obtener todo los roles&quot;,&quot;fullTitle&quot;:&quot;Pruebas de las RUTAS de la API sobre los roles, método GET Debería obtener todo los roles&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:12,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const response = await supertest(app).get(&#x27;/api/rol&#x27;);\nexpect(response.status).to.equal(200);\nexpect(response.body).to.have.property(&#x27;data&#x27;).that.is.an(&#x27;array&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;75552b28-60a4-4a59-917a-7e3abcdf459f&quot;,&quot;parentUUID&quot;:&quot;d97b8890-0433-4c2d-9228-62ad014a7dc5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;75552b28-60a4-4a59-917a-7e3abcdf459f&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:12,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;7f3ac201-b544-46c0-92d9-4cace3aa2bdb&quot;,&quot;title&quot;:&quot;Pruebas de las RUTAS de la API sobre los tipos de productos que existen, método GET&quot;,&quot;fullFile&quot;:&quot;D:\\4toCuatri\\DOCKER\\powerclean\\tests\\rutas.test.js&quot;,&quot;file&quot;:&quot;\\tests\\rutas.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Debería obtener todo los tipos de productos&quot;,&quot;fullTitle&quot;:&quot;Pruebas de las RUTAS de la API sobre los tipos de productos que existen, método GET Debería obtener todo los tipos de productos&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const response = await supertest(app).get(&#x27;/api/tipoProducto&#x27;);\nexpect(response.status).to.equal(200);\nexpect(response.body).to.have.property(&#x27;data&#x27;).that.is.an(&#x27;array&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8025bd90-4d26-4cc6-924f-597b7b32db6b&quot;,&quot;parentUUID&quot;:&quot;7f3ac201-b544-46c0-92d9-4cace3aa2bdb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;8025bd90-4d26-4cc6-924f-597b7b32db6b&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:9,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;e7b72273-d43f-4b10-8d42-664a1e9317b0&quot;,&quot;title&quot;:&quot;Pruebas de las RUTAS de la API sobre los usuarios, método GET&quot;,&quot;fullFile&quot;:&quot;D:\\4toCuatri\\DOCKER\\powerclean\\tests\\rutas.test.js&quot;,&quot;file&quot;:&quot;\\tests\\rutas.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Debería obtener todo los usuarios&quot;,&quot;fullTitle&quot;:&quot;Pruebas de las RUTAS de la API sobre los usuarios, método GET Debería obtener todo los usuarios&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:12,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = &#x27;powerclean&#x27;; // Sustituye por un token válido\nconst response = await supertest(app)\n  .get(&#x27;/api/usuarios&#x27;)\n  .set(&#x27;Authorization&#x27;, `Bearer ${token}`);\nexpect(response.status).to.equal(200);\nexpect(response.body).to.have.property(&#x27;data&#x27;).that.is.an(&#x27;array&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4e751cd9-7184-4b2f-b33c-751e0545cd49&quot;,&quot;parentUUID&quot;:&quot;e7b72273-d43f-4b10-8d42-664a1e9317b0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;4e751cd9-7184-4b2f-b33c-751e0545cd49&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:12,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;73a24413-ff3e-4463-aac3-9263dae15e64&quot;,&quot;title&quot;:&quot;Pruebas de las RUTAS de la API sobre todas las ventas, método GET&quot;,&quot;fullFile&quot;:&quot;D:\\4toCuatri\\DOCKER\\powerclean\\tests\\rutas.test.js&quot;,&quot;file&quot;:&quot;\\tests\\rutas.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Debería obtener todo las ventas&quot;,&quot;fullTitle&quot;:&quot;Pruebas de las RUTAS de la API sobre todas las ventas, método GET Debería obtener todo las ventas&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:14,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const response = await supertest(app).get(&#x27;/api/venta&#x27;);\nexpect(response.status).to.equal(200);\nexpect(response.body).to.have.property(&#x27;data&#x27;).that.is.an(&#x27;array&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;dbe9fdf3-d659-4eff-abe2-358cfdf2ef70&quot;,&quot;parentUUID&quot;:&quot;73a24413-ff3e-4463-aac3-9263dae15e64&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;dbe9fdf3-d659-4eff-abe2-358cfdf2ef70&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:14,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;59021ff3-501e-4976-a11d-bb1a6ac7764a&quot;,&quot;title&quot;:&quot;Pruebas del controlador de tipos de productos&quot;,&quot;fullFile&quot;:&quot;D:\\4toCuatri\\DOCKER\\powerclean\\tests\\tipoProductoController.test.js&quot;,&quot;file&quot;:&quot;\\tests\\tipoProductoController.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after each\&quot; hook in \&quot;Pruebas del controlador de tipos de productos\&quot;&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de tipos de productos \&quot;after each\&quot; hook in \&quot;Pruebas del controlador de tipos de productos\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e6ff8540-925a-4725-bdaa-0a82530d7cc5&quot;,&quot;parentUUID&quot;:&quot;59021ff3-501e-4976-a11d-bb1a6ac7764a&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;0d8f5f2a-11a7-42fb-b3a8-c433b7e6479d&quot;,&quot;title&quot;:&quot;Método GET: Obtiene todos los tipos de productos&quot;,&quot;fullFile&quot;:&quot;D:\\4toCuatri\\DOCKER\\powerclean\\tests\\tipoProductoController.test.js&quot;,&quot;file&quot;:&quot;\\tests\\tipoProductoController.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Debería obtener todos los tipos de productos exitosamente&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de tipos de productos Método GET: Obtiene todos los tipos de productos Debería obtener todos los tipos de productos exitosamente&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const mockTipoProductos = [\n    { id: 1, nombre: &#x27;Electrónica&#x27; },\n    { id: 2, nombre: &#x27;Ropa&#x27; }\n];\nsinon.stub(TipoProducto, &#x27;findAll&#x27;).resolves(mockTipoProductos);\nconst req = {};\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait TipoProductoController.getAllTipoProductos(req, res);\nexpect(res.status.calledWith(200)).to.be.true;\nexpect(res.json.calledWith({\n    code: 200,\n    message: &#x27;Operación exitosa&#x27;,\n    data: mockTipoProductos\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f841b8b8-99dd-4662-a6ec-c740e8bfc56f&quot;,&quot;parentUUID&quot;:&quot;0d8f5f2a-11a7-42fb-b3a8-c433b7e6479d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Debería manejar errores al obtener los tipos de productos&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de tipos de productos Método GET: Obtiene todos los tipos de productos Debería manejar errores al obtener los tipos de productos&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.stub(TipoProducto, &#x27;findAll&#x27;).rejects(new Error(&#x27;Error de base de datos&#x27;));\nconst req = {};\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait TipoProductoController.getAllTipoProductos(req, res);\nexpect(res.status.calledWith(500)).to.be.true;\nexpect(res.json.calledWith({\n    code: 500,\n    message: &#x27;Error de base de datos&#x27;,\n    data: null\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;09697f46-faaf-4344-aae2-12ec04422478&quot;,&quot;parentUUID&quot;:&quot;0d8f5f2a-11a7-42fb-b3a8-c433b7e6479d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;f841b8b8-99dd-4662-a6ec-c740e8bfc56f&quot;,&quot;09697f46-faaf-4344-aae2-12ec04422478&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;ad9ff42b-85eb-46eb-8999-220ade4c0e66&quot;,&quot;title&quot;:&quot;Método GET: Obtiene un tipo de producto por ID&quot;,&quot;fullFile&quot;:&quot;D:\\4toCuatri\\DOCKER\\powerclean\\tests\\tipoProductoController.test.js&quot;,&quot;file&quot;:&quot;\\tests\\tipoProductoController.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Debería obtener un tipo de producto por ID exitosamente&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de tipos de productos Método GET: Obtiene un tipo de producto por ID Debería obtener un tipo de producto por ID exitosamente&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const mockTipoProducto = { id: 1, nombre: &#x27;Electrónica&#x27; };\nsinon.stub(TipoProducto, &#x27;findById&#x27;).resolves(mockTipoProducto);\nconst req = { params: { id: 1 } };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait TipoProductoController.getTipoProductoById(req, res);\nexpect(res.status.calledWith(200)).to.be.true;\nexpect(res.json.calledWith({\n    code: 200,\n    message: &#x27;Operación exitosa&#x27;,\n    data: mockTipoProducto\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ca602ac6-bf72-4d83-b0b7-cfe118190af0&quot;,&quot;parentUUID&quot;:&quot;ad9ff42b-85eb-46eb-8999-220ade4c0e66&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Debería devolver un error 404 si el tipo de producto no existe&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de tipos de productos Método GET: Obtiene un tipo de producto por ID Debería devolver un error 404 si el tipo de producto no existe&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.stub(TipoProducto, &#x27;findById&#x27;).resolves(null);\nconst req = { params: { id: 999 } };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait TipoProductoController.getTipoProductoById(req, res);\nexpect(res.status.calledWith(404)).to.be.true;\nexpect(res.json.calledWith({\n    code: 404,\n    message: &#x27;Tipo de producto no encontrado&#x27;,\n    data: null\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c46694cd-3781-4565-9745-182bf7968b72&quot;,&quot;parentUUID&quot;:&quot;ad9ff42b-85eb-46eb-8999-220ade4c0e66&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Debería manejar errores al obtener un tipo de producto por ID&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de tipos de productos Método GET: Obtiene un tipo de producto por ID Debería manejar errores al obtener un tipo de producto por ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.stub(TipoProducto, &#x27;findById&#x27;).rejects(new Error(&#x27;Error de base de datos&#x27;));\nconst req = { params: { id: 1 } };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait TipoProductoController.getTipoProductoById(req, res);\nexpect(res.status.calledWith(500)).to.be.true;\nexpect(res.json.calledWith({\n    code: 500,\n    message: &#x27;Error de base de datos&#x27;,\n    data: null\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c490e4d7-2a54-4890-8d9a-c9f893ae11c1&quot;,&quot;parentUUID&quot;:&quot;ad9ff42b-85eb-46eb-8999-220ade4c0e66&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;ca602ac6-bf72-4d83-b0b7-cfe118190af0&quot;,&quot;c46694cd-3781-4565-9745-182bf7968b72&quot;,&quot;c490e4d7-2a54-4890-8d9a-c9f893ae11c1&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:3,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;0cc4ad53-81e0-403e-951c-de45412fbfef&quot;,&quot;title&quot;:&quot;Método POST: Crea un nuevo tipo de producto&quot;,&quot;fullFile&quot;:&quot;D:\\4toCuatri\\DOCKER\\powerclean\\tests\\tipoProductoController.test.js&quot;,&quot;file&quot;:&quot;\\tests\\tipoProductoController.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Debería crear un tipo de producto exitosamente&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de tipos de productos Método POST: Crea un nuevo tipo de producto Debería crear un tipo de producto exitosamente&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;// Mock de la respuesta esperada\nconst nuevoTipoProducto = { id: 1, nombre: &#x27;Michelln el de las llantas xd&#x27; };\nsinon.stub(TipoProducto, &#x27;create&#x27;).resolves(nuevoTipoProducto); // Simulamos la creación del tipo de producto\n    \nconst req = { body: { nombre: &#x27;Electrónica&#x27; } }; // El cuerpo de la solicitud\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\n    \nawait TipoProductoController.createTipoProducto(req, res);\n    \n// Verifica que se haya llamado con el código 201 y los datos correctos\nexpect(res.status.calledWith(201)).to.be.true;\nexpect(res.json.calledWith({\n    code: 201,\n    message: &#x27;El tipo de producto fue creado exitosamente&#x27;,\n    data: nuevoTipoProducto\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;76b71363-a603-488c-b995-28a53a8abcc6&quot;,&quot;parentUUID&quot;:&quot;0cc4ad53-81e0-403e-951c-de45412fbfef&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Debería manejar errores al crear un tipo de producto&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de tipos de productos Método POST: Crea un nuevo tipo de producto Debería manejar errores al crear un tipo de producto&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.stub(TipoProducto, &#x27;create&#x27;).rejects(new Error(&#x27;Error al crear el tipo de producto&#x27;));\nconst req = { body: { nombre: &#x27;Electrónica&#x27; } };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait TipoProductoController.createTipoProducto(req, res);\nexpect(res.status.calledWith(500)).to.be.true;\nexpect(res.json.calledWith({\n    code: 500,\n    message: &#x27;Error al crear el tipo de producto&#x27;,\n    data: null\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f93a40a0-88e4-451b-a5c3-775f6c402082&quot;,&quot;parentUUID&quot;:&quot;0cc4ad53-81e0-403e-951c-de45412fbfef&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;76b71363-a603-488c-b995-28a53a8abcc6&quot;,&quot;f93a40a0-88e4-451b-a5c3-775f6c402082&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;70a69205-c6a7-4bee-8d10-20f9a5851bea&quot;,&quot;title&quot;:&quot;Método DELETE: Elimina un tipo de producto&quot;,&quot;fullFile&quot;:&quot;D:\\4toCuatri\\DOCKER\\powerclean\\tests\\tipoProductoController.test.js&quot;,&quot;file&quot;:&quot;\\tests\\tipoProductoController.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Debería eliminar un tipo de producto exitosamente&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de tipos de productos Método DELETE: Elimina un tipo de producto Debería eliminar un tipo de producto exitosamente&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const tipoProductoEliminado = { id: 1, nombre: &#x27;Producto A&#x27; };  // Simulamos el objeto eliminado\nsinon.stub(TipoProducto, &#x27;delete&#x27;).resolves(tipoProductoEliminado);  // Devuelve el objeto eliminado\n        \nconst req = { params: { id: 1 } };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\n        \nawait TipoProductoController.deleteTipoProducto(req, res);\n        \nexpect(res.status.calledWith(200)).to.be.true;\nexpect(res.json.calledWith({\n    code: 200,\n    message: &#x27;Tipo de producto eliminado exitosamente&#x27;,\n    data: tipoProductoEliminado  // Aseguramos que se devuelva el objeto eliminado\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1e238d08-9480-448a-adef-9c73075fb317&quot;,&quot;parentUUID&quot;:&quot;70a69205-c6a7-4bee-8d10-20f9a5851bea&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Debería devolver un error 404 si el tipo de producto no existe&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de tipos de productos Método DELETE: Elimina un tipo de producto Debería devolver un error 404 si el tipo de producto no existe&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.stub(TipoProducto, &#x27;delete&#x27;).resolves(false);\nconst req = { params: { id: 999 } };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait TipoProductoController.deleteTipoProducto(req, res);\nexpect(res.status.calledWith(404)).to.be.true;\nexpect(res.json.calledWith({\n    code: 404,\n    message: &#x27;Tipo de producto no encontrado&#x27;,\n    data: null\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4224d075-5de6-4f8f-b89f-f7a8a05d1d7b&quot;,&quot;parentUUID&quot;:&quot;70a69205-c6a7-4bee-8d10-20f9a5851bea&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Debería manejar errores al eliminar un tipo de producto&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de tipos de productos Método DELETE: Elimina un tipo de producto Debería manejar errores al eliminar un tipo de producto&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.stub(TipoProducto, &#x27;delete&#x27;).rejects(new Error(&#x27;Error al eliminar el tipo de producto&#x27;));\nconst req = { params: { id: 1 } };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait TipoProductoController.deleteTipoProducto(req, res);\nexpect(res.status.calledWith(500)).to.be.true;\nexpect(res.json.calledWith({\n    code: 500,\n    message: &#x27;Error al eliminar el tipo de producto&#x27;,\n    data: null\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c3a61c9e-c23d-4dcc-b265-48f12b3743eb&quot;,&quot;parentUUID&quot;:&quot;70a69205-c6a7-4bee-8d10-20f9a5851bea&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;1e238d08-9480-448a-adef-9c73075fb317&quot;,&quot;4224d075-5de6-4f8f-b89f-f7a8a05d1d7b&quot;,&quot;c3a61c9e-c23d-4dcc-b265-48f12b3743eb&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;b1a91cbe-0f03-4a2f-804f-b3874121de34&quot;,&quot;title&quot;:&quot;Pruebas del controlador de usuarios&quot;,&quot;fullFile&quot;:&quot;D:\\4toCuatri\\DOCKER\\powerclean\\tests\\usuarioController.test.js&quot;,&quot;file&quot;:&quot;\\tests\\usuarioController.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after each\&quot; hook in \&quot;Pruebas del controlador de usuarios\&quot;&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de usuarios \&quot;after each\&quot; hook in \&quot;Pruebas del controlador de usuarios\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;10bf01e4-825e-4440-b012-7e2f5fedcf60&quot;,&quot;parentUUID&quot;:&quot;b1a91cbe-0f03-4a2f-804f-b3874121de34&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;83e8e35b-0ede-4130-90c5-63e1e26beea4&quot;,&quot;title&quot;:&quot;Método GET: Obtiene todos los usuarios&quot;,&quot;fullFile&quot;:&quot;D:\\4toCuatri\\DOCKER\\powerclean\\tests\\usuarioController.test.js&quot;,&quot;file&quot;:&quot;\\tests\\usuarioController.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Debería obtener todos los usuarios exitosamente&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de usuarios Método GET: Obtiene todos los usuarios Debería obtener todos los usuarios exitosamente&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const mockUsuarios = [\n    { id: 1, nombre: &#x27;Juan Pérez&#x27;, email: &#x27;juan@example.com&#x27; },\n    { id: 2, nombre: &#x27;Ana Gómez&#x27;, email: &#x27;ana@example.com&#x27; }\n];\nsinon.stub(Usuario, &#x27;findAll&#x27;).resolves(mockUsuarios);\nconst req = { headers: { Authorization: &#x27;powerclean&#x27; } };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait UsuarioController.getAllUsuarios(req, res);\nexpect(res.status.calledWith(200)).to.be.true;\nexpect(res.json.calledWith({\n    code: 200,\n    message: &#x27;Operación exitosa&#x27;,\n    data: mockUsuarios\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d8783825-b61c-4a0a-9505-811ad48815bd&quot;,&quot;parentUUID&quot;:&quot;83e8e35b-0ede-4130-90c5-63e1e26beea4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Debería manejar errores al obtener los usuarios&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de usuarios Método GET: Obtiene todos los usuarios Debería manejar errores al obtener los usuarios&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.stub(Usuario, &#x27;findAll&#x27;).rejects(new Error(&#x27;Error de base de datos&#x27;));\nconst req = { headers: { Authorization: &#x27;powerclean&#x27; } };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait UsuarioController.getAllUsuarios(req, res);\nexpect(res.status.calledWith(500)).to.be.true;\nexpect(res.json.calledWith({\n    code: 500,\n    message: &#x27;Error de base de datos&#x27;,\n    data: null\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cfc026e8-c034-4582-8dec-71e506d0695a&quot;,&quot;parentUUID&quot;:&quot;83e8e35b-0ede-4130-90c5-63e1e26beea4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;d8783825-b61c-4a0a-9505-811ad48815bd&quot;,&quot;cfc026e8-c034-4582-8dec-71e506d0695a&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;9080f22b-ec7a-40bf-af86-b218e4c3a23f&quot;,&quot;title&quot;:&quot;Método DELETE: Elimina un usuario&quot;,&quot;fullFile&quot;:&quot;D:\\4toCuatri\\DOCKER\\powerclean\\tests\\usuarioController.test.js&quot;,&quot;file&quot;:&quot;\\tests\\usuarioController.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Debería manejar errores al eliminar un usuario&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de usuarios Método DELETE: Elimina un usuario Debería manejar errores al eliminar un usuario&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.stub(Usuario, &#x27;delete&#x27;).rejects(new Error(&#x27;Error al eliminar el usuario&#x27;));\nconst req = { params: { id: 1 }, headers: { Authorization: &#x27;powerclean&#x27; } };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait UsuarioController.delete(req, res);\nexpect(res.status.calledWith(500)).to.be.true;\nexpect(res.json.calledWith({\n    code: 500,\n    message: &#x27;Error al eliminar el usuario&#x27;,\n    data: null\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;dd2abddf-5931-4694-92de-b7151276f3c0&quot;,&quot;parentUUID&quot;:&quot;9080f22b-ec7a-40bf-af86-b218e4c3a23f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;dd2abddf-5931-4694-92de-b7151276f3c0&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;d12170e9-188b-43ec-a7ca-ab40fb6783ef&quot;,&quot;title&quot;:&quot;Método GET: Genera y descarga un archivo Excel con la lista de usuarios&quot;,&quot;fullFile&quot;:&quot;D:\\4toCuatri\\DOCKER\\powerclean\\tests\\usuarioController.test.js&quot;,&quot;file&quot;:&quot;\\tests\\usuarioController.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Debería generar y descargar el archivo Excel exitosamente&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de usuarios Método GET: Genera y descarga un archivo Excel con la lista de usuarios Debería generar y descargar el archivo Excel exitosamente&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const mockUsuarios = [\n    { id: 1, nombre: &#x27;Juan Pérez&#x27;, email: &#x27;juan@example.com&#x27; },\n    { id: 2, nombre: &#x27;Ana Gómez&#x27;, email: &#x27;ana@example.com&#x27; }\n];\nsinon.stub(Usuario, &#x27;generarExcel&#x27;).resolves(mockUsuarios);\nconst req = { headers: { Authorization: &#x27;powerclean&#x27; } };\nconst res = {\n    setHeader: sinon.stub(),\n    send: sinon.stub()\n};\nawait UsuarioController.downloadUsuariosExcel(req, res);\nexpect(res.setHeader.calledWith(&#x27;Content-Disposition&#x27;, &#x27;attachment; filename=usuarios.xlsx&#x27;)).to.be.true;\nexpect(res.setHeader.calledWith(&#x27;Content-Type&#x27;, &#x27;application/vnd.openxmlformats-officedocument.spreadsheetml.sheet&#x27;)).to.be.true;\nexpect(res.send.called).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d06df6bd-057a-4486-be68-14c5d1d61254&quot;,&quot;parentUUID&quot;:&quot;d12170e9-188b-43ec-a7ca-ab40fb6783ef&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;d06df6bd-057a-4486-be68-14c5d1d61254&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:15,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;e518b054-8623-4e51-9c77-784e33cbf2b9&quot;,&quot;title&quot;:&quot;Pruebas del controlador de ventas&quot;,&quot;fullFile&quot;:&quot;D:\\4toCuatri\\DOCKER\\powerclean\\tests\\ventasController.test.js&quot;,&quot;file&quot;:&quot;\\tests\\ventasController.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after each\&quot; hook in \&quot;Pruebas del controlador de ventas\&quot;&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de ventas \&quot;after each\&quot; hook in \&quot;Pruebas del controlador de ventas\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1eb90585-9d0b-45db-a67d-a768044ff89f&quot;,&quot;parentUUID&quot;:&quot;e518b054-8623-4e51-9c77-784e33cbf2b9&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;699ce209-4457-4b25-9aa6-0945f0749b72&quot;,&quot;title&quot;:&quot;Método GET: Obtiene todas las ventas&quot;,&quot;fullFile&quot;:&quot;D:\\4toCuatri\\DOCKER\\powerclean\\tests\\ventasController.test.js&quot;,&quot;file&quot;:&quot;\\tests\\ventasController.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Debería obtener todas las ventas exitosamente&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de ventas Método GET: Obtiene todas las ventas Debería obtener todas las ventas exitosamente&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const mockVentas = [\n    { id: 1, folioVenta: &#x27;V001&#x27;, total: 100 },\n    { id: 2, folioVenta: &#x27;V002&#x27;, total: 200 }\n];\nsinon.stub(Venta, &#x27;findAll&#x27;).resolves(mockVentas);\nconst req = { headers: { Authorization: &#x27;powerclean&#x27; } };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait VentaController.getAllVentas(req, res);\nexpect(res.status.calledWith(200)).to.be.true;\nexpect(res.json.calledWith({\n    code: 200,\n    message: &#x27;Operación exitosa&#x27;,\n    data: mockVentas\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b2909823-73fb-4146-85f2-5f7c3b7d3af0&quot;,&quot;parentUUID&quot;:&quot;699ce209-4457-4b25-9aa6-0945f0749b72&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Debería manejar errores al obtener las ventas&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de ventas Método GET: Obtiene todas las ventas Debería manejar errores al obtener las ventas&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.stub(Venta, &#x27;findAll&#x27;).rejects(new Error(&#x27;Error de base de datos&#x27;));\nconst req = { headers: { Authorization: &#x27;powerclean&#x27; } };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait VentaController.getAllVentas(req, res);\nexpect(res.status.calledWith(500)).to.be.true;\nexpect(res.json.calledWith({\n    code: 500,\n    message: &#x27;Error de base de datos&#x27;,\n    data: null\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;889bef5a-d7a5-48cb-b0b5-18c1ad6d8d77&quot;,&quot;parentUUID&quot;:&quot;699ce209-4457-4b25-9aa6-0945f0749b72&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;b2909823-73fb-4146-85f2-5f7c3b7d3af0&quot;,&quot;889bef5a-d7a5-48cb-b0b5-18c1ad6d8d77&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:3,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;9a12aadf-a77d-47c9-b125-88aac4d80e4d&quot;,&quot;title&quot;:&quot;Método GET: Buscar ventas por todos los parámetros&quot;,&quot;fullFile&quot;:&quot;D:\\4toCuatri\\DOCKER\\powerclean\\tests\\ventasController.test.js&quot;,&quot;file&quot;:&quot;\\tests\\ventasController.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Debería buscar ventas exitosamente&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de ventas Método GET: Buscar ventas por todos los parámetros Debería buscar ventas exitosamente&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const searchString = &#x27;V001&#x27;;\nconst mockVentas = [{ id: 1, folioVenta: &#x27;V001&#x27;, total: 100 }];\nsinon.stub(Venta, &#x27;searchAllColumns&#x27;).resolves(mockVentas);\nconst req = { params: { q: searchString }, headers: { Authorization: &#x27;powerclean&#x27; } };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait VentaController.searchAllColumnsVentas(req, res);\nexpect(res.status.calledWith(200)).to.be.true;\nexpect(res.json.calledWith({\n    code: 200,\n    message: &#x27;Operación exitosa&#x27;,\n    data: mockVentas\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;444ee59a-a929-4186-bfa9-9eca90e9a343&quot;,&quot;parentUUID&quot;:&quot;9a12aadf-a77d-47c9-b125-88aac4d80e4d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Debería devolver un error si el parámetro \&quot;q\&quot; es obligatorio&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de ventas Método GET: Buscar ventas por todos los parámetros Debería devolver un error si el parámetro \&quot;q\&quot; es obligatorio&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const req = { params: {}, headers: { Authorization: &#x27;powerclean&#x27; } };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait VentaController.searchAllColumnsVentas(req, res);\nexpect(res.status.calledWith(400)).to.be.true;\nexpect(res.json.calledWith({\n    code: 400,\n    message: \&quot;El parámetro &#x27;q&#x27; es obligatorio\&quot;,\n    data: null\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bdcef286-9c78-4da7-8834-ee0218954431&quot;,&quot;parentUUID&quot;:&quot;9a12aadf-a77d-47c9-b125-88aac4d80e4d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;444ee59a-a929-4186-bfa9-9eca90e9a343&quot;,&quot;bdcef286-9c78-4da7-8834-ee0218954431&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;cf82590c-33bd-4747-9da2-38908e056d4d&quot;,&quot;title&quot;:&quot;Método POST: Crea una nueva venta&quot;,&quot;fullFile&quot;:&quot;D:\\4toCuatri\\DOCKER\\powerclean\\tests\\ventasController.test.js&quot;,&quot;file&quot;:&quot;\\tests\\ventasController.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Debería crear una venta exitosamente&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de ventas Método POST: Crea una nueva venta Debería crear una venta exitosamente&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const nuevaVenta = { id: 1, folioVenta: &#x27;V003&#x27;, total: 300 };\nsinon.stub(Venta, &#x27;create&#x27;).resolves(nuevaVenta);\nconst req = { body: { folioVenta: &#x27;V003&#x27;, total: 300 }, headers: { Authorization: &#x27;powerclean&#x27; } };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait VentaController.createVenta(req, res);\nexpect(res.status.calledWith(201)).to.be.true;\nexpect(res.json.calledWith({\n    code: 201,\n    message: &#x27;Venta creada exitosamente&#x27;,\n    data: nuevaVenta\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;dbca45e5-5639-4407-b564-2feaa4ebd559&quot;,&quot;parentUUID&quot;:&quot;cf82590c-33bd-4747-9da2-38908e056d4d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Debería manejar errores al crear una venta&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de ventas Método POST: Crea una nueva venta Debería manejar errores al crear una venta&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.stub(Venta, &#x27;create&#x27;).rejects(new Error(&#x27;Error al crear la venta&#x27;));\nconst req = { body: { folioVenta: &#x27;V003&#x27;, total: 300 }, headers: { Authorization: &#x27;powerclean&#x27; } };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait VentaController.createVenta(req, res);\nexpect(res.status.calledWith(500)).to.be.true;\nexpect(res.json.calledWith({\n    code: 500,\n    message: &#x27;Error al crear la venta&#x27;,\n    data: null\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;becaf117-6fab-4b30-996c-88280cffd16e&quot;,&quot;parentUUID&quot;:&quot;cf82590c-33bd-4747-9da2-38908e056d4d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;dbca45e5-5639-4407-b564-2feaa4ebd559&quot;,&quot;becaf117-6fab-4b30-996c-88280cffd16e&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;a2bccb14-7285-464c-8f7f-9847dacf7bda&quot;,&quot;title&quot;:&quot;Método GET: Obtiene una venta por ID (FolioVenta)&quot;,&quot;fullFile&quot;:&quot;D:\\4toCuatri\\DOCKER\\powerclean\\tests\\ventasController.test.js&quot;,&quot;file&quot;:&quot;\\tests\\ventasController.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Debería obtener una venta por ID exitosamente&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de ventas Método GET: Obtiene una venta por ID (FolioVenta) Debería obtener una venta por ID exitosamente&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const mockVenta = { id: 1, folioVenta: &#x27;V001&#x27;, total: 100 };\nsinon.stub(Venta, &#x27;findById&#x27;).resolves(mockVenta);\nconst req = { params: { id: &#x27;1&#x27; }, headers: { Authorization: &#x27;powerclean&#x27; } };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait VentaController.getVentaById(req, res);\nexpect(res.status.calledWith(200)).to.be.true;\nexpect(res.json.calledWith({\n    code: 200,\n    message: &#x27;Operación exitosa&#x27;,\n    data: mockVenta\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;17fa3a9f-68fd-4dce-acc4-77b7976ce25b&quot;,&quot;parentUUID&quot;:&quot;a2bccb14-7285-464c-8f7f-9847dacf7bda&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Debería devolver un error 404 si la venta no existe&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de ventas Método GET: Obtiene una venta por ID (FolioVenta) Debería devolver un error 404 si la venta no existe&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.stub(Venta, &#x27;findById&#x27;).resolves(null);\nconst req = { params: { id: &#x27;999&#x27; }, headers: { Authorization: &#x27;powerclean&#x27; } };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait VentaController.getVentaById(req, res);\nexpect(res.status.calledWith(404)).to.be.true;\nexpect(res.json.calledWith({\n    code: 404,\n    message: &#x27;Operación de venta no encontrada&#x27;,\n    data: null\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;10f09b39-758f-4258-a99c-1713afc64c6f&quot;,&quot;parentUUID&quot;:&quot;a2bccb14-7285-464c-8f7f-9847dacf7bda&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;17fa3a9f-68fd-4dce-acc4-77b7976ce25b&quot;,&quot;10f09b39-758f-4258-a99c-1713afc64c6f&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;004f5d05-2614-4d5a-8732-45c594551cb5&quot;,&quot;title&quot;:&quot;Método PUT: Actualiza una venta&quot;,&quot;fullFile&quot;:&quot;D:\\4toCuatri\\DOCKER\\powerclean\\tests\\ventasController.test.js&quot;,&quot;file&quot;:&quot;\\tests\\ventasController.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Debería actualizar una venta exitosamente&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de ventas Método PUT: Actualiza una venta Debería actualizar una venta exitosamente&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const ventaActualizada = { id: 1, folioVenta: &#x27;V001&#x27;, total: 150 };\nsinon.stub(Venta, &#x27;update&#x27;).resolves(ventaActualizada);\nconst req = { params: { id: &#x27;1&#x27; }, body: { total: 150 }, headers: { Authorization: &#x27;powerclean&#x27; } };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait VentaController.updateVenta(req, res);\nexpect(res.status.calledWith(200)).to.be.true;\nexpect(res.json.calledWith({\n    code: 200,\n    message: &#x27;Venta actualizada exitosamente&#x27;,\n    data: ventaActualizada\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b4476c1b-3db2-41d5-be61-ae3c8ec50be0&quot;,&quot;parentUUID&quot;:&quot;004f5d05-2614-4d5a-8732-45c594551cb5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Debería devolver un error 404 si la venta no existe&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de ventas Método PUT: Actualiza una venta Debería devolver un error 404 si la venta no existe&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.stub(Venta, &#x27;update&#x27;).resolves(null);\nconst req = { params: { id: &#x27;999&#x27; }, body: { total: 150 }, headers: { Authorization: &#x27;powerclean&#x27; } };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait VentaController.updateVenta(req, res);\nexpect(res.status.calledWith(404)).to.be.true;\nexpect(res.json.calledWith({\n    code: 404,\n    message: &#x27;Operación de venta no encontrada&#x27;,\n    data: null\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;848d4f6d-29b9-47f3-bddc-644aa1ddd6fb&quot;,&quot;parentUUID&quot;:&quot;004f5d05-2614-4d5a-8732-45c594551cb5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;b4476c1b-3db2-41d5-be61-ae3c8ec50be0&quot;,&quot;848d4f6d-29b9-47f3-bddc-644aa1ddd6fb&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;2e77049b-5695-4a35-9475-aa926c164040&quot;,&quot;title&quot;:&quot;Método DELETE: Elimina una venta&quot;,&quot;fullFile&quot;:&quot;D:\\4toCuatri\\DOCKER\\powerclean\\tests\\ventasController.test.js&quot;,&quot;file&quot;:&quot;\\tests\\ventasController.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Debería eliminar una venta exitosamente&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de ventas Método DELETE: Elimina una venta Debería eliminar una venta exitosamente&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const ventaEliminada = { id: 1, folioVenta: &#x27;V001&#x27;, total: 100 };\nsinon.stub(Venta, &#x27;delete&#x27;).resolves(ventaEliminada);\nconst req = { params: { id: &#x27;1&#x27; }, headers: { Authorization: &#x27;powerclean&#x27; } };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait VentaController.deleteVenta(req, res);\nexpect(res.status.calledWith(200)).to.be.true;\nexpect(res.json.calledWith({\n    code: 200,\n    message: &#x27;Venta eliminada exitosamente&#x27;,\n    data: null\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3c8daa24-f1f8-4b79-b749-2bbd8b59a249&quot;,&quot;parentUUID&quot;:&quot;2e77049b-5695-4a35-9475-aa926c164040&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Debería devolver un error 404 si la venta no existe&quot;,&quot;fullTitle&quot;:&quot;Pruebas del controlador de ventas Método DELETE: Elimina una venta Debería devolver un error 404 si la venta no existe&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.stub(Venta, &#x27;delete&#x27;).resolves(false);\nconst req = { params: { id: &#x27;999&#x27; }, headers: { Authorization: &#x27;powerclean&#x27; } };\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};\nawait VentaController.deleteVenta(req, res);\nexpect(res.status.calledWith(404)).to.be.true;\nexpect(res.json.calledWith({\n    code: 404,\n    message: &#x27;Operación de venta no encontrada&#x27;,\n    data: null\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;99a4cede-2721-45a2-82a8-1c864b082337&quot;,&quot;parentUUID&quot;:&quot;2e77049b-5695-4a35-9475-aa926c164040&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;3c8daa24-f1f8-4b79-b749-2bbd8b59a249&quot;,&quot;99a4cede-2721-45a2-82a8-1c864b082337&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:true,&quot;rootEmpty&quot;:true,&quot;_timeout&quot;:2000}],&quot;meta&quot;:{&quot;mocha&quot;:{&quot;version&quot;:&quot;10.7.3&quot;},&quot;mochawesome&quot;:{&quot;options&quot;:{&quot;quiet&quot;:false,&quot;reportFilename&quot;:&quot;mochawesome&quot;,&quot;saveHtml&quot;:true,&quot;saveJson&quot;:true,&quot;consoleReporter&quot;:&quot;spec&quot;,&quot;useInlineDiffs&quot;:false,&quot;code&quot;:true},&quot;version&quot;:&quot;7.1.3&quot;},&quot;marge&quot;:{&quot;version&quot;:&quot;6.2.0&quot;}}}" data-config="{&quot;reportFilename&quot;:&quot;mochawesome&quot;,&quot;reportDir&quot;:&quot;mochawesome-report&quot;,&quot;reportTitle&quot;:&quot;powerclean&quot;,&quot;reportPageTitle&quot;:&quot;Mochawesome Report&quot;,&quot;inline&quot;:false,&quot;inlineAssets&quot;:false,&quot;cdn&quot;:false,&quot;charts&quot;:false,&quot;enableCharts&quot;:false,&quot;code&quot;:true,&quot;enableCode&quot;:true,&quot;autoOpen&quot;:false,&quot;overwrite&quot;:true,&quot;timestamp&quot;:false,&quot;ts&quot;:false,&quot;showPassed&quot;:true,&quot;showFailed&quot;:true,&quot;showPending&quot;:true,&quot;showSkipped&quot;:false,&quot;showHooks&quot;:&quot;failed&quot;,&quot;saveJson&quot;:true,&quot;saveHtml&quot;:true,&quot;dev&quot;:false,&quot;assetsDir&quot;:&quot;mochawesome-report\\assets&quot;,&quot;jsonFile&quot;:&quot;D:\\4toCuatri\\DOCKER\\powerclean\\mochawesome-report\\mochawesome.json&quot;,&quot;htmlFile&quot;:&quot;D:\\4toCuatri\\DOCKER\\powerclean\\mochawesome-report\\mochawesome.html&quot;}"><div id="report"></div><script src="assets\app.js"></script></body></html>